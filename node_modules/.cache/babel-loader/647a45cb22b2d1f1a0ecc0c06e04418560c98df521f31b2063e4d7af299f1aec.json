{"ast":null,"code":"import _objectSpread from\"/Users/priyas/Desktop/untangle-platform/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{Clock,ArrowRight,RefreshCw,Upload}from'lucide-react';import{motion,AnimatePresence}from'framer-motion';import{useAuth}from'../contexts/AuthContext';import axios from'axios';import{buildApiUrl}from'../config';import toast from'react-hot-toast';// Note: Food page has its own DailyMealKPIs. Dashboard renders its own compact summary.\nimport JournalTrends from'../components/journal/JournalTrends';import{FinancialOverview}from'../components/dashboard';import{Button,Card,Tooltip,MonthGrid}from'../components/ui';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const{user}=useAuth();const[todayTasks,setTodayTasks]=useState([]);const[loading,setLoading]=useState(true);const[quoteIndex,setQuoteIndex]=useState(0);const[welcomeImage,setWelcomeImage]=useState('/welcome.png');const[showImageUpload,setShowImageUpload]=useState(false);const[dashboardQuotes,setDashboardQuotes]=useState([]);const[quotesLoading,setQuotesLoading]=useState(true);const[musicLink,setMusicLink]=useState('https://youtu.be/w0o8JCxjjpM?si=OCQ4TjYlkC8sTpcy');const[showMusicInput,setShowMusicInput]=useState(false);const[musicPlatform,setMusicPlatform]=useState('youtube');const[isPlaying,setIsPlaying]=useState(false);const[isMusicLoading,setIsMusicLoading]=useState(false);const youtubePlayerRef=useRef(null);// Year grid data\nconst[goals,setGoals]=useState([]);const[habits,setHabits]=useState([]);const[mindfulnessCheckins,setMindfulnessCheckins]=useState([]);const[tasks,setTasks]=useState([]);const[meals,setMeals]=useState([]);const[expenses,setExpenses]=useState([]);const[selectedDate,setSelectedDate]=useState(new Date());const[isDataLoading,setIsDataLoading]=useState(true);const[youtubePlayer,setYoutubePlayer]=useState(null);const[showDaySummary,setShowDaySummary]=useState(false);const[selectedDayData,setSelectedDayData]=useState(null);// Safe arrays for MonthGrid compatibility\nconst safeHabits=Array.isArray(habits)?habits:[];const safeGoals=Array.isArray(goals)?goals:[];const safeMindfulnessCheckins=Array.isArray(mindfulnessCheckins)?mindfulnessCheckins:[];const safeTasks=Array.isArray(tasks)?tasks:[];const safeMeals=Array.isArray(meals)?meals:[];const safeExpenses=Array.isArray(expenses)?expenses:[];// Image gallery state\nconst[imageGallery,setImageGallery]=useState([{id:'nature',src:'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',title:\"Nature's Wisdom\",subtitle:\"Find peace in simplicity\",color:'#1E49C9'},{id:'abstract',src:'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',title:\"Creative Flow\",subtitle:\"Embrace the unknown\",color:'#FFD200'},{id:'minimalist',src:'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',title:\"Less is More\",subtitle:\"Simplicity breeds clarity\",color:'#1E49C9'},{id:'urban',src:'https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',title:\"Urban Energy\",subtitle:\"Thrive in the chaos\",color:'#3EA6FF'},{id:'zen',src:'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',title:\"Inner Peace\",subtitle:\"Find your center\",color:'#1E49C9'}]);// Debug: Log state changes\nuseEffect(()=>{console.log('Dashboard showImageUpload changed to:',showImageUpload);},[showImageUpload]);useEffect(()=>{const loadAllData=async()=>{setIsDataLoading(true);try{await Promise.all([fetchData(),fetchDashboardQuotes(),loadSavedMusicLink(),loadGoals(),loadHabits(),loadMindfulnessCheckins(),loadTasks(),loadMeals(),loadExpenses()]);}catch(error){console.error('Error loading dashboard data:',error);}finally{setIsDataLoading(false);}};loadAllData();// Load YouTube Player API\nloadYouTubeAPI();},[]);const loadYouTubeAPI=()=>{if(window.YT){return;}const script=document.createElement('script');script.src='https://www.youtube.com/iframe_api';script.async=true;document.head.appendChild(script);window.onYouTubeIframeAPIReady=()=>{console.log('YouTube API loaded');};};const loadSavedMusicLink=()=>{const savedLink=localStorage.getItem('dashboardMusicLink');if(savedLink){setMusicLink(savedLink);// Detect platform from the saved link\nconst link=savedLink.trim();if(link.includes('youtube.com')||link.includes('youtu.be')){setMusicPlatform('youtube');// Initialize YouTube player for saved link\nconst videoId=extractYouTubeId(link);if(videoId){setIsMusicLoading(true);initializeYouTubePlayer(videoId);}}else if(link.includes('spotify.com')){setMusicPlatform('spotify');}else if(link.includes('music.apple.com')){setMusicPlatform('apple');}else{setMusicPlatform('spotify');// Default fallback\n}setShowMusicInput(false);// Show the player instead of input\n}else{// If no saved music, save the default music to localStorage\nconst defaultLink='https://youtu.be/w0o8JCxjjpM?si=OCQ4TjYlkC8sTpcy';localStorage.setItem('dashboardMusicLink',defaultLink);localStorage.setItem('dashboardMusicPlatform','youtube');setMusicLink(defaultLink);setMusicPlatform('youtube');setIsMusicLoading(true);initializeYouTubePlayer('w0o8JCxjjpM');}};const fetchData=async()=>{try{const token=localStorage.getItem('token');if(!token)return;const response=await axios.get(buildApiUrl('/api/tasks'),{headers:{Authorization:\"Bearer \".concat(token)},params:{date:new Date().toISOString().split('T')[0],status:'completed'}});setTodayTasks(response.data.tasks||[]);}catch(error){console.error('Error fetching tasks:',error);}finally{setLoading(false);}};const fetchDashboardQuotes=async()=>{try{const token=localStorage.getItem('token');if(!token)return;const response=await axios.get(buildApiUrl('/api/book-documents/quotes/all'),{headers:{Authorization:\"Bearer \".concat(token)}});console.log('Dashboard quotes response:',response.data);setDashboardQuotes(response.data||[]);}catch(error){console.error('Error fetching dashboard quotes:',error);}finally{setQuotesLoading(false);}};// Load year grid data\nconst loadGoals=async()=>{try{const token=localStorage.getItem('token');if(!token)return;const response=await axios.get(buildApiUrl('/api/goals'),{headers:{Authorization:\"Bearer \".concat(token)}});setGoals(response.data||[]);}catch(error){console.error('Error loading goals:',error);}};const loadHabits=async()=>{try{const token=localStorage.getItem('token');if(!token)return;const response=await axios.get(buildApiUrl('/api/habits?all=true'),{headers:{Authorization:\"Bearer \".concat(token)}});setHabits(response.data||[]);}catch(error){console.error('Error loading habits:',error);}};const loadMindfulnessCheckins=async()=>{try{const token=localStorage.getItem('token');if(!token)return;const response=await axios.get(buildApiUrl('/api/mindfulness'),{headers:{Authorization:\"Bearer \".concat(token)}});setMindfulnessCheckins(response.data||[]);}catch(error){console.error('Error loading mindfulness checkins:',error);}};const loadTasks=async()=>{try{const token=localStorage.getItem('token');if(!token){console.log('No token found, setting tasks to empty array');setTasks([]);return;}console.log('Loading tasks...');const response=await axios.get(buildApiUrl('/api/tasks'),{headers:{Authorization:\"Bearer \".concat(token)}});console.log('Tasks response:',response.data);setTasks(response.data&&response.data.tasks||[]);}catch(error){console.error('Error loading tasks:',error);console.log('Setting tasks to empty array due to error');setTasks([]);}};const loadMeals=async()=>{try{const token=localStorage.getItem('token');if(!token){console.log('No token found, setting meals to empty array');setMeals([]);return;}console.log('Loading meals...');const response=await axios.get(buildApiUrl('/api/meals'),{headers:{Authorization:\"Bearer \".concat(token)}});console.log('Meals response:',response.data);setMeals(response.data&&response.data.meals||[]);}catch(error){console.error('Error loading meals:',error);console.log('Setting meals to empty array due to error');setMeals([]);}};const loadExpenses=async()=>{try{const token=localStorage.getItem('token');if(!token){console.log('No token found, setting expenses to empty array');setExpenses([]);return;}console.log('Loading expenses...');const response=await axios.get(buildApiUrl('/api/finance/expenses'),{headers:{Authorization:\"Bearer \".concat(token)}});console.log('Expenses response:',response.data);setExpenses(response.data||[]);}catch(error){console.error('Error loading expenses:',error);console.log('Setting expenses to empty array due to error');setExpenses([]);}};// ===== Dashboard-specific daily nutrition helpers (separate from Food page) =====\nconst getTodayMeals=()=>{const todayStr=new Date().toLocaleDateString('en-CA');return safeMeals.filter(meal=>new Date(meal.ts).toLocaleDateString('en-CA')===todayStr);};const getTodayNutritionTotals=()=>{const dayMeals=getTodayMeals();return dayMeals.reduce((acc,meal)=>{const totals=meal.computed&&meal.computed.totals?meal.computed.totals:{};Object.keys(totals).forEach(key=>{acc[key]=(acc[key]||0)+(totals[key]||0);});return acc;},{});};const getTodayEffectsAggregate=()=>{const dayMeals=getTodayMeals();return dayMeals.reduce((acc,meal)=>{const effects=meal.computed&&meal.computed.effects?meal.computed.effects:{};Object.entries(effects).forEach(_ref=>{let[effectKey,effectData]=_ref;if(!acc[effectKey]){acc[effectKey]={score:0,why:[]};}acc[effectKey].score+=effectData.score||0;if(Array.isArray(effectData.why)){effectData.why.forEach(reason=>{if(!acc[effectKey].why.includes(reason))acc[effectKey].why.push(reason);});}});return acc;},{});};// Quote of the Day functions\nconst quotes=[// Osho quotes\n\"Be realistic: Plan for a miracle.\",\"Life is not a problem to be solved, but a reality to be experienced.\",\"The moment you accept yourself, you become beautiful.\",\"Truth is not something outside to be discovered, it is something inside to be realized.\",\"Drop the idea of becoming someone, because you are already a masterpiece.\",// Jiddu Krishnamurti quotes\n\"The highest form of intelligence is the ability to observe without evaluating.\",\"Freedom is not a reaction; freedom is not a choice. Freedom is found in the choiceless awareness of our daily existence and activity.\",\"Truth is a pathless land, and you cannot approach it by any path whatsoever, by any religion, by any sect.\",\"It is no measure of health to be well adjusted to a profoundly sick society.\",\"The ability to observe without evaluating is the highest form of intelligence.\",// Mahatma Gandhi quotes\n\"Be the change you wish to see in the world.\",\"The future depends on what you do today.\",\"Happiness is when what you think, what you say, and what you do are in harmony.\",\"Live as if you were to die tomorrow. Learn as if you were to live forever.\",\"The weak can never forgive. Forgiveness is the attribute of the strong.\",// Swami Vivekananda quotes\n\"Arise, awake, and stop not until the goal is reached.\",\"You cannot believe in God until you believe in yourself.\",\"The greatest sin is to think yourself weak.\",\"Take up one idea. Make that one idea your life - think of it, dream of it, live on that idea.\",\"Strength is life, weakness is death.\"];const authors=[\"Osho\",\"Osho\",\"Osho\",\"Osho\",\"Osho\",\"Jiddu Krishnamurti\",\"Jiddu Krishnamurti\",\"Jiddu Krishnamurti\",\"Jiddu Krishnamurti\",\"Jiddu Krishnamurti\",\"Mahatma Gandhi\",\"Mahatma Gandhi\",\"Mahatma Gandhi\",\"Mahatma Gandhi\",\"Mahatma Gandhi\",\"Swami Vivekananda\",\"Swami Vivekananda\",\"Swami Vivekananda\",\"Swami Vivekananda\",\"Swami Vivekananda\"];const getQuoteOfTheDay=()=>{var _dashboardQuotes;const today=new Date();const dayOfYear=Math.floor((today-new Date(today.getFullYear(),0,0))/(1000*60*60*24));if(dashboardQuotes.length===0){// Fallback to hardcoded quotes if no dashboard quotes\nconst dailyIndex=dayOfYear%quotes.length;return quotes[(dailyIndex+quoteIndex)%quotes.length];}const dailyIndex=dayOfYear%dashboardQuotes.length;return((_dashboardQuotes=dashboardQuotes[(dailyIndex+quoteIndex)%dashboardQuotes.length])===null||_dashboardQuotes===void 0?void 0:_dashboardQuotes.content)||\"No quotes available\";};const getQuoteAuthor=()=>{var _dashboardQuotes2;const today=new Date();const dayOfYear=Math.floor((today-new Date(today.getFullYear(),0,0))/(1000*60*60*24));if(dashboardQuotes.length===0){// Fallback to hardcoded quotes if no dashboard quotes\nconst dailyIndex=dayOfYear%quotes.length;return authors[(dailyIndex+quoteIndex)%quotes.length];}const dailyIndex=dayOfYear%dashboardQuotes.length;return((_dashboardQuotes2=dashboardQuotes[(dailyIndex+quoteIndex)%dashboardQuotes.length])===null||_dashboardQuotes2===void 0?void 0:_dashboardQuotes2.bookAuthor)||\"Unknown\";};const refreshQuote=()=>{if(dashboardQuotes.length===0){setQuoteIndex(prev=>(prev+1)%quotes.length);}else{setQuoteIndex(prev=>(prev+1)%dashboardQuotes.length);}};const getCurrentQuoteNumber=()=>{const today=new Date();const dayOfYear=Math.floor((today-new Date(today.getFullYear(),0,0))/(1000*60*60*24));if(dashboardQuotes.length===0){const dailyIndex=dayOfYear%quotes.length;return(dailyIndex+quoteIndex)%quotes.length+1;}const dailyIndex=dayOfYear%dashboardQuotes.length;return(dailyIndex+quoteIndex)%dashboardQuotes.length+1;};const getQuoteSource=()=>{if(dashboardQuotes.length===0)return\"\";const today=new Date();const dayOfYear=Math.floor((today-new Date(today.getFullYear(),0,0))/(1000*60*60*24));const dailyIndex=dayOfYear%dashboardQuotes.length;const currentQuote=dashboardQuotes[(dailyIndex+quoteIndex)%dashboardQuotes.length];return(currentQuote===null||currentQuote===void 0?void 0:currentQuote.bookTitle)||\"\";};const handleImageUpload=e=>{console.log('Dashboard image upload triggered:',e.target.files);const file=e.target.files[0];if(file){console.log('Dashboard file selected:',file.name,file.type,file.size);if(file.type.startsWith('image/')){const reader=new FileReader();reader.onload=event=>{console.log('Dashboard file read successfully, updating image');setWelcomeImage(event.target.result);setShowImageUpload(false);toast.success('Welcome image updated successfully!');};reader.readAsDataURL(file);}else{console.log('Dashboard invalid file type:',file.type);toast.error('Please select a valid image file');}}else{console.log('Dashboard no file selected');}};const initializeYouTubePlayer=videoId=>{if(window.YT&&window.YT.Player){try{const player=new window.YT.Player('youtube-player',{height:'1',width:'1',videoId:videoId,playerVars:{'playsinline':1,'controls':0,'showinfo':0,'rel':0,'modestbranding':1,'loop':1,'playlist':videoId},events:{'onReady':event=>{console.log('YouTube player ready');setYoutubePlayer(event.target);setIsMusicLoading(false);},'onError':event=>{console.error('YouTube player error:',event.data);toast.error('Failed to load music player. Please check your internet connection.');setIsMusicLoading(false);}}});}catch(error){console.error('Error initializing YouTube player:',error);toast.error('Failed to initialize music player.');setIsMusicLoading(false);}}else{console.log('YouTube API not ready, retrying...');setTimeout(()=>initializeYouTubePlayer(videoId),1000);}};const handleMusicLinkSubmit=()=>{if(musicLink.trim()){// Validate and process the music link\nconst link=musicLink.trim();if(link.includes('youtube.com')||link.includes('youtu.be')){setMusicPlatform('youtube');setIsMusicLoading(true);toast.success('YouTube link added!');// Initialize YouTube player\nconst videoId=extractYouTubeId(link);if(videoId){initializeYouTubePlayer(videoId);}}else if(link.includes('spotify.com')){setMusicPlatform('spotify');toast.success('Spotify link added!');}else if(link.includes('music.apple.com')){setMusicPlatform('apple');toast.success('Apple Music link added!');}else{toast.error('Please enter a valid YouTube, Spotify, or Apple Music link');return;}// Save to localStorage\nlocalStorage.setItem('dashboardMusicLink',link);localStorage.setItem('dashboardMusicPlatform',musicPlatform);setShowMusicInput(false);toast.success('Music link updated successfully!');}};const handleChangeMusic=()=>{setShowMusicInput(true);setMusicLink('');// Clear the current link when changing\nsetIsMusicLoading(false);setIsPlaying(false);};const handleRemoveMusic=()=>{setMusicLink('');setShowMusicInput(true);setIsMusicLoading(false);setIsPlaying(false);localStorage.removeItem('dashboardMusicLink');localStorage.removeItem('dashboardMusicPlatform');toast.success('Music link removed!');};const handlePlayPause=()=>{if(musicPlatform==='youtube'){if(youtubePlayer){try{if(isPlaying){youtubePlayer.pauseVideo();}else{youtubePlayer.playVideo();}setIsPlaying(!isPlaying);}catch(error){console.error('Error controlling YouTube player:',error);toast.error('Unable to control music player. Please try again.');}}else{// Fallback: open in new tab if player not ready\nhandleOpenInNewTab();}}else if(musicPlatform==='spotify'||musicPlatform==='apple'){// For Spotify and Apple Music, just open in new tab\nhandleOpenInNewTab();}else{setIsPlaying(!isPlaying);}};const handleOpenInNewTab=()=>{if(musicLink){window.open(musicLink,'_blank','noopener,noreferrer');}};const getEmbedUrl=()=>{if(!musicLink)return null;const link=musicLink.trim();console.log('Current music link:',link);if(link.includes('youtube.com')||link.includes('youtu.be')){const videoId=extractYouTubeId(link);console.log('Extracted video ID:',videoId);if(videoId){// Remove autoplay and add enablejsapi for control\nconst embedUrl=\"https://www.youtube.com/embed/\".concat(videoId,\"?controls=1&showinfo=0&rel=0&modestbranding=1&loop=1&playlist=\").concat(videoId,\"&enablejsapi=1\");console.log('Generated embed URL:',embedUrl);return embedUrl;}}else if(link.includes('spotify.com')){const spotifyData=extractSpotifyId(link);if(spotifyData){return\"https://open.spotify.com/embed/\".concat(spotifyData.type,\"/\").concat(spotifyData.id);}}else if(link.includes('music.apple.com')){const appleData=extractAppleMusicId(link);if(appleData){return\"https://embed.music.apple.com/us/album/\".concat(appleData.id);}}return null;};const extractYouTubeId=url=>{const regExp=/^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;const match=url.match(regExp);return match&&match[2].length===11?match[2]:null;};const extractSpotifyId=url=>{const match=url.match(/spotify\\.com\\/(track|album|playlist)\\/([a-zA-Z0-9]+)/);return match?{type:match[1],id:match[2]}:null;};const extractAppleMusicId=url=>{const match=url.match(/music\\.apple\\.com\\/.*\\/(album|song)\\/.*\\/(\\d+)/);return match?{type:match[1],id:match[2]}:null;};// Image card component\nconst ImageCard=_ref2=>{let{image,className=\"\",animationClass=\"\"}=_ref2;return/*#__PURE__*/_jsx(\"div\",{className:\"col-span-1 \".concat(className,\" \").concat(animationClass),children:/*#__PURE__*/_jsx(Card,{className:\"h-full overflow-hidden group cursor-pointer hover:shadow-2xl transition-all duration-500 hover:-translate-y-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-full bg-gradient-to-br from-[#1E49C9]/20 to-[#3EA6FF]/20\",children:[/*#__PURE__*/_jsx(\"img\",{src:image.src,alt:image.title,className:\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent flex items-end justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-white transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-jakarta text-lg font-semibold mb-1\",children:image.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm opacity-90\",children:image.subtitle})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 right-4 w-3 h-3 rounded-full animate-pulse-glow\",style:{backgroundColor:image.color}})]})})});};// Get time-based greeting\nconst getTimeBasedGreeting=()=>{const hour=new Date().getHours();if(hour>=5&&hour<12){return\"Good morning\";}else if(hour>=12&&hour<17){return\"Good afternoon\";}else if(hour>=17&&hour<21){return\"Good evening\";}else{return\"Good night\";}};// Get today's comprehensive score\nconst getTodaysScore=()=>{if(isDataLoading)return null;const today=new Date();const dateStr=today.toLocaleDateString('en-CA');// Calculate mindfulness score\nconst mindfulnessScore=safeMindfulnessCheckins.find(checkin=>{if(!checkin||!checkin.date)return false;const checkinDate=new Date(checkin.date).toLocaleDateString('en-CA');return dateStr===checkinDate;});let totalScore=0;const breakdown={mindfulness:0,goalProgress:0,habitCompletion:0,mealEffects:0,impulseBuyPenalty:0};// Mindfulness score (0-25)\nif(mindfulnessScore){// Use the pre-calculated totalScore from the database\nbreakdown.mindfulness=mindfulnessScore.totalScore||0;}// Goal progress score (0-20)\nconst completedTasksForGoals=safeTasks.filter(task=>{if(!task.goalIds||task.goalIds.length===0)return false;if(task.status!=='completed')return false;const taskDate=new Date(task.completedAt||task.updatedAt).toLocaleDateString('en-CA');return taskDate===dateStr;});if(completedTasksForGoals.length>0){breakdown.goalProgress=10;if(completedTasksForGoals.length>=2)breakdown.goalProgress+=5;if(completedTasksForGoals.length>=3)breakdown.goalProgress+=5;}// Habit completion score (0-15)\nlet completedCount=0;let totalCount=0;safeHabits.forEach(habit=>{if(!habit||!habit.startDate||!habit.endDate)return;const checkDate=new Date(today);checkDate.setHours(0,0,0,0);const startDate=new Date(habit.startDate);startDate.setHours(0,0,0,0);const endDate=new Date(habit.endDate);endDate.setHours(23,59,59,999);if(habit.isActive&&checkDate>=startDate&&checkDate<=endDate){var _habit$checkins;totalCount++;const checkin=(_habit$checkins=habit.checkins)===null||_habit$checkins===void 0?void 0:_habit$checkins.find(c=>{const checkinDate=new Date(c.date).toLocaleDateString('en-CA');return checkinDate===dateStr&&c.completed;});if(checkin)completedCount++;}});if(totalCount>0){const completionRate=completedCount/totalCount;breakdown.habitCompletion=Math.round(completionRate*15);}// Meal effects score (0-25)\nconst dayMeals=safeMeals.filter(meal=>{const mealDate=new Date(meal.ts).toLocaleDateString('en-CA');return mealDate===dateStr;});if(dayMeals.length>0){let totalMealScore=0;let mealCount=0;dayMeals.forEach(meal=>{var _meal$computed;if(!((_meal$computed=meal.computed)!==null&&_meal$computed!==void 0&&_meal$computed.effects))return;const effects=meal.computed.effects;let mealScore=0;const positiveEffects=['strength','antiInflammatory','immunity','gutFriendly','energizing'];positiveEffects.forEach(effect=>{var _effects$effect;if((_effects$effect=effects[effect])!==null&&_effects$effect!==void 0&&_effects$effect.score){mealScore+=Math.round(effects[effect].score/2);}});const negativeEffects=['inflammation','fatForming'];negativeEffects.forEach(effect=>{var _effects$effect2;if((_effects$effect2=effects[effect])!==null&&_effects$effect2!==void 0&&_effects$effect2.score){mealScore-=Math.round(effects[effect].score/2);}});totalMealScore+=Math.max(0,mealScore);mealCount++;});// Cap the meal effects score at 25 points total\nbreakdown.mealEffects=Math.min(Math.round(totalMealScore),25);}// Impulse buy penalty (0 to -10)\nconst dayExpenses=safeExpenses.filter(expense=>{const expenseDate=new Date(expense.date).toLocaleDateString('en-CA');return expenseDate===dateStr;});const impulseExpenses=dayExpenses.filter(expense=>expense.impulseBuy===true);if(impulseExpenses.length>0){let penalty=0;impulseExpenses.forEach(expense=>{if(expense.amount>1000)penalty+=3;else if(expense.amount>500)penalty+=2;else if(expense.amount>100)penalty+=1;else penalty+=0.5;});breakdown.impulseBuyPenalty=Math.min(penalty,10);}totalScore=Math.max(0,breakdown.mindfulness+breakdown.goalProgress+breakdown.habitCompletion+breakdown.mealEffects-breakdown.impulseBuyPenalty);return{totalScore,breakdown};};// Get detailed day data for popup\nconst getDetailedDayData=date=>{const dateStr=date.toLocaleDateString('en-CA');// Get mindfulness data for the day\nconst mindfulnessCheckin=safeMindfulnessCheckins.find(checkin=>{if(!checkin||!checkin.date)return false;const checkinDate=new Date(checkin.date).toLocaleDateString('en-CA');return dateStr===checkinDate;});// Get tasks completed on this day\nconst dayTasks=safeTasks.filter(task=>{if(task.status!=='completed')return false;const taskDate=new Date(task.completedAt||task.updatedAt).toLocaleDateString('en-CA');return taskDate===dateStr;});// Get habits completed on this day\nconst dayHabits=safeHabits.filter(habit=>{var _habit$checkins2;if(!habit.isActive)return false;const checkin=(_habit$checkins2=habit.checkins)===null||_habit$checkins2===void 0?void 0:_habit$checkins2.find(c=>{const checkinDate=new Date(c.date).toLocaleDateString('en-CA');return checkinDate===dateStr&&c.completed;});return!!checkin;});// Get meals logged on this day\nconst dayMeals=safeMeals.filter(meal=>{const mealDate=new Date(meal.ts).toLocaleDateString('en-CA');return mealDate===dateStr;});// Get expenses for this day\nconst dayExpenses=safeExpenses.filter(expense=>{const expenseDate=new Date(expense.date).toLocaleDateString('en-CA');return expenseDate===dateStr;});// Get journal entries for this day\nconst dayJournalEntries=[];// Add journal data if available\n// Calculate nutrition totals\nconst nutritionTotals=dayMeals.reduce((acc,meal)=>{const totals=meal.computed&&meal.computed.totals?meal.computed.totals:{};Object.keys(totals).forEach(key=>{acc[key]=(acc[key]||0)+(totals[key]||0);});return acc;},{});// Calculate meal effects\nconst mealEffects=dayMeals.reduce((acc,meal)=>{const effects=meal.computed&&meal.computed.effects?meal.computed.effects:{};Object.entries(effects).forEach(_ref3=>{let[effectKey,effectData]=_ref3;if(!acc[effectKey]){acc[effectKey]={score:0,why:[]};}acc[effectKey].score+=effectData.score||0;if(Array.isArray(effectData.why)){effectData.why.forEach(reason=>{if(!acc[effectKey].why.includes(reason))acc[effectKey].why.push(reason);});}});return acc;},{});return{date:date,dateStr:dateStr,mindfulnessCheckin,tasks:dayTasks,habits:dayHabits,meals:dayMeals,expenses:dayExpenses,journalEntries:dayJournalEntries,nutritionTotals,mealEffects};};// Handle day click to show popup\nconst handleDayClick=date=>{const dayData=getDetailedDayData(date);setSelectedDayData(dayData);setShowDaySummary(true);};// Get goals progress for today\nconst getGoalsProgress=()=>{if(isDataLoading||!goals||goals.length===0)return[];const today=new Date();const dateStr=today.toLocaleDateString('en-CA');return goals.map(goal=>{// Count tasks completed for this goal today\nconst completedTasks=safeTasks.filter(task=>{if(!task.goalIds||!task.goalIds.includes(goal._id))return false;if(task.status!=='completed')return false;const taskDate=new Date(task.completedAt||task.updatedAt).toLocaleDateString('en-CA');return taskDate===dateStr;});// Count habits completed for this goal today\nconst completedHabits=safeHabits.filter(habit=>{var _habit$checkins3;if(!habit.goalIds||!habit.goalIds.includes(goal._id))return false;if(!habit.isActive)return false;const checkin=(_habit$checkins3=habit.checkins)===null||_habit$checkins3===void 0?void 0:_habit$checkins3.find(c=>{const checkinDate=new Date(c.date).toLocaleDateString('en-CA');return checkinDate===dateStr&&c.completed;});return!!checkin;});// Calculate progress percentage based on target hours\nconst todayHours=completedTasks.reduce((sum,task)=>{return sum+(task.estimatedHours||0);},0);const progressPercentage=goal.targetHours>0?Math.min(todayHours/goal.targetHours*100,100):0;return _objectSpread(_objectSpread({},goal),{},{completedTasks:completedTasks.length,completedHabits:completedHabits.length,todayHours:Math.round(todayHours*10)/10,progressPercentage:Math.round(progressPercentage)});}).sort((a,b)=>b.progressPercentage-a.progressPercentage);};const getPlatformIcon=()=>{switch(musicPlatform){case'youtube':return/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z\"})});case'spotify':return/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.42 1.56-.299.421-1.02.599-1.559.3z\"})});case'apple':return/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z\"})});default:return/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v9.114A4.369 4.369 0 005 14c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V7.82l8-1.6v5.894A4.369 4.369 0 0015 12c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V3z\"})});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-[#0A0C0F] via-[#11151A] to-[#0A0C0F] p-4 md:p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"font-jakarta text-3xl md:text-4xl font-bold text-white mb-2\",children:[getTimeBasedGreeting(),\", \",(user===null||user===void 0?void 0:user.firstName)||'User',\"! \\uD83D\\uDC4B\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"font-jakarta text-lg text-white/70\",children:new Date().toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-4\",children:(()=>{const todaysScore=getTodaysScore();if(!todaysScore)return null;const{totalScore,breakdown}=todaysScore;return/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center bg-white/5 backdrop-blur-md rounded-xl px-6 py-3 border border-white/10 hover:bg-white/10 transition-all duration-200 cursor-help\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-white\",children:totalScore||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-white/60\",children:\"Today's Score\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-900/95 backdrop-blur-md border border-white/20 rounded-lg p-4 space-y-3 min-w-[280px] shadow-2xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-semibold text-white mb-3\",children:\"Score Breakdown\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white/80\",children:\"Mindfulness\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white font-medium\",children:[breakdown.mindfulness,\"/25\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white/80\",children:\"Goal Progress\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white font-medium\",children:[breakdown.goalProgress,\"/20\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white/80\",children:\"Habit Completion\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white font-medium\",children:[breakdown.habitCompletion,\"/15\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white/80\",children:\"Meal Effects\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white font-medium\",children:[breakdown.mealEffects,\"/25\"]})]}),breakdown.impulseBuyPenalty>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-red-400\",children:\"Impulse Buy Penalty\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-red-400 font-medium\",children:[\"-\",breakdown.impulseBuyPenalty]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-white/20 pt-2 mt-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-semibold\",children:\"Total Score\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-lg\",children:totalScore||0})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-1/2 transform -translate-x-1/2 border-t-gray-900/95 border-t-4 border-x-4 border-x-transparent\"})]})]});})()})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 auto-rows-[minmax(200px,auto)] [&>*:nth-child(odd)]:animate-fade-in [&>*:nth-child(even)]:animate-fade-in-delayed\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-span-1\",children:/*#__PURE__*/_jsx(Card,{className:\"h-full group hover:shadow-xl transition-all duration-300\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 h-full flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-jakarta text-lg font-semibold text-white\",children:\"Quick Actions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-[#1E49C9]/20 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"\\u26A1\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-3 flex-1\",children:[{label:'Add Task',icon:'ðŸ“',href:'/goal-aligned-day',color:'bg-blue-500/20 border-blue-500/30'},{label:'Log Meal',icon:'ðŸ½ï¸',href:'/food',color:'bg-green-500/20 border-green-500/30'},{label:'Journal',icon:'ðŸ“–',href:'/journal',color:'bg-purple-500/20 border-purple-500/30'},{label:'Mindfulness',icon:'ðŸ§˜',href:'/goal-aligned-day',color:'bg-orange-500/20 border-orange-500/30'},{label:'Add Expense',icon:'ðŸ’°',href:'/finance',color:'bg-yellow-500/20 border-yellow-500/30'},{label:'Set Goal',icon:'ðŸŽ¯',href:'/goal-aligned-day',color:'bg-pink-500/20 border-pink-500/30'}].map((action,index)=>/*#__PURE__*/_jsx(motion.a,{href:action.href,whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"\".concat(action.color,\" backdrop-blur-sm rounded-xl p-3 border hover:scale-105 transition-all duration-200 group cursor-pointer\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-1 group-hover:scale-110 transition-transform duration-200\",children:action.icon}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-medium text-white/90\",children:action.label})]})},action.label))})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-1 animate-fade-in\",children:/*#__PURE__*/_jsx(Card,{className:\"h-full overflow-hidden group cursor-pointer hover:shadow-2xl transition-all duration-500 hover:-translate-y-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-full bg-gradient-to-br from-[#1E49C9]/20 to-[#3EA6FF]/20\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/dashboard/nature.jpg\",alt:\"Nature Inspiration\",className:\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent flex items-end justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-white transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-jakarta text-lg font-semibold mb-1\",children:\"Nature's Wisdom\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm opacity-90\",children:\"Find peace in simplicity\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 right-4 w-3 h-3 bg-[#1E49C9] rounded-full animate-pulse-glow\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-1\",children:/*#__PURE__*/_jsx(Card,{className:\"h-full group relative\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.15)] rounded-xl p-4 backdrop-blur-[28px] backdrop-saturate-[140%] shadow-[inset_0_1px_0_rgba(255,255,255,0.15),0_4px_6px_-1px_rgba(0,0,0,0.1)]\",children:showMusicInput?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-[#1E49C9] bg-opacity-20 rounded-lg\",children:getPlatformIcon()}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-jakarta text-sm font-semibold text-text-primary\",children:\"Add Music Link\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Paste YouTube, Spotify, or Apple Music link...\",value:musicLink,onChange:e=>setMusicLink(e.target.value),className:\"flex-1 bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.15)] rounded-lg px-3 py-2 text-sm text-text-primary placeholder-text-secondary focus:border-[#1E49C9] focus:outline-none\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleMusicLinkSubmit,className:\"px-4 py-2 bg-[#1E49C9] text-white rounded-lg hover:bg-[#1E49C9]/80 transition-colors text-sm font-medium\",children:\"Add\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMusicInput(false),className:\"px-4 py-2 bg-[rgba(255,255,255,0.1)] text-text-secondary rounded-lg hover:bg-[rgba(255,255,255,0.2)] transition-colors text-sm\",children:\"Cancel\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-text-secondary bg-background-secondary/50 rounded-lg p-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" Music links will be displayed as track information. Click \\\"Open\\\" to play the track in the original platform.\"]})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[musicLink&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-1 bg-[#1E49C9] bg-opacity-20 rounded\",children:getPlatformIcon()}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-jakarta text-sm font-semibold text-text-primary\",children:\"Now Playing\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center py-8\",children:[musicPlatform==='youtube'&&/*#__PURE__*/_jsx(\"div\",{ref:youtubePlayerRef,className:\"absolute opacity-0 pointer-events-none w-1 h-1\",id:\"youtube-player\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex flex-col items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-32 h-32 mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-24 h-16 bg-gradient-to-t from-[rgba(30,73,201,0.2)] to-[rgba(30,73,201,0.1)] backdrop-blur-md rounded-t-full border border-[rgba(30,73,201,0.3)] shadow-[0_8px_32px_rgba(30,73,201,0.2)]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2 left-1/2 transform -translate-x-1/2 w-20 h-2 bg-[rgba(30,73,201,0.3)] backdrop-blur-sm rounded-full\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-[20px] border-l-transparent border-r-[20px] border-r-transparent border-b-[40px] border-b-[rgba(30,73,201,0.2)] backdrop-blur-sm\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-8 left-1/2 transform -translate-x-1/2 w-20 h-20 bg-gradient-to-br from-[rgba(30,73,201,0.15)] to-[rgba(30,73,201,0.08)] backdrop-blur-md rounded-full border border-[rgba(30,73,201,0.3)] shadow-[0_8px_32px_rgba(30,73,201,0.2)] \".concat(isPlaying?'animate-spin':''),style:{animationDuration:'3s'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-6 h-6 bg-[rgba(30,73,201,0.4)] backdrop-blur-sm rounded-full border border-[rgba(30,73,201,0.2)]\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-2 h-2 bg-[rgba(30,73,201,0.6)] rounded-full\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-16 h-16 border border-[rgba(30,73,201,0.2)] rounded-full opacity-30\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-12 h-12 border border-[rgba(30,73,201,0.2)] rounded-full opacity-20\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-8 h-8 border border-[rgba(30,73,201,0.2)] rounded-full opacity-10\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-12 left-1/2 transform -translate-x-1/2 w-16 h-1 bg-[rgba(30,73,201,0.3)] backdrop-blur-sm rounded-full origin-left border border-[rgba(30,73,201,0.2)] \".concat(isPlaying?'animate-pulse':''),style:{transform:'translateX(-50%) rotate(-15deg)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-0 top-1/2 transform translate-x-1 -translate-y-1/2 w-2 h-2 bg-[rgba(30,73,201,0.5)] backdrop-blur-sm rounded-full border border-[rgba(30,73,201,0.2)]\"})}),isPlaying&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-4 left-1/2 transform -translate-x-1/2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-1 h-4 bg-[rgba(30,73,201,0.4)] backdrop-blur-sm rounded-full animate-pulse border border-[rgba(30,73,201,0.2)]\",style:{animationDelay:'0s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-1 h-6 bg-[rgba(30,73,201,0.4)] backdrop-blur-sm rounded-full animate-pulse border border-[rgba(30,73,201,0.2)]\",style:{animationDelay:'0.1s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-1 h-3 bg-[rgba(30,73,201,0.4)] backdrop-blur-sm rounded-full animate-pulse border border-[rgba(30,73,201,0.2)]\",style:{animationDelay:'0.2s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-1 h-5 bg-[rgba(30,73,201,0.4)] backdrop-blur-sm rounded-full animate-pulse border border-[rgba(30,73,201,0.2)]\",style:{animationDelay:'0.3s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-1 h-2 bg-[rgba(30,73,201,0.4)] backdrop-blur-sm rounded-full animate-pulse border border-[rgba(30,73,201,0.2)]\",style:{animationDelay:'0.4s'}})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handlePlayPause,disabled:isMusicLoading,className:\"w-12 h-12 bg-[rgba(30,73,201,0.2)] backdrop-blur-md border border-[rgba(30,73,201,0.3)] rounded-full flex items-center justify-center text-white hover:bg-[rgba(30,73,201,0.3)] transition-all duration-300 shadow-[0_8px_32px_rgba(30,73,201,0.2)] disabled:opacity-50 disabled:cursor-not-allowed\",children:isMusicLoading?/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent\"}):isPlaying?/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-1 h-4 bg-white rounded\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-1 h-4 bg-white rounded\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"w-0 h-0 border-l-[6px] border-l-white border-y-[4px] border-y-transparent ml-1\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-jakarta text-sm font-semibold text-text-primary\",children:musicPlatform==='youtube'?'YouTube Music':musicPlatform==='spotify'?'Spotify':musicPlatform==='apple'?'Apple Music':'Custom Track'}),/*#__PURE__*/_jsx(\"p\",{className:\"font-jakarta text-xs text-text-secondary\",children:isMusicLoading?'Loading...':isPlaying?'Now Playing':'Paused'})]})]})]})]}),musicLink&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-4 right-4 flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300\",children:[/*#__PURE__*/_jsx(Tooltip,{content:\"Change Music Link\",position:\"bottom\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleChangeMusic,className:\"w-8 h-8 bg-[#1E49C9] text-white rounded-full flex items-center justify-center hover:bg-[#1E49C9]/80 transition-colors shadow-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 01-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z\",clipRule:\"evenodd\"})})})}),/*#__PURE__*/_jsx(Tooltip,{content:\"Remove Music Link\",position:\"bottom\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleRemoveMusic,className:\"w-8 h-8 bg-red-600 text-white rounded-full flex items-center justify-center hover:bg-red-700 transition-colors shadow-lg\",children:/*#__PURE__*/_jsxs(\"svg\",{className:\"w-4 h-4\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:[/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z\",clipRule:\"evenodd\"}),/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",clipRule:\"evenodd\"})]})})})]}),!musicLink&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-[#2A313A] rounded-full mx-auto mb-4 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-8 w-8 text-[#C9D1D9]\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v9.114A4.369 4.369 0 005 14c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V7.82l8-1.6v5.894A4.369 4.369 0 0015 12c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V3z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-jakarta text-lg font-semibold text-text-primary mb-2\",children:\"No Music Added\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-jakarta text-text-secondary mb-4\",children:\"Add your favorite music to get started\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMusicInput(true),className:\"px-4 py-2 bg-[#1E49C9] text-white text-sm rounded-lg hover:bg-[#1E49C9]/80 transition-colors\",children:\"ADD MUSIC\"})]})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-1\",children:/*#__PURE__*/_jsx(Card,{className:\"h-full group relative\",animate:false,children:/*#__PURE__*/_jsxs(\"div\",{className:\"h-full flex flex-col justify-center items-center p-6 relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200\",children:/*#__PURE__*/_jsx(\"button\",{onClick:refreshQuote,className:\"p-1.5 text-[#1E49C9] hover:text-[#1E49C9]/80 hover:bg-[#2A313A] rounded-full transition-all duration-200\",title:\"Get a new quote\",children:/*#__PURE__*/_jsx(RefreshCw,{size:14,className:\"hover:rotate-180 transition-transform duration-500\"})})}),quotesLoading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1E49C9]\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 sm:space-y-6 w-full h-full flex flex-col justify-center\",children:[/*#__PURE__*/_jsxs(\"blockquote\",{className:\"font-jakarta text-lg sm:text-xl lg:text-2xl font-light text-text-primary italic leading-relaxed text-center\",children:[\"\\\"\",getQuoteOfTheDay(),\"\\\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"cite\",{className:\"font-jakarta text-xs sm:text-sm text-[#1E49C9] font-medium leading-relaxed tracking-wider block\",children:[\"\\u2014 \",getQuoteAuthor()]}),dashboardQuotes.length>0&&getQuoteSource()&&/*#__PURE__*/_jsxs(\"p\",{className:\"font-jakarta text-xs text-text-secondary mt-1\",children:[\"from \",/*#__PURE__*/_jsx(\"span\",{className:\"text-[#1E49C9] font-medium\",children:getQuoteSource()})]})]}),dashboardQuotes.length===0&&!quotesLoading&&/*#__PURE__*/_jsx(\"p\",{className:\"font-jakarta text-xs text-text-secondary opacity-40 mt-2 text-center px-2\",children:\"Add quotes in Content tab to see them here\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-1 md:col-span-2 lg:col-span-3 xl:col-span-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Card,{className:\"h-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:isDataLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center h-32\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1E49C9]\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-3 text-[#94A3B8]\",children:\"Loading year data...\"})]}):/*#__PURE__*/_jsx(MonthGrid,{selectedDate:selectedDate,habits:habits,goals:goals,mindfulnessCheckins:mindfulnessCheckins,tasks:tasks,meals:meals,expenses:expenses,onDateSelect:handleDayClick,onMonthChange:setSelectedDate})})})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"md:col-span-2 lg:col-span-2 xl:col-span-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full\",children:/*#__PURE__*/_jsx(FinancialOverview,{})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-1 animate-fade-in-delayed\",children:/*#__PURE__*/_jsx(Card,{className:\"h-full overflow-hidden group cursor-pointer hover:shadow-2xl transition-all duration-500 hover:-translate-y-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-full bg-gradient-to-br from-[#FFD200]/20 to-[#D64545]/20\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/dashboard/abstract.jpg\",alt:\"Abstract Art\",className:\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent flex items-end justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-white transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-jakarta text-lg font-semibold mb-1\",children:\"Creative Flow\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm opacity-90\",children:\"Embrace the unknown\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 right-4 w-3 h-3 bg-[#FFD200] rounded-full animate-pulse-glow\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"md:col-span-2 lg:col-span-2 xl:col-span-2\",children:/*#__PURE__*/_jsxs(Card,{className:\"h-full flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end mb-6\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"/goal-aligned-day\",className:\"font-jakarta text-sm text-[#1E49C9] hover:text-[#1E49C9]/80 font-medium flex items-center justify-center leading-relaxed tracking-wider border border-[#2A313A] px-3 py-2 rounded hover:bg-[#2A313A] transition-all duration-200\",children:[\"VIEW DETAILS \",/*#__PURE__*/_jsx(ArrowRight,{size:16,className:\"ml-1\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex flex-col\",children:isDataLoading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"})}):getGoalsProgress().length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4 flex-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:getGoalsProgress().slice(0,4).map((goal,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#11151A]/50 rounded-lg p-4 border border-[#2A313A] hover:border-[#1E49C9]/30 transition-all duration-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-[#E8EEF2] truncate flex-1\",children:goal.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 text-xs text-[#94A3B8]\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-3 h-3\"}),/*#__PURE__*/_jsxs(\"span\",{children:[goal.todayHours,\"h / \",goal.targetHours||0,\"h\"]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-[#1E49C9] rounded-full\"}),/*#__PURE__*/_jsxs(\"span\",{children:[goal.completedTasks,\" tasks\"]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-[#3EA6FF] rounded-full\"}),/*#__PURE__*/_jsxs(\"span\",{children:[goal.completedHabits,\" habits\"]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-[#2A313A] rounded-full h-2 mb-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-[#1E49C9] to-[#1E49C9] h-2 rounded-full transition-all duration-500\",style:{width:\"\".concat(goal.progressPercentage,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-xs text-[#94A3B8]\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[goal.progressPercentage,\"% complete\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-mono\",children:[goal.completedTasks+goal.completedHabits,\" activities today\"]})]})]},goal._id||index))})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 flex-1 flex flex-col justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-[#2A313A] rounded-full mx-auto mb-4 flex items-center justify-center\",children:/*#__PURE__*/_jsx(Clock,{className:\"text-[#C9D1D9]\",size:24})}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-jakarta text-lg font-semibold text-text-primary mb-2\",children:\"No Goals Set\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-jakarta text-text-secondary mb-4\",children:\"Create some goals to track your progress\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>window.location.href='/goal-aligned-day',variant:\"primary\",className:\"inline-flex items-center\",children:\"CREATE GOALS\"})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-1\",children:/*#__PURE__*/_jsx(Card,{className:\"h-full group hover:shadow-xl transition-all duration-300\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 h-full flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-jakarta text-lg font-semibold text-white\",children:\"Daily Nutrition\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-orange-500/20 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"\\uD83C\\uDF4E\"})})]}),(()=>{const totals=getTodayNutritionTotals();const effects=getTodayEffectsAggregate();const dayMeals=getTodayMeals();if(dayMeals.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 flex-1 flex flex-col justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-white/5 rounded-full mx-auto mb-4 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83C\\uDF7D\\uFE0F\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-jakarta text-lg font-semibold text-white mb-2\",children:\"No Meals Logged\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-jakarta text-sm text-white/60 mb-4\",children:\"Start tracking your nutrition today\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/food\",className:\"inline-flex items-center px-4 py-2 bg-[#1E49C9] text-white text-sm rounded-lg hover:bg-[#1E49C9]/80 transition-colors\",children:\"Log Meal\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-white/5 backdrop-blur-sm rounded-lg border border-white/10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-bold text-white\",children:Math.round(totals.kcal||0)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-white/60\",children:\"kcal\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-white/5 backdrop-blur-sm rounded-lg border border-white/10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold text-white\",children:[Math.round(totals.protein||0),\"g\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-white/60\",children:\"protein\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-white/5 backdrop-blur-sm rounded-lg border border-white/10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold text-white\",children:[Math.round(totals.carbs||0),\"g\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-white/60\",children:\"carbs\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-white/5 backdrop-blur-sm rounded-lg border border-white/10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold text-white\",children:[Math.round(totals.fat||0),\"g\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-white/60\",children:\"fat\"})]})]}),Object.keys(effects).length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-white/60 mb-2 font-medium\",children:\"Meal Effects\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:Object.entries(effects).filter(_ref4=>{let[,d]=_ref4;return(d.score||0)>0;}).sort((a,b)=>(b[1].score||0)-(a[1].score||0)).slice(0,6).map(_ref5=>{let[key,d]=_ref5;return/*#__PURE__*/_jsxs(\"span\",{className:\"px-3 py-1 text-xs rounded-full bg-white/10 border border-white/20 text-white/80 font-medium\",children:[key,\" (\",Math.round(d.score),\")\"]},key);})})]})]});})()]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-1 md:col-span-2 lg:col-span-3 xl:col-span-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-px bg-gradient-to-r from-transparent via-white/20 to-transparent mb-6\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-1 md:col-span-2 lg:col-span-3 xl:col-span-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"md:col-span-2 lg:col-span-2 xl:col-span-2\",children:/*#__PURE__*/_jsx(Card,{className:\"h-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-jakarta text-lg font-semibold text-white\",children:\"Journal Insights\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-purple-500/20 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"\\uD83D\\uDCCA\"})})]}),/*#__PURE__*/_jsx(JournalTrends,{})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-1 lg:col-span-1 xl:col-span-1 animate-fade-in-delayed\",children:/*#__PURE__*/_jsx(Card,{className:\"h-full overflow-hidden group cursor-pointer hover:shadow-2xl transition-all duration-500 hover:-translate-y-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-full bg-gradient-to-br from-[#3EA6FF]/20 to-[#FFD200]/20\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/dashboard/urban.jpg\",alt:\"Urban Landscape\",className:\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent flex items-end justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-white transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-jakarta text-lg font-semibold mb-1\",children:\"Urban Energy\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm opacity-90\",children:\"Thrive in the chaos\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 right-4 w-3 h-3 bg-[#3EA6FF] rounded-full animate-pulse-glow\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-1 lg:col-span-1 xl:col-span-1 animate-fade-in\",children:/*#__PURE__*/_jsx(Card,{className:\"h-full overflow-hidden group cursor-pointer hover:shadow-2xl transition-all duration-500 hover:-translate-y-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-full bg-gradient-to-br from-[#1E49C9]/20 to-[#1E49C9]/20\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/dashboard/zen.jpg\",alt:\"Zen Garden\",className:\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent flex items-end justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-white transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-jakarta text-lg font-semibold mb-1\",children:\"Inner Peace\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm opacity-90\",children:\"Find your center\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 right-4 w-3 h-3 bg-[#1E49C9] rounded-full animate-pulse-glow\"})]})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-1 md:col-span-2 lg:col-span-3 xl:col-span-4 mt-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(Card,{className:\"h-full group hover:shadow-xl transition-all duration-300\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 h-full flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-jakarta text-sm font-semibold text-white\",children:\"Today's Focus\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 bg-blue-500/20 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:\"\\uD83C\\uDFAF\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex flex-col justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-white mb-1\",children:(()=>{const todaysScore=getTodaysScore();return todaysScore?todaysScore.totalScore:'--';})()}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-white/60\",children:\"Overall Score\"})]})})]})}),/*#__PURE__*/_jsx(Card,{className:\"h-full group hover:shadow-xl transition-all duration-300\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 h-full flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-jakarta text-sm font-semibold text-white\",children:\"Quick Stats\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:\"\\uD83D\\uDCC8\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col justify-center space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white/60\",children:\"Tasks Done:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-medium\",children:todayTasks.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white/60\",children:\"Meals Logged:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-medium\",children:getTodayMeals().length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white/60\",children:\"Goals Active:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-medium\",children:goals.filter(g=>g.isActive).length})]})]})]})}),/*#__PURE__*/_jsx(Card,{className:\"h-full group hover:shadow-xl transition-all duration-300\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 h-full flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-jakarta text-sm font-semibold text-white\",children:\"This Week\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 bg-purple-500/20 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:\"\\uD83D\\uDCC5\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex flex-col justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-white mb-1\",children:new Date().toLocaleDateString('en-US',{weekday:'short'})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-white/60\",children:\"Current Day\"})]})})]})}),/*#__PURE__*/_jsx(Card,{className:\"h-full group hover:shadow-xl transition-all duration-300\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 h-full flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-jakarta text-sm font-semibold text-white\",children:\"Next Action\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 bg-orange-500/20 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:\"\\u26A1\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex flex-col justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-white/80 mb-2\",children:\"Ready to continue your journey?\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/goal-aligned-day\",className:\"inline-block px-3 py-1 bg-[#1E49C9] text-white text-xs rounded-lg hover:bg-[#1E49C9]/80 transition-colors\",children:\"Plan Today\"})]})})]})})]})})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:showDaySummary&&selectedDayData&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\",onClick:()=>setShowDaySummary(false),children:/*#__PURE__*/_jsxs(motion.div,{initial:{scale:0.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0.9,opacity:0},className:\"bg-[#11151A] border-2 border-[#2A313A] rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-jakarta text-2xl font-bold text-white\",children:selectedDayData.date.toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/60 text-sm mt-1\",children:\"Daily Summary\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDaySummary(false),className:\"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-colors\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-lg\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-jakarta text-lg font-semibold text-white\",children:\"Tasks Completed\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-green-500/20 text-green-400 text-xs px-2 py-1 rounded-full\",children:selectedDayData.tasks.length})]}),selectedDayData.tasks.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[selectedDayData.tasks.slice(0,3).map((task,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-white/80 bg-white/5 rounded-lg p-2\",children:task.title||'Task completed'},index)),selectedDayData.tasks.length>3&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-white/60\",children:[\"+\",selectedDayData.tasks.length-3,\" more tasks\"]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-white/60 text-sm\",children:\"No tasks completed this day\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"\\uD83D\\uDD04\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-jakarta text-lg font-semibold text-white\",children:\"Habits Tracked\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-blue-500/20 text-blue-400 text-xs px-2 py-1 rounded-full\",children:selectedDayData.habits.length})]}),selectedDayData.habits.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[selectedDayData.habits.slice(0,3).map((habit,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-white/80 bg-white/5 rounded-lg p-2\",children:habit.name||'Habit completed'},index)),selectedDayData.habits.length>3&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-white/60\",children:[\"+\",selectedDayData.habits.length-3,\" more habits\"]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-white/60 text-sm\",children:\"No habits tracked this day\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"\\uD83E\\uDDD8\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-jakarta text-lg font-semibold text-white\",children:\"Mindfulness\"}),selectedDayData.mindfulnessCheckin?/*#__PURE__*/_jsxs(\"span\",{className:\"bg-purple-500/20 text-purple-400 text-xs px-2 py-1 rounded-full\",children:[selectedDayData.mindfulnessCheckin.totalScore||0,\"/25\"]}):/*#__PURE__*/_jsx(\"span\",{className:\"bg-gray-500/20 text-gray-400 text-xs px-2 py-1 rounded-full\",children:\"No check-in\"})]}),selectedDayData.mindfulnessCheckin?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-white/80\",children:[\"Overall Score: \",selectedDayData.mindfulnessCheckin.totalScore||0,\"/25\"]}),selectedDayData.mindfulnessCheckin.dimensions&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-white/60\",children:[\"Dimensions: \",Object.keys(selectedDayData.mindfulnessCheckin.dimensions).length,\" rated\"]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-white/60 text-sm\",children:\"No mindfulness check-in this day\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"\\uD83C\\uDF7D\\uFE0F\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-jakarta text-lg font-semibold text-white\",children:\"Meals Logged\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-orange-500/20 text-orange-400 text-xs px-2 py-1 rounded-full\",children:selectedDayData.meals.length})]}),selectedDayData.meals.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-white/80\",children:[\"Calories: \",Math.round(selectedDayData.nutritionTotals.kcal||0),\" kcal\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-white/80\",children:[\"Protein: \",Math.round(selectedDayData.nutritionTotals.protein||0),\"g\"]}),Object.keys(selectedDayData.mealEffects).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-white/60\",children:[Object.keys(selectedDayData.mealEffects).length,\" effects tracked\"]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-white/60 text-sm\",children:\"No meals logged this day\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"\\uD83D\\uDCB0\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-jakarta text-lg font-semibold text-white\",children:\"Expenses\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-yellow-500/20 text-yellow-400 text-xs px-2 py-1 rounded-full\",children:selectedDayData.expenses.length})]}),selectedDayData.expenses.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-white/80\",children:[\"Total: \\u20B9\",selectedDayData.expenses.reduce((sum,exp)=>sum+(exp.amount||0),0)]}),selectedDayData.expenses.filter(exp=>exp.impulseBuy).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-red-400\",children:[selectedDayData.expenses.filter(exp=>exp.impulseBuy).length,\" impulse buys\"]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-white/60 text-sm\",children:\"No expenses recorded this day\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"\\u26A1\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-jakarta text-lg font-semibold text-white\",children:\"Quick Actions\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/goal-aligned-day?date=\".concat(selectedDayData.dateStr),className:\"block w-full text-center bg-[#1E49C9] text-white text-sm py-2 px-4 rounded-lg hover:bg-[#1E49C9]/80 transition-colors\",children:\"View Full Day Details\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/goal-aligned-day\",className:\"block w-full text-center bg-white/10 text-white text-sm py-2 px-4 rounded-lg hover:bg-white/20 transition-colors\",children:\"Add New Activity\"})]})]})]})]})})}),/*#__PURE__*/_jsx(AnimatePresence,{children:showImageUpload&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\",onClick:()=>setShowImageUpload(false),children:/*#__PURE__*/_jsxs(motion.div,{initial:{scale:0.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0.9,opacity:0},className:\"bg-[#11151A] border-2 border-[#2A313A] rounded-lg p-6 max-w-md w-full\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-jakarta text-lg font-semibold text-text-primary mb-4 leading-relaxed tracking-wider\",children:\"Update Welcome Image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"welcome-image-upload-dashboard\",className:\"inline-flex items-center cursor-pointer\",children:/*#__PURE__*/_jsxs(Button,{variant:\"primary\",className:\"inline-flex items-center\",children:[/*#__PURE__*/_jsx(Upload,{className:\"h-5 w-5 mr-2\"}),\"Choose Image\"]})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleImageUpload,className:\"hidden\",id:\"welcome-image-upload-dashboard\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-[#C9D1D9] text-center\",children:\"Click the button above to select a new image. The image will be displayed in the welcome banner.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 flex justify-end\",children:/*#__PURE__*/_jsx(Button,{onClick:()=>setShowImageUpload(false),variant:\"ghost\",children:\"Cancel\"})})]})})})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useRef","Clock","ArrowRight","RefreshCw","Upload","motion","AnimatePresence","useAuth","axios","buildApiUrl","toast","JournalTrends","FinancialOverview","Button","Card","Tooltip","MonthGrid","jsx","_jsx","jsxs","_jsxs","Dashboard","user","todayTasks","setTodayTasks","loading","setLoading","quoteIndex","setQuoteIndex","welcomeImage","setWelcomeImage","showImageUpload","setShowImageUpload","dashboardQuotes","setDashboardQuotes","quotesLoading","setQuotesLoading","musicLink","setMusicLink","showMusicInput","setShowMusicInput","musicPlatform","setMusicPlatform","isPlaying","setIsPlaying","isMusicLoading","setIsMusicLoading","youtubePlayerRef","goals","setGoals","habits","setHabits","mindfulnessCheckins","setMindfulnessCheckins","tasks","setTasks","meals","setMeals","expenses","setExpenses","selectedDate","setSelectedDate","Date","isDataLoading","setIsDataLoading","youtubePlayer","setYoutubePlayer","showDaySummary","setShowDaySummary","selectedDayData","setSelectedDayData","safeHabits","Array","isArray","safeGoals","safeMindfulnessCheckins","safeTasks","safeMeals","safeExpenses","imageGallery","setImageGallery","id","src","title","subtitle","color","console","log","loadAllData","Promise","all","fetchData","fetchDashboardQuotes","loadSavedMusicLink","loadGoals","loadHabits","loadMindfulnessCheckins","loadTasks","loadMeals","loadExpenses","error","loadYouTubeAPI","window","YT","script","document","createElement","async","head","appendChild","onYouTubeIframeAPIReady","savedLink","localStorage","getItem","link","trim","includes","videoId","extractYouTubeId","initializeYouTubePlayer","defaultLink","setItem","token","response","get","headers","Authorization","concat","params","date","toISOString","split","status","data","getTodayMeals","todayStr","toLocaleDateString","filter","meal","ts","getTodayNutritionTotals","dayMeals","reduce","acc","totals","computed","Object","keys","forEach","key","getTodayEffectsAggregate","effects","entries","_ref","effectKey","effectData","score","why","reason","push","quotes","authors","getQuoteOfTheDay","_dashboardQuotes","today","dayOfYear","Math","floor","getFullYear","length","dailyIndex","content","getQuoteAuthor","_dashboardQuotes2","bookAuthor","refreshQuote","prev","getCurrentQuoteNumber","getQuoteSource","currentQuote","bookTitle","handleImageUpload","e","target","files","file","name","type","size","startsWith","reader","FileReader","onload","event","result","success","readAsDataURL","Player","player","height","width","playerVars","events","setTimeout","handleMusicLinkSubmit","handleChangeMusic","handleRemoveMusic","removeItem","handlePlayPause","pauseVideo","playVideo","handleOpenInNewTab","open","getEmbedUrl","embedUrl","spotifyData","extractSpotifyId","appleData","extractAppleMusicId","url","regExp","match","ImageCard","_ref2","image","className","animationClass","children","alt","style","backgroundColor","getTimeBasedGreeting","hour","getHours","getTodaysScore","dateStr","mindfulnessScore","find","checkin","checkinDate","totalScore","breakdown","mindfulness","goalProgress","habitCompletion","mealEffects","impulseBuyPenalty","completedTasksForGoals","task","goalIds","taskDate","completedAt","updatedAt","completedCount","totalCount","habit","startDate","endDate","checkDate","setHours","isActive","_habit$checkins","checkins","c","completed","completionRate","round","mealDate","totalMealScore","mealCount","_meal$computed","mealScore","positiveEffects","effect","_effects$effect","negativeEffects","_effects$effect2","max","min","dayExpenses","expense","expenseDate","impulseExpenses","impulseBuy","penalty","amount","getDetailedDayData","mindfulnessCheckin","dayTasks","dayHabits","_habit$checkins2","dayJournalEntries","nutritionTotals","_ref3","journalEntries","handleDayClick","dayData","getGoalsProgress","map","goal","completedTasks","_id","completedHabits","_habit$checkins3","todayHours","sum","estimatedHours","progressPercentage","targetHours","_objectSpread","sort","a","b","getPlatformIcon","fill","viewBox","d","firstName","weekday","year","month","day","todaysScore","label","icon","href","action","index","whileHover","scale","whileTap","placeholder","value","onChange","onClick","ref","animationDuration","transform","animationDelay","disabled","position","fillRule","clipRule","animate","onDateSelect","onMonthChange","slice","location","variant","kcal","protein","carbs","fat","_ref4","_ref5","g","div","initial","opacity","exit","stopPropagation","dimensions","exp","htmlFor","accept"],"sources":["/Users/priyas/Desktop/untangle-platform/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { \n  Clock, \n  ArrowRight,\n  RefreshCw,\n  Upload\n} from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useAuth } from '../contexts/AuthContext';\nimport axios from 'axios';\nimport { buildApiUrl } from '../config';\nimport toast from 'react-hot-toast';\n// Note: Food page has its own DailyMealKPIs. Dashboard renders its own compact summary.\nimport JournalTrends from '../components/journal/JournalTrends';\nimport {\n  FinancialOverview\n} from '../components/dashboard';\nimport { Button, Card, Tooltip, MonthGrid } from '../components/ui';\n\nconst Dashboard = () => {\n  const { user } = useAuth();\n  const [todayTasks, setTodayTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [quoteIndex, setQuoteIndex] = useState(0);\n  const [welcomeImage, setWelcomeImage] = useState('/welcome.png');\n  const [showImageUpload, setShowImageUpload] = useState(false);\n  const [dashboardQuotes, setDashboardQuotes] = useState([]);\n  const [quotesLoading, setQuotesLoading] = useState(true);\n  const [musicLink, setMusicLink] = useState('https://youtu.be/w0o8JCxjjpM?si=OCQ4TjYlkC8sTpcy');\n  const [showMusicInput, setShowMusicInput] = useState(false);\n  const [musicPlatform, setMusicPlatform] = useState('youtube');\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isMusicLoading, setIsMusicLoading] = useState(false);\n  const youtubePlayerRef = useRef(null);\n  \n  // Year grid data\n  const [goals, setGoals] = useState([]);\n  const [habits, setHabits] = useState([]);\n  const [mindfulnessCheckins, setMindfulnessCheckins] = useState([]);\n  const [tasks, setTasks] = useState([]);\n  const [meals, setMeals] = useState([]);\n  const [expenses, setExpenses] = useState([]);\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [isDataLoading, setIsDataLoading] = useState(true);\n  const [youtubePlayer, setYoutubePlayer] = useState(null);\n  const [showDaySummary, setShowDaySummary] = useState(false);\n  const [selectedDayData, setSelectedDayData] = useState(null);\n  \n  // Safe arrays for MonthGrid compatibility\n  const safeHabits = Array.isArray(habits) ? habits : [];\n  const safeGoals = Array.isArray(goals) ? goals : [];\n  const safeMindfulnessCheckins = Array.isArray(mindfulnessCheckins) ? mindfulnessCheckins : [];\n  const safeTasks = Array.isArray(tasks) ? tasks : [];\n  const safeMeals = Array.isArray(meals) ? meals : [];\n  const safeExpenses = Array.isArray(expenses) ? expenses : [];\n  \n  // Image gallery state\n  const [imageGallery, setImageGallery] = useState([\n    {\n      id: 'nature',\n      src: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',\n      title: \"Nature's Wisdom\",\n      subtitle: \"Find peace in simplicity\",\n      color: '#1E49C9'\n    },\n    {\n      id: 'abstract',\n      src: 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',\n      title: \"Creative Flow\",\n      subtitle: \"Embrace the unknown\",\n      color: '#FFD200'\n    },\n    {\n      id: 'minimalist',\n      src: 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',\n      title: \"Less is More\",\n      subtitle: \"Simplicity breeds clarity\",\n      color: '#1E49C9'\n    },\n    {\n      id: 'urban',\n      src: 'https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',\n      title: \"Urban Energy\",\n      subtitle: \"Thrive in the chaos\",\n      color: '#3EA6FF'\n    },\n    {\n      id: 'zen',\n      src: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',\n      title: \"Inner Peace\",\n      subtitle: \"Find your center\",\n      color: '#1E49C9'\n    }\n  ]);\n  \n  // Debug: Log state changes\n  useEffect(() => {\n    console.log('Dashboard showImageUpload changed to:', showImageUpload);\n  }, [showImageUpload]);\n\n  useEffect(() => {\n    const loadAllData = async () => {\n      setIsDataLoading(true);\n      try {\n        await Promise.all([\n          fetchData(),\n          fetchDashboardQuotes(),\n          loadSavedMusicLink(),\n          loadGoals(),\n          loadHabits(),\n          loadMindfulnessCheckins(),\n          loadTasks(),\n          loadMeals(),\n          loadExpenses()\n        ]);\n      } catch (error) {\n        console.error('Error loading dashboard data:', error);\n      } finally {\n        setIsDataLoading(false);\n      }\n    };\n    \n    loadAllData();\n    \n    // Load YouTube Player API\n    loadYouTubeAPI();\n  }, []);\n\n  const loadYouTubeAPI = () => {\n    if (window.YT) {\n      return;\n    }\n    \n    const script = document.createElement('script');\n    script.src = 'https://www.youtube.com/iframe_api';\n    script.async = true;\n    document.head.appendChild(script);\n    \n    window.onYouTubeIframeAPIReady = () => {\n      console.log('YouTube API loaded');\n    };\n  };\n\n  const loadSavedMusicLink = () => {\n    const savedLink = localStorage.getItem('dashboardMusicLink');\n    \n    if (savedLink) {\n      setMusicLink(savedLink);\n      \n      // Detect platform from the saved link\n      const link = savedLink.trim();\n      if (link.includes('youtube.com') || link.includes('youtu.be')) {\n        setMusicPlatform('youtube');\n        // Initialize YouTube player for saved link\n        const videoId = extractYouTubeId(link);\n        if (videoId) {\n          setIsMusicLoading(true);\n          initializeYouTubePlayer(videoId);\n        }\n      } else if (link.includes('spotify.com')) {\n        setMusicPlatform('spotify');\n      } else if (link.includes('music.apple.com')) {\n        setMusicPlatform('apple');\n      } else {\n        setMusicPlatform('spotify'); // Default fallback\n      }\n      \n      setShowMusicInput(false); // Show the player instead of input\n    } else {\n      // If no saved music, save the default music to localStorage\n      const defaultLink = 'https://youtu.be/w0o8JCxjjpM?si=OCQ4TjYlkC8sTpcy';\n      localStorage.setItem('dashboardMusicLink', defaultLink);\n      localStorage.setItem('dashboardMusicPlatform', 'youtube');\n      setMusicLink(defaultLink);\n      setMusicPlatform('youtube');\n      setIsMusicLoading(true);\n      initializeYouTubePlayer('w0o8JCxjjpM');\n    }\n  };\n\n  const fetchData = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) return;\n\n      const response = await axios.get(buildApiUrl('/api/tasks'), {\n        headers: { Authorization: `Bearer ${token}` },\n        params: { \n          date: new Date().toISOString().split('T')[0],\n          status: 'completed'\n        }\n      });\n\n      setTodayTasks(response.data.tasks || []);\n    } catch (error) {\n      console.error('Error fetching tasks:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchDashboardQuotes = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) return;\n\n      const response = await axios.get(buildApiUrl('/api/book-documents/quotes/all'), {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n\n      console.log('Dashboard quotes response:', response.data);\n      setDashboardQuotes(response.data || []);\n    } catch (error) {\n      console.error('Error fetching dashboard quotes:', error);\n    } finally {\n      setQuotesLoading(false);\n    }\n  };\n\n  // Load year grid data\n  const loadGoals = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) return;\n\n      const response = await axios.get(buildApiUrl('/api/goals'), {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      setGoals(response.data || []);\n    } catch (error) {\n      console.error('Error loading goals:', error);\n    }\n  };\n\n  const loadHabits = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) return;\n\n      const response = await axios.get(buildApiUrl('/api/habits?all=true'), {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      setHabits(response.data || []);\n    } catch (error) {\n      console.error('Error loading habits:', error);\n    }\n  };\n\n  const loadMindfulnessCheckins = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) return;\n\n      const response = await axios.get(buildApiUrl('/api/mindfulness'), {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      setMindfulnessCheckins(response.data || []);\n    } catch (error) {\n      console.error('Error loading mindfulness checkins:', error);\n    }\n  };\n\n  const loadTasks = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.log('No token found, setting tasks to empty array');\n        setTasks([]);\n        return;\n      }\n\n      console.log('Loading tasks...');\n      const response = await axios.get(buildApiUrl('/api/tasks'), {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      console.log('Tasks response:', response.data);\n      setTasks((response.data && response.data.tasks) || []);\n    } catch (error) {\n      console.error('Error loading tasks:', error);\n      console.log('Setting tasks to empty array due to error');\n      setTasks([]);\n    }\n  };\n\n  const loadMeals = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.log('No token found, setting meals to empty array');\n        setMeals([]);\n        return;\n      }\n\n      console.log('Loading meals...');\n      const response = await axios.get(buildApiUrl('/api/meals'), {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      console.log('Meals response:', response.data);\n      setMeals((response.data && response.data.meals) || []);\n    } catch (error) {\n      console.error('Error loading meals:', error);\n      console.log('Setting meals to empty array due to error');\n      setMeals([]);\n    }\n  };\n\n  const loadExpenses = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.log('No token found, setting expenses to empty array');\n        setExpenses([]);\n        return;\n      }\n\n      console.log('Loading expenses...');\n      const response = await axios.get(buildApiUrl('/api/finance/expenses'), {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      console.log('Expenses response:', response.data);\n      setExpenses(response.data || []);\n    } catch (error) {\n      console.error('Error loading expenses:', error);\n      console.log('Setting expenses to empty array due to error');\n      setExpenses([]);\n    }\n  };\n\n  // ===== Dashboard-specific daily nutrition helpers (separate from Food page) =====\n  const getTodayMeals = () => {\n    const todayStr = new Date().toLocaleDateString('en-CA');\n    return safeMeals.filter(meal => new Date(meal.ts).toLocaleDateString('en-CA') === todayStr);\n  };\n\n  const getTodayNutritionTotals = () => {\n    const dayMeals = getTodayMeals();\n    return dayMeals.reduce((acc, meal) => {\n      const totals = meal.computed && meal.computed.totals ? meal.computed.totals : {};\n      Object.keys(totals).forEach(key => {\n        acc[key] = (acc[key] || 0) + (totals[key] || 0);\n      });\n      return acc;\n    }, {});\n  };\n\n  const getTodayEffectsAggregate = () => {\n    const dayMeals = getTodayMeals();\n    return dayMeals.reduce((acc, meal) => {\n      const effects = meal.computed && meal.computed.effects ? meal.computed.effects : {};\n      Object.entries(effects).forEach(([effectKey, effectData]) => {\n        if (!acc[effectKey]) {\n          acc[effectKey] = { score: 0, why: [] };\n        }\n        acc[effectKey].score += effectData.score || 0;\n        if (Array.isArray(effectData.why)) {\n          effectData.why.forEach(reason => {\n            if (!acc[effectKey].why.includes(reason)) acc[effectKey].why.push(reason);\n          });\n        }\n      });\n      return acc;\n    }, {});\n  };\n\n  // Quote of the Day functions\n  const quotes = [\n    // Osho quotes\n    \"Be realistic: Plan for a miracle.\",\n    \"Life is not a problem to be solved, but a reality to be experienced.\",\n    \"The moment you accept yourself, you become beautiful.\",\n    \"Truth is not something outside to be discovered, it is something inside to be realized.\",\n    \"Drop the idea of becoming someone, because you are already a masterpiece.\",\n    \n    // Jiddu Krishnamurti quotes\n    \"The highest form of intelligence is the ability to observe without evaluating.\",\n    \"Freedom is not a reaction; freedom is not a choice. Freedom is found in the choiceless awareness of our daily existence and activity.\",\n    \"Truth is a pathless land, and you cannot approach it by any path whatsoever, by any religion, by any sect.\",\n    \"It is no measure of health to be well adjusted to a profoundly sick society.\",\n    \"The ability to observe without evaluating is the highest form of intelligence.\",\n    \n    // Mahatma Gandhi quotes\n    \"Be the change you wish to see in the world.\",\n    \"The future depends on what you do today.\",\n    \"Happiness is when what you think, what you say, and what you do are in harmony.\",\n    \"Live as if you were to die tomorrow. Learn as if you were to live forever.\",\n    \"The weak can never forgive. Forgiveness is the attribute of the strong.\",\n    \n    // Swami Vivekananda quotes\n    \"Arise, awake, and stop not until the goal is reached.\",\n    \"You cannot believe in God until you believe in yourself.\",\n    \"The greatest sin is to think yourself weak.\",\n    \"Take up one idea. Make that one idea your life - think of it, dream of it, live on that idea.\",\n    \"Strength is life, weakness is death.\"\n  ];\n\n  const authors = [\n    \"Osho\",\n    \"Osho\", \n    \"Osho\",\n    \"Osho\",\n    \"Osho\",\n    \"Jiddu Krishnamurti\",\n    \"Jiddu Krishnamurti\",\n    \"Jiddu Krishnamurti\", \n    \"Jiddu Krishnamurti\",\n    \"Jiddu Krishnamurti\",\n    \"Mahatma Gandhi\",\n    \"Mahatma Gandhi\",\n    \"Mahatma Gandhi\",\n    \"Mahatma Gandhi\", \n    \"Mahatma Gandhi\",\n    \"Swami Vivekananda\",\n    \"Swami Vivekananda\",\n    \"Swami Vivekananda\",\n    \"Swami Vivekananda\",\n    \"Swami Vivekananda\"\n  ];\n\n  const getQuoteOfTheDay = () => {\n    const today = new Date();\n    const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / (1000 * 60 * 60 * 24));\n    \n    if (dashboardQuotes.length === 0) {\n      // Fallback to hardcoded quotes if no dashboard quotes\n      const dailyIndex = dayOfYear % quotes.length;\n      return quotes[(dailyIndex + quoteIndex) % quotes.length];\n    }\n    \n    const dailyIndex = dayOfYear % dashboardQuotes.length;\n    return dashboardQuotes[(dailyIndex + quoteIndex) % dashboardQuotes.length]?.content || \"No quotes available\";\n  };\n\n  const getQuoteAuthor = () => {\n    const today = new Date();\n    const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / (1000 * 60 * 60 * 24));\n    \n    if (dashboardQuotes.length === 0) {\n      // Fallback to hardcoded quotes if no dashboard quotes\n      const dailyIndex = dayOfYear % quotes.length;\n      return authors[(dailyIndex + quoteIndex) % quotes.length];\n    }\n    \n    const dailyIndex = dayOfYear % dashboardQuotes.length;\n    return dashboardQuotes[(dailyIndex + quoteIndex) % dashboardQuotes.length]?.bookAuthor || \"Unknown\";\n  };\n\n  const refreshQuote = () => {\n    if (dashboardQuotes.length === 0) {\n      setQuoteIndex(prev => (prev + 1) % quotes.length);\n    } else {\n      setQuoteIndex(prev => (prev + 1) % dashboardQuotes.length);\n    }\n  };\n\n  const getCurrentQuoteNumber = () => {\n    const today = new Date();\n    const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / (1000 * 60 * 60 * 24));\n    \n    if (dashboardQuotes.length === 0) {\n      const dailyIndex = dayOfYear % quotes.length;\n      return ((dailyIndex + quoteIndex) % quotes.length) + 1;\n    }\n    \n    const dailyIndex = dayOfYear % dashboardQuotes.length;\n    return ((dailyIndex + quoteIndex) % dashboardQuotes.length) + 1;\n  };\n\n  const getQuoteSource = () => {\n    if (dashboardQuotes.length === 0) return \"\";\n    \n    const today = new Date();\n    const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / (1000 * 60 * 60 * 24));\n    const dailyIndex = dayOfYear % dashboardQuotes.length;\n    const currentQuote = dashboardQuotes[(dailyIndex + quoteIndex) % dashboardQuotes.length];\n    return currentQuote?.bookTitle || \"\";\n  };\n\n  const handleImageUpload = (e) => {\n    console.log('Dashboard image upload triggered:', e.target.files);\n    const file = e.target.files[0];\n    if (file) {\n      console.log('Dashboard file selected:', file.name, file.type, file.size);\n      if (file.type.startsWith('image/')) {\n        const reader = new FileReader();\n        reader.onload = (event) => {\n          console.log('Dashboard file read successfully, updating image');\n          setWelcomeImage(event.target.result);\n          setShowImageUpload(false);\n          toast.success('Welcome image updated successfully!');\n        };\n        reader.readAsDataURL(file);\n      } else {\n        console.log('Dashboard invalid file type:', file.type);\n        toast.error('Please select a valid image file');\n      }\n    } else {\n      console.log('Dashboard no file selected');\n    }\n  };\n\n\n\n  const initializeYouTubePlayer = (videoId) => {\n    if (window.YT && window.YT.Player) {\n      try {\n        const player = new window.YT.Player('youtube-player', {\n          height: '1',\n          width: '1',\n          videoId: videoId,\n          playerVars: {\n            'playsinline': 1,\n            'controls': 0,\n            'showinfo': 0,\n            'rel': 0,\n            'modestbranding': 1,\n            'loop': 1,\n            'playlist': videoId\n          },\n          events: {\n            'onReady': (event) => {\n              console.log('YouTube player ready');\n              setYoutubePlayer(event.target);\n              setIsMusicLoading(false);\n            },\n            'onError': (event) => {\n              console.error('YouTube player error:', event.data);\n              toast.error('Failed to load music player. Please check your internet connection.');\n              setIsMusicLoading(false);\n            }\n          }\n        });\n      } catch (error) {\n        console.error('Error initializing YouTube player:', error);\n        toast.error('Failed to initialize music player.');\n        setIsMusicLoading(false);\n      }\n    } else {\n      console.log('YouTube API not ready, retrying...');\n      setTimeout(() => initializeYouTubePlayer(videoId), 1000);\n    }\n  };\n\n  const handleMusicLinkSubmit = () => {\n    if (musicLink.trim()) {\n      // Validate and process the music link\n      const link = musicLink.trim();\n      if (link.includes('youtube.com') || link.includes('youtu.be')) {\n        setMusicPlatform('youtube');\n        setIsMusicLoading(true);\n        toast.success('YouTube link added!');\n        \n        // Initialize YouTube player\n        const videoId = extractYouTubeId(link);\n        if (videoId) {\n          initializeYouTubePlayer(videoId);\n        }\n      } else if (link.includes('spotify.com')) {\n        setMusicPlatform('spotify');\n        toast.success('Spotify link added!');\n      } else if (link.includes('music.apple.com')) {\n        setMusicPlatform('apple');\n        toast.success('Apple Music link added!');\n      } else {\n        toast.error('Please enter a valid YouTube, Spotify, or Apple Music link');\n        return;\n      }\n      \n      // Save to localStorage\n      localStorage.setItem('dashboardMusicLink', link);\n      localStorage.setItem('dashboardMusicPlatform', musicPlatform);\n      \n      setShowMusicInput(false);\n      toast.success('Music link updated successfully!');\n    }\n  };\n\n  const handleChangeMusic = () => {\n    setShowMusicInput(true);\n    setMusicLink(''); // Clear the current link when changing\n    setIsMusicLoading(false);\n    setIsPlaying(false);\n  };\n\n  const handleRemoveMusic = () => {\n    setMusicLink('');\n    setShowMusicInput(true);\n    setIsMusicLoading(false);\n    setIsPlaying(false);\n    localStorage.removeItem('dashboardMusicLink');\n    localStorage.removeItem('dashboardMusicPlatform');\n    toast.success('Music link removed!');\n  };\n\n  const handlePlayPause = () => {\n    if (musicPlatform === 'youtube') {\n      if (youtubePlayer) {\n        try {\n          if (isPlaying) {\n            youtubePlayer.pauseVideo();\n          } else {\n            youtubePlayer.playVideo();\n          }\n          setIsPlaying(!isPlaying);\n        } catch (error) {\n          console.error('Error controlling YouTube player:', error);\n          toast.error('Unable to control music player. Please try again.');\n        }\n      } else {\n        // Fallback: open in new tab if player not ready\n        handleOpenInNewTab();\n      }\n    } else if (musicPlatform === 'spotify' || musicPlatform === 'apple') {\n      // For Spotify and Apple Music, just open in new tab\n      handleOpenInNewTab();\n    } else {\n      setIsPlaying(!isPlaying);\n    }\n  };\n\n\n  const handleOpenInNewTab = () => {\n    if (musicLink) {\n      window.open(musicLink, '_blank', 'noopener,noreferrer');\n    }\n  };\n\n  const getEmbedUrl = () => {\n    if (!musicLink) return null;\n    \n    const link = musicLink.trim();\n    console.log('Current music link:', link);\n    \n    if (link.includes('youtube.com') || link.includes('youtu.be')) {\n      const videoId = extractYouTubeId(link);\n      console.log('Extracted video ID:', videoId);\n      if (videoId) {\n        // Remove autoplay and add enablejsapi for control\n        const embedUrl = `https://www.youtube.com/embed/${videoId}?controls=1&showinfo=0&rel=0&modestbranding=1&loop=1&playlist=${videoId}&enablejsapi=1`;\n        console.log('Generated embed URL:', embedUrl);\n        return embedUrl;\n      }\n    } else if (link.includes('spotify.com')) {\n      const spotifyData = extractSpotifyId(link);\n      if (spotifyData) {\n        return `https://open.spotify.com/embed/${spotifyData.type}/${spotifyData.id}`;\n      }\n    } else if (link.includes('music.apple.com')) {\n      const appleData = extractAppleMusicId(link);\n      if (appleData) {\n        return `https://embed.music.apple.com/us/album/${appleData.id}`;\n      }\n    }\n    \n    return null;\n  };\n\n  const extractYouTubeId = (url) => {\n    const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\n    const match = url.match(regExp);\n    return (match && match[2].length === 11) ? match[2] : null;\n  };\n\n  const extractSpotifyId = (url) => {\n    const match = url.match(/spotify\\.com\\/(track|album|playlist)\\/([a-zA-Z0-9]+)/);\n    return match ? { type: match[1], id: match[2] } : null;\n  };\n\n  const extractAppleMusicId = (url) => {\n    const match = url.match(/music\\.apple\\.com\\/.*\\/(album|song)\\/.*\\/(\\d+)/);\n    return match ? { type: match[1], id: match[2] } : null;\n  };\n\n  // Image card component\n  const ImageCard = ({ image, className = \"\", animationClass = \"\" }) => (\n    <div className={`col-span-1 ${className} ${animationClass}`}>\n      <Card className=\"h-full overflow-hidden group cursor-pointer hover:shadow-2xl transition-all duration-500 hover:-translate-y-2\">\n        <div className=\"relative h-full bg-gradient-to-br from-[#1E49C9]/20 to-[#3EA6FF]/20\">\n          <img \n            src={image.src}\n            alt={image.title}\n            className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"\n          />\n          <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent flex items-end justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 p-4\">\n            <div className=\"text-center text-white transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500\">\n              <h3 className=\"font-jakarta text-lg font-semibold mb-1\">{image.title}</h3>\n              <p className=\"text-sm opacity-90\">{image.subtitle}</p>\n            </div>\n          </div>\n          <div \n            className=\"absolute top-4 right-4 w-3 h-3 rounded-full animate-pulse-glow\"\n            style={{ backgroundColor: image.color }}\n          ></div>\n        </div>\n      </Card>\n    </div>\n  );\n\n  // Get time-based greeting\n  const getTimeBasedGreeting = () => {\n    const hour = new Date().getHours();\n    if (hour >= 5 && hour < 12) {\n      return \"Good morning\";\n    } else if (hour >= 12 && hour < 17) {\n      return \"Good afternoon\";\n    } else if (hour >= 17 && hour < 21) {\n      return \"Good evening\";\n    } else {\n      return \"Good night\";\n    }\n  };\n\n  // Get today's comprehensive score\n  const getTodaysScore = () => {\n    if (isDataLoading) return null;\n    \n    const today = new Date();\n    const dateStr = today.toLocaleDateString('en-CA');\n    \n    // Calculate mindfulness score\n    const mindfulnessScore = safeMindfulnessCheckins.find(checkin => {\n      if (!checkin || !checkin.date) return false;\n      const checkinDate = new Date(checkin.date).toLocaleDateString('en-CA');\n      return dateStr === checkinDate;\n    });\n    \n    let totalScore = 0;\n    const breakdown = {\n      mindfulness: 0,\n      goalProgress: 0,\n      habitCompletion: 0,\n      mealEffects: 0,\n      impulseBuyPenalty: 0\n    };\n    \n    // Mindfulness score (0-25)\n    if (mindfulnessScore) {\n      // Use the pre-calculated totalScore from the database\n      breakdown.mindfulness = mindfulnessScore.totalScore || 0;\n    }\n    \n    // Goal progress score (0-20)\n    const completedTasksForGoals = safeTasks.filter(task => {\n      if (!task.goalIds || task.goalIds.length === 0) return false;\n      if (task.status !== 'completed') return false;\n      const taskDate = new Date(task.completedAt || task.updatedAt).toLocaleDateString('en-CA');\n      return taskDate === dateStr;\n    });\n    \n    if (completedTasksForGoals.length > 0) {\n      breakdown.goalProgress = 10;\n      if (completedTasksForGoals.length >= 2) breakdown.goalProgress += 5;\n      if (completedTasksForGoals.length >= 3) breakdown.goalProgress += 5;\n    }\n    \n    // Habit completion score (0-15)\n    let completedCount = 0;\n    let totalCount = 0;\n    \n    safeHabits.forEach(habit => {\n      if (!habit || !habit.startDate || !habit.endDate) return;\n      const checkDate = new Date(today);\n      checkDate.setHours(0, 0, 0, 0);\n      const startDate = new Date(habit.startDate);\n      startDate.setHours(0, 0, 0, 0);\n      const endDate = new Date(habit.endDate);\n      endDate.setHours(23, 59, 59, 999);\n      \n      if (habit.isActive && checkDate >= startDate && checkDate <= endDate) {\n        totalCount++;\n        const checkin = habit.checkins?.find(c => {\n          const checkinDate = new Date(c.date).toLocaleDateString('en-CA');\n          return checkinDate === dateStr && c.completed;\n        });\n        if (checkin) completedCount++;\n      }\n    });\n    \n    if (totalCount > 0) {\n      const completionRate = completedCount / totalCount;\n      breakdown.habitCompletion = Math.round(completionRate * 15);\n    }\n    \n    // Meal effects score (0-25)\n    const dayMeals = safeMeals.filter(meal => {\n      const mealDate = new Date(meal.ts).toLocaleDateString('en-CA');\n      return mealDate === dateStr;\n    });\n    \n    if (dayMeals.length > 0) {\n      let totalMealScore = 0;\n      let mealCount = 0;\n      \n      dayMeals.forEach(meal => {\n        if (!meal.computed?.effects) return;\n        const effects = meal.computed.effects;\n        let mealScore = 0;\n        \n        const positiveEffects = ['strength', 'antiInflammatory', 'immunity', 'gutFriendly', 'energizing'];\n        positiveEffects.forEach(effect => {\n          if (effects[effect]?.score) {\n            mealScore += Math.round(effects[effect].score / 2);\n          }\n        });\n        \n        const negativeEffects = ['inflammation', 'fatForming'];\n        negativeEffects.forEach(effect => {\n          if (effects[effect]?.score) {\n            mealScore -= Math.round(effects[effect].score / 2);\n          }\n        });\n        \n        totalMealScore += Math.max(0, mealScore);\n        mealCount++;\n      });\n      \n      // Cap the meal effects score at 25 points total\n      breakdown.mealEffects = Math.min(Math.round(totalMealScore), 25);\n    }\n    \n    // Impulse buy penalty (0 to -10)\n    const dayExpenses = safeExpenses.filter(expense => {\n      const expenseDate = new Date(expense.date).toLocaleDateString('en-CA');\n      return expenseDate === dateStr;\n    });\n    \n    const impulseExpenses = dayExpenses.filter(expense => expense.impulseBuy === true);\n    if (impulseExpenses.length > 0) {\n      let penalty = 0;\n      impulseExpenses.forEach(expense => {\n        if (expense.amount > 1000) penalty += 3;\n        else if (expense.amount > 500) penalty += 2;\n        else if (expense.amount > 100) penalty += 1;\n        else penalty += 0.5;\n      });\n      breakdown.impulseBuyPenalty = Math.min(penalty, 10);\n    }\n    \n    totalScore = Math.max(0, breakdown.mindfulness + breakdown.goalProgress + breakdown.habitCompletion + breakdown.mealEffects - breakdown.impulseBuyPenalty);\n    \n    return { totalScore, breakdown };\n  };\n\n  // Get detailed day data for popup\n  const getDetailedDayData = (date) => {\n    const dateStr = date.toLocaleDateString('en-CA');\n    \n    // Get mindfulness data for the day\n    const mindfulnessCheckin = safeMindfulnessCheckins.find(checkin => {\n      if (!checkin || !checkin.date) return false;\n      const checkinDate = new Date(checkin.date).toLocaleDateString('en-CA');\n      return dateStr === checkinDate;\n    });\n    \n    // Get tasks completed on this day\n    const dayTasks = safeTasks.filter(task => {\n      if (task.status !== 'completed') return false;\n      const taskDate = new Date(task.completedAt || task.updatedAt).toLocaleDateString('en-CA');\n      return taskDate === dateStr;\n    });\n    \n    // Get habits completed on this day\n    const dayHabits = safeHabits.filter(habit => {\n      if (!habit.isActive) return false;\n      const checkin = habit.checkins?.find(c => {\n        const checkinDate = new Date(c.date).toLocaleDateString('en-CA');\n        return checkinDate === dateStr && c.completed;\n      });\n      return !!checkin;\n    });\n    \n    // Get meals logged on this day\n    const dayMeals = safeMeals.filter(meal => {\n      const mealDate = new Date(meal.ts).toLocaleDateString('en-CA');\n      return mealDate === dateStr;\n    });\n    \n    // Get expenses for this day\n    const dayExpenses = safeExpenses.filter(expense => {\n      const expenseDate = new Date(expense.date).toLocaleDateString('en-CA');\n      return expenseDate === dateStr;\n    });\n    \n    // Get journal entries for this day\n    const dayJournalEntries = []; // Add journal data if available\n    \n    // Calculate nutrition totals\n    const nutritionTotals = dayMeals.reduce((acc, meal) => {\n      const totals = meal.computed && meal.computed.totals ? meal.computed.totals : {};\n      Object.keys(totals).forEach(key => {\n        acc[key] = (acc[key] || 0) + (totals[key] || 0);\n      });\n      return acc;\n    }, {});\n    \n    // Calculate meal effects\n    const mealEffects = dayMeals.reduce((acc, meal) => {\n      const effects = meal.computed && meal.computed.effects ? meal.computed.effects : {};\n      Object.entries(effects).forEach(([effectKey, effectData]) => {\n        if (!acc[effectKey]) {\n          acc[effectKey] = { score: 0, why: [] };\n        }\n        acc[effectKey].score += effectData.score || 0;\n        if (Array.isArray(effectData.why)) {\n          effectData.why.forEach(reason => {\n            if (!acc[effectKey].why.includes(reason)) acc[effectKey].why.push(reason);\n          });\n        }\n      });\n      return acc;\n    }, {});\n    \n    return {\n      date: date,\n      dateStr: dateStr,\n      mindfulnessCheckin,\n      tasks: dayTasks,\n      habits: dayHabits,\n      meals: dayMeals,\n      expenses: dayExpenses,\n      journalEntries: dayJournalEntries,\n      nutritionTotals,\n      mealEffects\n    };\n  };\n\n  // Handle day click to show popup\n  const handleDayClick = (date) => {\n    const dayData = getDetailedDayData(date);\n    setSelectedDayData(dayData);\n    setShowDaySummary(true);\n  };\n\n  // Get goals progress for today\n  const getGoalsProgress = () => {\n    if (isDataLoading || !goals || goals.length === 0) return [];\n    \n    const today = new Date();\n    const dateStr = today.toLocaleDateString('en-CA');\n    \n    return goals.map(goal => {\n      // Count tasks completed for this goal today\n      const completedTasks = safeTasks.filter(task => {\n        if (!task.goalIds || !task.goalIds.includes(goal._id)) return false;\n        if (task.status !== 'completed') return false;\n        const taskDate = new Date(task.completedAt || task.updatedAt).toLocaleDateString('en-CA');\n        return taskDate === dateStr;\n      });\n      \n      // Count habits completed for this goal today\n      const completedHabits = safeHabits.filter(habit => {\n        if (!habit.goalIds || !habit.goalIds.includes(goal._id)) return false;\n        if (!habit.isActive) return false;\n        \n        const checkin = habit.checkins?.find(c => {\n          const checkinDate = new Date(c.date).toLocaleDateString('en-CA');\n          return checkinDate === dateStr && c.completed;\n        });\n        return !!checkin;\n      });\n      \n      // Calculate progress percentage based on target hours\n      const todayHours = completedTasks.reduce((sum, task) => {\n        return sum + (task.estimatedHours || 0);\n      }, 0);\n      \n      const progressPercentage = goal.targetHours > 0 \n        ? Math.min((todayHours / goal.targetHours) * 100, 100)\n        : 0;\n      \n      return {\n        ...goal,\n        completedTasks: completedTasks.length,\n        completedHabits: completedHabits.length,\n        todayHours: Math.round(todayHours * 10) / 10,\n        progressPercentage: Math.round(progressPercentage)\n      };\n    }).sort((a, b) => b.progressPercentage - a.progressPercentage);\n  };\n\n  const getPlatformIcon = () => {\n    switch (musicPlatform) {\n      case 'youtube':\n        return (\n          <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path d=\"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z\"/>\n          </svg>\n        );\n      case 'spotify':\n        return (\n          <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path d=\"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.42 1.56-.299.421-1.02.599-1.559.3z\"/>\n          </svg>\n        );\n      case 'apple':\n        return (\n          <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path d=\"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z\"/>\n          </svg>\n        );\n      default:\n        return (\n          <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path d=\"M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v9.114A4.369 4.369 0 005 14c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V7.82l8-1.6v5.894A4.369 4.369 0 0015 12c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V3z\"/>\n          </svg>\n        );\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-[#0A0C0F] via-[#11151A] to-[#0A0C0F] p-4 md:p-6\">\n      {/* Enhanced Header Section */}\n      <div className=\"mb-8\">\n        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\n          <div>\n            <h1 className=\"font-jakarta text-3xl md:text-4xl font-bold text-white mb-2\">\n              {getTimeBasedGreeting()}, {user?.firstName || 'User'}! ðŸ‘‹\n            </h1>\n            <p className=\"font-jakarta text-lg text-white/70\">\n              {new Date().toLocaleDateString('en-US', { \n                weekday: 'long', \n                year: 'numeric', \n                month: 'long', \n                day: 'numeric' \n              })}\n            </p>\n          </div>\n          \n          {/* Today's Score Only */}\n          <div className=\"flex flex-wrap gap-4\">\n            {(() => {\n              const todaysScore = getTodaysScore();\n              if (!todaysScore) return null;\n              \n              const { totalScore, breakdown } = todaysScore;\n              return (\n                <div className=\"relative group\">\n                  <div className=\"flex items-center bg-white/5 backdrop-blur-md rounded-xl px-6 py-3 border border-white/10 hover:bg-white/10 transition-all duration-200 cursor-help\">\n                    <div className=\"text-center\">\n                      <div className=\"text-2xl font-bold text-white\">{totalScore || 0}</div>\n                      <div className=\"text-xs text-white/60\">Today's Score</div>\n                    </div>\n                  </div>\n                  \n                  {/* Custom Tooltip */}\n                  <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-50\">\n                    <div className=\"bg-gray-900/95 backdrop-blur-md border border-white/20 rounded-lg p-4 space-y-3 min-w-[280px] shadow-2xl\">\n                      <div className=\"text-lg font-semibold text-white mb-3\">Score Breakdown</div>\n                      <div className=\"space-y-2 text-sm\">\n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-white/80\">Mindfulness</span>\n                          <span className=\"text-white font-medium\">{breakdown.mindfulness}/25</span>\n                        </div>\n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-white/80\">Goal Progress</span>\n                          <span className=\"text-white font-medium\">{breakdown.goalProgress}/20</span>\n                        </div>\n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-white/80\">Habit Completion</span>\n                          <span className=\"text-white font-medium\">{breakdown.habitCompletion}/15</span>\n                        </div>\n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-white/80\">Meal Effects</span>\n                          <span className=\"text-white font-medium\">{breakdown.mealEffects}/25</span>\n                        </div>\n                        {breakdown.impulseBuyPenalty > 0 && (\n                          <div className=\"flex justify-between items-center\">\n                            <span className=\"text-red-400\">Impulse Buy Penalty</span>\n                            <span className=\"text-red-400 font-medium\">-{breakdown.impulseBuyPenalty}</span>\n                          </div>\n                        )}\n                        <div className=\"border-t border-white/20 pt-2 mt-3\">\n                          <div className=\"flex justify-between items-center\">\n                            <span className=\"text-white font-semibold\">Total Score</span>\n                            <span className=\"text-white font-bold text-lg\">{totalScore || 0}</span>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    {/* Arrow */}\n                    <div className=\"absolute top-full left-1/2 transform -translate-x-1/2 border-t-gray-900/95 border-t-4 border-x-4 border-x-transparent\"></div>\n                  </div>\n                </div>\n              );\n            })()}\n          </div>\n        </div>\n      </div>\n\n      {/* Enhanced Bento Grid Layout */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 auto-rows-[minmax(200px,auto)] [&>*:nth-child(odd)]:animate-fade-in [&>*:nth-child(even)]:animate-fade-in-delayed\">\n        \n\n         {/* Quick Actions Card - 1x1 */}\n        <div className=\"col-span-1\">\n          <Card className=\"h-full group hover:shadow-xl transition-all duration-300\">\n            <div className=\"p-6 h-full flex flex-col\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"font-jakarta text-lg font-semibold text-white\">Quick Actions</h3>\n                <div className=\"w-8 h-8 bg-[#1E49C9]/20 rounded-full flex items-center justify-center\">\n                  <span className=\"text-sm\">âš¡</span>\n                </div>\n              </div>\n              \n              <div className=\"grid grid-cols-2 gap-3 flex-1\">\n                {[\n                  { label: 'Add Task', icon: 'ðŸ“', href: '/goal-aligned-day', color: 'bg-blue-500/20 border-blue-500/30' },\n                  { label: 'Log Meal', icon: 'ðŸ½ï¸', href: '/food', color: 'bg-green-500/20 border-green-500/30' },\n                  { label: 'Journal', icon: 'ðŸ“–', href: '/journal', color: 'bg-purple-500/20 border-purple-500/30' },\n                  { label: 'Mindfulness', icon: 'ðŸ§˜', href: '/goal-aligned-day', color: 'bg-orange-500/20 border-orange-500/30' },\n                  { label: 'Add Expense', icon: 'ðŸ’°', href: '/finance', color: 'bg-yellow-500/20 border-yellow-500/30' },\n                  { label: 'Set Goal', icon: 'ðŸŽ¯', href: '/goal-aligned-day', color: 'bg-pink-500/20 border-pink-500/30' }\n                ].map((action, index) => (\n                  <motion.a\n                    key={action.label}\n                    href={action.href}\n                    whileHover={{ scale: 1.05 }}\n                    whileTap={{ scale: 0.95 }}\n                    className={`${action.color} backdrop-blur-sm rounded-xl p-3 border hover:scale-105 transition-all duration-200 group cursor-pointer`}\n                  >\n                    <div className=\"text-center\">\n                      <div className=\"text-2xl mb-1 group-hover:scale-110 transition-transform duration-200\">\n                        {action.icon}\n                      </div>\n                      <div className=\"text-xs font-medium text-white/90\">\n                        {action.label}\n                      </div>\n                    </div>\n                  </motion.a>\n                ))}\n              </div>\n            </div>\n          </Card>\n        </div>\n\n        {/* Random Image Card 1 - Nature */}\n        <div className=\"col-span-1 animate-fade-in\">\n          <Card className=\"h-full overflow-hidden group cursor-pointer hover:shadow-2xl transition-all duration-500 hover:-translate-y-2\">\n            <div className=\"relative h-full bg-gradient-to-br from-[#1E49C9]/20 to-[#3EA6FF]/20\">\n              <img \n                src=\"/images/dashboard/nature.jpg\"\n                alt=\"Nature Inspiration\"\n                className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"\n              />\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent flex items-end justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 p-4\">\n                <div className=\"text-center text-white transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500\">\n                  <h3 className=\"font-jakarta text-lg font-semibold mb-1\">Nature's Wisdom</h3>\n                  <p className=\"text-sm opacity-90\">Find peace in simplicity</p>\n                </div>\n              </div>\n              <div className=\"absolute top-4 right-4 w-3 h-3 bg-[#1E49C9] rounded-full animate-pulse-glow\"></div>\n            </div>\n          </Card>\n        </div>\n\n        {/* Music Card - 1x1 */}\n        <div className=\"col-span-1\">\n          <Card className=\"h-full group relative\">\n            <div className=\"bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.15)] rounded-xl p-4 backdrop-blur-[28px] backdrop-saturate-[140%] shadow-[inset_0_1px_0_rgba(255,255,255,0.15),0_4px_6px_-1px_rgba(0,0,0,0.1)]\">\n              {/* Music Link Input */}\n              {showMusicInput ? (\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center space-x-2\">\n                    <div className=\"p-2 bg-[#1E49C9] bg-opacity-20 rounded-lg\">\n                      {getPlatformIcon()}\n                    </div>\n                    <h4 className=\"font-jakarta text-sm font-semibold text-text-primary\">Add Music Link</h4>\n                  </div>\n                  <div className=\"space-y-2\">\n                    <div className=\"flex space-x-2\">\n                      <input\n                        type=\"text\"\n                        placeholder=\"Paste YouTube, Spotify, or Apple Music link...\"\n                        value={musicLink}\n                        onChange={(e) => setMusicLink(e.target.value)}\n                        className=\"flex-1 bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.15)] rounded-lg px-3 py-2 text-sm text-text-primary placeholder-text-secondary focus:border-[#1E49C9] focus:outline-none\"\n                      />\n                      <button\n                        onClick={handleMusicLinkSubmit}\n                        className=\"px-4 py-2 bg-[#1E49C9] text-white rounded-lg hover:bg-[#1E49C9]/80 transition-colors text-sm font-medium\"\n                      >\n                        Add\n                      </button>\n                      <button\n                        onClick={() => setShowMusicInput(false)}\n                        className=\"px-4 py-2 bg-[rgba(255,255,255,0.1)] text-text-secondary rounded-lg hover:bg-[rgba(255,255,255,0.2)] transition-colors text-sm\"\n                      >\n                        Cancel\n                      </button>\n                    </div>\n                    <div className=\"text-xs text-text-secondary bg-background-secondary/50 rounded-lg p-2\">\n                      <strong>Note:</strong> Music links will be displayed as track information. Click \"Open\" to play the track in the original platform.\n                    </div>\n                  </div>\n                </div>\n              ) : (\n                <div>\n                  {/* Custom Track Display */}\n                  {musicLink && (\n                    <div className=\"mb-4\">\n                      <div className=\"flex items-center space-x-2 mb-4\">\n                        <div className=\"p-1 bg-[#1E49C9] bg-opacity-20 rounded\">\n                          {getPlatformIcon()}\n                        </div>\n                        <h4 className=\"font-jakarta text-sm font-semibold text-text-primary\">\n                          Now Playing\n                        </h4>\n                      </div>\n                      \n                      {/* Gramophone Player */}\n                      <div className=\"flex flex-col items-center justify-center py-8\">\n                        {/* Hidden YouTube Player for Audio */}\n                        {musicPlatform === 'youtube' && (\n                          <div\n                            ref={youtubePlayerRef}\n                            className=\"absolute opacity-0 pointer-events-none w-1 h-1\"\n                            id=\"youtube-player\"\n                          ></div>\n                        )}\n                        \n                        {/* Gramophone Base */}\n                        <div className=\"relative flex flex-col items-center\">\n                          {/* Glassmorphic Gramophone Visual with Primary Color */}\n                          <div className=\"relative w-32 h-32 mx-auto\">\n                            {/* Gramophone Base - Glassmorphic with Primary Color */}\n                            <div className=\"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-24 h-16 bg-gradient-to-t from-[rgba(30,73,201,0.2)] to-[rgba(30,73,201,0.1)] backdrop-blur-md rounded-t-full border border-[rgba(30,73,201,0.3)] shadow-[0_8px_32px_rgba(30,73,201,0.2)]\">\n                              <div className=\"absolute top-2 left-1/2 transform -translate-x-1/2 w-20 h-2 bg-[rgba(30,73,201,0.3)] backdrop-blur-sm rounded-full\"></div>\n                            </div>\n                            \n                            {/* Horn - Glassmorphic with Primary Color */}\n                            <div className=\"absolute top-4 left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-[20px] border-l-transparent border-r-[20px] border-r-transparent border-b-[40px] border-b-[rgba(30,73,201,0.2)] backdrop-blur-sm\"></div>\n                            \n                            {/* Record - Glassmorphic with Primary Color */}\n                            <div className={`absolute top-8 left-1/2 transform -translate-x-1/2 w-20 h-20 bg-gradient-to-br from-[rgba(30,73,201,0.15)] to-[rgba(30,73,201,0.08)] backdrop-blur-md rounded-full border border-[rgba(30,73,201,0.3)] shadow-[0_8px_32px_rgba(30,73,201,0.2)] ${isPlaying ? 'animate-spin' : ''}`} style={{ animationDuration: '3s' }}>\n                              <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-6 h-6 bg-[rgba(30,73,201,0.4)] backdrop-blur-sm rounded-full border border-[rgba(30,73,201,0.2)]\"></div>\n                              <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-2 h-2 bg-[rgba(30,73,201,0.6)] rounded-full\"></div>\n                              {/* Grooves - Glassmorphic with Primary Color */}\n                              <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-16 h-16 border border-[rgba(30,73,201,0.2)] rounded-full opacity-30\"></div>\n                              <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-12 h-12 border border-[rgba(30,73,201,0.2)] rounded-full opacity-20\"></div>\n                              <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-8 h-8 border border-[rgba(30,73,201,0.2)] rounded-full opacity-10\"></div>\n                            </div>\n                            \n                            {/* Tonearm - Glassmorphic with Primary Color */}\n                            <div className={`absolute top-12 left-1/2 transform -translate-x-1/2 w-16 h-1 bg-[rgba(30,73,201,0.3)] backdrop-blur-sm rounded-full origin-left border border-[rgba(30,73,201,0.2)] ${isPlaying ? 'animate-pulse' : ''}`} style={{ transform: 'translateX(-50%) rotate(-15deg)' }}>\n                              <div className=\"absolute right-0 top-1/2 transform translate-x-1 -translate-y-1/2 w-2 h-2 bg-[rgba(30,73,201,0.5)] backdrop-blur-sm rounded-full border border-[rgba(30,73,201,0.2)]\"></div>\n                            </div>\n                            \n                            {/* Sound Waves - Glassmorphic with Primary Color */}\n                            {isPlaying && (\n                              <div className=\"absolute -top-4 left-1/2 transform -translate-x-1/2\">\n                                <div className=\"flex space-x-1\">\n                                  <div className=\"w-1 h-4 bg-[rgba(30,73,201,0.4)] backdrop-blur-sm rounded-full animate-pulse border border-[rgba(30,73,201,0.2)]\" style={{ animationDelay: '0s' }}></div>\n                                  <div className=\"w-1 h-6 bg-[rgba(30,73,201,0.4)] backdrop-blur-sm rounded-full animate-pulse border border-[rgba(30,73,201,0.2)]\" style={{ animationDelay: '0.1s' }}></div>\n                                  <div className=\"w-1 h-3 bg-[rgba(30,73,201,0.4)] backdrop-blur-sm rounded-full animate-pulse border border-[rgba(30,73,201,0.2)]\" style={{ animationDelay: '0.2s' }}></div>\n                                  <div className=\"w-1 h-5 bg-[rgba(30,73,201,0.4)] backdrop-blur-sm rounded-full animate-pulse border border-[rgba(30,73,201,0.2)]\" style={{ animationDelay: '0.3s' }}></div>\n                                  <div className=\"w-1 h-2 bg-[rgba(30,73,201,0.4)] backdrop-blur-sm rounded-full animate-pulse border border-[rgba(30,73,201,0.2)]\" style={{ animationDelay: '0.4s' }}></div>\n                                </div>\n                              </div>\n                            )}\n                          </div>\n                          \n                          {/* Play/Pause Button - Glassmorphic with Primary Color - Centered */}\n                          <div className=\"flex justify-center mt-6\">\n                            <button\n                              onClick={handlePlayPause}\n                              disabled={isMusicLoading}\n                              className=\"w-12 h-12 bg-[rgba(30,73,201,0.2)] backdrop-blur-md border border-[rgba(30,73,201,0.3)] rounded-full flex items-center justify-center text-white hover:bg-[rgba(30,73,201,0.3)] transition-all duration-300 shadow-[0_8px_32px_rgba(30,73,201,0.2)] disabled:opacity-50 disabled:cursor-not-allowed\"\n                            >\n                              {isMusicLoading ? (\n                                <div className=\"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent\"></div>\n                              ) : isPlaying ? (\n                                <div className=\"flex space-x-1\">\n                                  <div className=\"w-1 h-4 bg-white rounded\"></div>\n                                  <div className=\"w-1 h-4 bg-white rounded\"></div>\n                                </div>\n                              ) : (\n                                <div className=\"w-0 h-0 border-l-[6px] border-l-white border-y-[4px] border-y-transparent ml-1\"></div>\n                              )}\n                            </button>\n                          </div>\n                          \n                          {/* Track Info */}\n                          <div className=\"mt-4 text-center\">\n                            <h4 className=\"font-jakarta text-sm font-semibold text-text-primary\">\n                              {musicPlatform === 'youtube' ? 'YouTube Music' : \n                               musicPlatform === 'spotify' ? 'Spotify' : \n                               musicPlatform === 'apple' ? 'Apple Music' : 'Custom Track'}\n                            </h4>\n                            <p className=\"font-jakarta text-xs text-text-secondary\">\n                              {isMusicLoading ? 'Loading...' : isPlaying ? 'Now Playing' : 'Paused'}\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                  \n                  {/* Music Controls - Hover Icons */}\n                  {musicLink && (\n                    <div className=\"absolute top-4 right-4 flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                      <Tooltip content=\"Change Music Link\" position=\"bottom\">\n                        <button\n                          onClick={handleChangeMusic}\n                          className=\"w-8 h-8 bg-[#1E49C9] text-white rounded-full flex items-center justify-center hover:bg-[#1E49C9]/80 transition-colors shadow-lg\"\n                        >\n                          <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                            <path fillRule=\"evenodd\" d=\"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 01-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z\" clipRule=\"evenodd\"/>\n                          </svg>\n                        </button>\n                      </Tooltip>\n                      <Tooltip content=\"Remove Music Link\" position=\"bottom\">\n                        <button \n                          onClick={handleRemoveMusic}\n                          className=\"w-8 h-8 bg-red-600 text-white rounded-full flex items-center justify-center hover:bg-red-700 transition-colors shadow-lg\"\n                        >\n                          <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                            <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z\" clipRule=\"evenodd\"/>\n                            <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\"/>\n                          </svg>\n                        </button>\n                      </Tooltip>\n                    </div>\n                  )}\n                \n                  {/* No Music State */}\n                  {!musicLink && (\n                    <div className=\"text-center py-8\">\n                      <div className=\"w-16 h-16 bg-[#2A313A] rounded-full mx-auto mb-4 flex items-center justify-center\">\n                        <svg className=\"h-8 w-8 text-[#C9D1D9]\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                          <path d=\"M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v9.114A4.369 4.369 0 005 14c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V7.82l8-1.6v5.894A4.369 4.369 0 0015 12c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V3z\"/>\n                        </svg>\n                      </div>\n                      <h3 className=\"font-jakarta text-lg font-semibold text-text-primary mb-2\">No Music Added</h3>\n                      <p className=\"font-jakarta text-text-secondary mb-4\">Add your favorite music to get started</p>\n                      <button\n                        onClick={() => setShowMusicInput(true)}\n                        className=\"px-4 py-2 bg-[#1E49C9] text-white text-sm rounded-lg hover:bg-[#1E49C9]/80 transition-colors\"\n                      >\n                        ADD MUSIC\n                      </button>\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          </Card>\n        </div>\n\n        {/* Quote Card - 1x1 */}\n        <div className=\"col-span-1\">\n          <Card className=\"h-full group relative\" animate={false}>\n            <div className=\"h-full flex flex-col justify-center items-center p-6 relative\">\n              {/* Refresh Button - Only visible on hover */}\n              <div className=\"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200\">\n                <button\n                  onClick={refreshQuote}\n                  className=\"p-1.5 text-[#1E49C9] hover:text-[#1E49C9]/80 hover:bg-[#2A313A] rounded-full transition-all duration-200\"\n                  title=\"Get a new quote\"\n                >\n                  <RefreshCw size={14} className=\"hover:rotate-180 transition-transform duration-500\" />\n                </button>\n              </div>\n              \n              {quotesLoading ? (\n                <div className=\"flex justify-center py-8\">\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1E49C9]\"></div>\n                </div>\n              ) : (\n                <div className=\"space-y-4 sm:space-y-6 w-full h-full flex flex-col justify-center\">\n                  {/* Quote - Major Emphasis with Enhanced Typography */}\n                  <blockquote className=\"font-jakarta text-lg sm:text-xl lg:text-2xl font-light text-text-primary italic leading-relaxed text-center\">\n                    \"{getQuoteOfTheDay()}\"\n                  </blockquote>\n                  \n                  {/* Author - Secondary Emphasis with Right Alignment */}\n                  <div className=\"text-right\">\n                    <cite className=\"font-jakarta text-xs sm:text-sm text-[#1E49C9] font-medium leading-relaxed tracking-wider block\">\n                      â€” {getQuoteAuthor()}\n                    </cite>\n                    \n                    {/* Source - Tertiary Emphasis */}\n                    {dashboardQuotes.length > 0 && getQuoteSource() && (\n                      <p className=\"font-jakarta text-xs text-text-secondary mt-1\">\n                        from <span className=\"text-[#1E49C9] font-medium\">{getQuoteSource()}</span>\n                      </p>\n                    )}\n                  </div>\n                  \n                  {/* Add Quotes Hint - Least Emphasis */}\n                  {dashboardQuotes.length === 0 && !quotesLoading && (\n                    <p className=\"font-jakarta text-xs text-text-secondary opacity-40 mt-2 text-center px-2\">\n                      Add quotes in Content tab to see them here\n                    </p>\n                  )}\n                </div>\n              )}\n            </div>\n          </Card>\n        </div>\n\n\n        {/* Year Grid Row */}\n        <div className=\"col-span-1 md:col-span-2 lg:col-span-3 xl:col-span-4\">\n          <div className=\"h-full\">\n            {/* Year Grid - Takes up full width */}\n            <div>\n              <Card className=\"h-full\">\n                <div className=\"p-6\">\n                  {isDataLoading ? (\n                    <div className=\"flex items-center justify-center h-32\">\n                      <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1E49C9]\"></div>\n                      <span className=\"ml-3 text-[#94A3B8]\">Loading year data...</span>\n                    </div>\n                  ) : (\n                    <MonthGrid\n                      selectedDate={selectedDate}\n                      habits={habits}\n                      goals={goals}\n                      mindfulnessCheckins={mindfulnessCheckins}\n                      tasks={tasks}\n                      meals={meals}\n                      expenses={expenses}\n                      onDateSelect={handleDayClick}\n                      onMonthChange={setSelectedDate}\n                    />\n                  )}\n                </div>\n              </Card>\n            </div>\n          </div>\n        </div>\n\n\n\n        {/* Financial Overview - 2x1 */}\n        <div className=\"md:col-span-2 lg:col-span-2 xl:col-span-2\">\n          <div className=\"h-full\">\n            <FinancialOverview />\n          </div>\n        </div>\n\n\n        {/* Random Image Card 2 - Abstract */}\n        <div className=\"col-span-1 animate-fade-in-delayed\">\n          <Card className=\"h-full overflow-hidden group cursor-pointer hover:shadow-2xl transition-all duration-500 hover:-translate-y-2\">\n            <div className=\"relative h-full bg-gradient-to-br from-[#FFD200]/20 to-[#D64545]/20\">\n              <img \n                src=\"/images/dashboard/abstract.jpg\"\n                alt=\"Abstract Art\"\n                className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"\n              />\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent flex items-end justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 p-4\">\n                <div className=\"text-center text-white transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500\">\n                  <h3 className=\"font-jakarta text-lg font-semibold mb-1\">Creative Flow</h3>\n                  <p className=\"text-sm opacity-90\">Embrace the unknown</p>\n                </div>\n              </div>\n              <div className=\"absolute top-4 right-4 w-3 h-3 bg-[#FFD200] rounded-full animate-pulse-glow\"></div>\n            </div>\n          </Card>\n        </div>\n\n        {/* Goals Progress - 2x1 */}\n        <div className=\"md:col-span-2 lg:col-span-2 xl:col-span-2\">\n          <Card className=\"h-full flex flex-col\">\n          <div className=\"flex justify-end mb-6\">\n            <a href=\"/goal-aligned-day\" className=\"font-jakarta text-sm text-[#1E49C9] hover:text-[#1E49C9]/80 font-medium flex items-center justify-center leading-relaxed tracking-wider border border-[#2A313A] px-3 py-2 rounded hover:bg-[#2A313A] transition-all duration-200\">\n              VIEW DETAILS <ArrowRight size={16} className=\"ml-1\" />\n            </a>\n          </div>\n          \n          <div className=\"flex-1 flex flex-col\">\n          {isDataLoading ? (\n            <div className=\"flex justify-center py-8\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"></div>\n            </div>\n          ) : getGoalsProgress().length > 0 ? (\n              <div className=\"space-y-4 flex-1\">\n              {/* Goals Progress Cards */}\n                <div className=\"space-y-3\">\n                  {getGoalsProgress().slice(0, 4).map((goal, index) => (\n                    <div key={goal._id || index} className=\"bg-[#11151A]/50 rounded-lg p-4 border border-[#2A313A] hover:border-[#1E49C9]/30 transition-all duration-200\">\n                      <div className=\"flex items-center justify-between mb-3\">\n                        <h4 className=\"text-sm font-medium text-[#E8EEF2] truncate flex-1\">\n                          {goal.name}\n                        </h4>\n                        <div className=\"flex items-center space-x-3 text-xs text-[#94A3B8]\">\n                          <span className=\"flex items-center space-x-1\">\n                            <Clock className=\"w-3 h-3\" />\n                            <span>{goal.todayHours}h / {goal.targetHours || 0}h</span>\n                          </span>\n                          <span className=\"flex items-center space-x-1\">\n                            <span className=\"w-2 h-2 bg-[#1E49C9] rounded-full\"></span>\n                            <span>{goal.completedTasks} tasks</span>\n                          </span>\n                          <span className=\"flex items-center space-x-1\">\n                            <span className=\"w-2 h-2 bg-[#3EA6FF] rounded-full\"></span>\n                            <span>{goal.completedHabits} habits</span>\n                          </span>\n                        </div>\n                      </div>\n                      \n                      {/* Progress Bar */}\n                      <div className=\"w-full bg-[#2A313A] rounded-full h-2 mb-2\">\n                        <div \n                          className=\"bg-gradient-to-r from-[#1E49C9] to-[#1E49C9] h-2 rounded-full transition-all duration-500\"\n                          style={{ width: `${goal.progressPercentage}%` }}\n                        />\n                      </div>\n                      \n                      <div className=\"flex items-center justify-between text-xs text-[#94A3B8]\">\n                        <span>{goal.progressPercentage}% complete</span>\n                        <span className=\"font-mono\">{goal.completedTasks + goal.completedHabits} activities today</span>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n          ) : (\n              <div className=\"text-center py-8 flex-1 flex flex-col justify-center\">\n              <div className=\"w-16 h-16 bg-[#2A313A] rounded-full mx-auto mb-4 flex items-center justify-center\">\n                <Clock className=\"text-[#C9D1D9]\" size={24} />\n              </div>\n              <h3 className=\"font-jakarta text-lg font-semibold text-text-primary mb-2\">No Goals Set</h3>\n              <p className=\"font-jakarta text-text-secondary mb-4\">Create some goals to track your progress</p>\n              <Button\n                onClick={() => window.location.href = '/goal-aligned-day'}\n                variant=\"primary\"\n                className=\"inline-flex items-center\"\n              >\n                CREATE GOALS\n              </Button>\n            </div>\n          )}\n          </div>\n          </Card>\n        </div>\n\n\n        {/* Daily Nutrition (Dashboard summary) - 1x1 */}\n        <div className=\"col-span-1\">\n          <Card className=\"h-full group hover:shadow-xl transition-all duration-300\">\n            <div className=\"p-6 h-full flex flex-col\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"font-jakarta text-lg font-semibold text-white\">Daily Nutrition</h3>\n                <div className=\"w-8 h-8 bg-orange-500/20 rounded-full flex items-center justify-center\">\n                  <span className=\"text-sm\">ðŸŽ</span>\n                </div>\n              </div>\n              {(() => {\n                const totals = getTodayNutritionTotals();\n                const effects = getTodayEffectsAggregate();\n                const dayMeals = getTodayMeals();\n                if (dayMeals.length === 0) {\n                  return (\n                    <div className=\"text-center py-8 flex-1 flex flex-col justify-center\">\n                      <div className=\"w-16 h-16 bg-white/5 rounded-full mx-auto mb-4 flex items-center justify-center\">\n                        <span className=\"text-2xl\">ðŸ½ï¸</span>\n                      </div>\n                      <h4 className=\"font-jakarta text-lg font-semibold text-white mb-2\">No Meals Logged</h4>\n                      <p className=\"font-jakarta text-sm text-white/60 mb-4\">Start tracking your nutrition today</p>\n                      <a \n                        href=\"/food\" \n                        className=\"inline-flex items-center px-4 py-2 bg-[#1E49C9] text-white text-sm rounded-lg hover:bg-[#1E49C9]/80 transition-colors\"\n                      >\n                        Log Meal\n                      </a>\n                    </div>\n                  );\n                }\n                return (\n                  <div className=\"space-y-4 flex-1\">\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div className=\"text-center p-3 bg-white/5 backdrop-blur-sm rounded-lg border border-white/10\">\n                        <div className=\"text-xl font-bold text-white\">{Math.round(totals.kcal || 0)}</div>\n                        <div className=\"text-xs text-white/60\">kcal</div>\n                      </div>\n                      <div className=\"text-center p-3 bg-white/5 backdrop-blur-sm rounded-lg border border-white/10\">\n                        <div className=\"text-xl font-bold text-white\">{Math.round(totals.protein || 0)}g</div>\n                        <div className=\"text-xs text-white/60\">protein</div>\n                      </div>\n                      <div className=\"text-center p-3 bg-white/5 backdrop-blur-sm rounded-lg border border-white/10\">\n                        <div className=\"text-xl font-bold text-white\">{Math.round(totals.carbs || 0)}g</div>\n                        <div className=\"text-xs text-white/60\">carbs</div>\n                      </div>\n                      <div className=\"text-center p-3 bg-white/5 backdrop-blur-sm rounded-lg border border-white/10\">\n                        <div className=\"text-xl font-bold text-white\">{Math.round(totals.fat || 0)}g</div>\n                        <div className=\"text-xs text-white/60\">fat</div>\n                      </div>\n                    </div>\n                    {Object.keys(effects).length > 0 && (\n                      <div>\n                        <div className=\"text-xs text-white/60 mb-2 font-medium\">Meal Effects</div>\n                        <div className=\"flex flex-wrap gap-2\">\n                          {Object.entries(effects)\n                            .filter(([, d]) => (d.score || 0) > 0)\n                            .sort((a, b) => (b[1].score || 0) - (a[1].score || 0))\n                            .slice(0, 6)\n                            .map(([key, d]) => (\n                              <span key={key} className=\"px-3 py-1 text-xs rounded-full bg-white/10 border border-white/20 text-white/80 font-medium\">\n                                {key} ({Math.round(d.score)})\n                              </span>\n                            ))}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                );\n              })()}\n            </div>\n          </Card>\n        </div>\n        \n        {/* Bottom Section Divider */}\n        <div className=\"col-span-1 md:col-span-2 lg:col-span-3 xl:col-span-4\">\n          <div className=\"h-px bg-gradient-to-r from-transparent via-white/20 to-transparent mb-6\"></div>\n        </div>\n\n        {/* Bottom Section - Improved Layout */}\n        <div className=\"col-span-1 md:col-span-2 lg:col-span-3 xl:col-span-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n            \n            {/* Journal Trends - Now in a proper card container */}\n            <div className=\"md:col-span-2 lg:col-span-2 xl:col-span-2\">\n              <Card className=\"h-full\">\n                <div className=\"p-6\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <h3 className=\"font-jakarta text-lg font-semibold text-white\">Journal Insights</h3>\n                    <div className=\"w-8 h-8 bg-purple-500/20 rounded-full flex items-center justify-center\">\n                      <span className=\"text-sm\">ðŸ“Š</span>\n                    </div>\n                  </div>\n                  <JournalTrends />\n                </div>\n              </Card>\n            </div>\n\n            {/* Urban Image Card - Better positioned */}\n            <div className=\"col-span-1 lg:col-span-1 xl:col-span-1 animate-fade-in-delayed\">\n              <Card className=\"h-full overflow-hidden group cursor-pointer hover:shadow-2xl transition-all duration-500 hover:-translate-y-2\">\n                <div className=\"relative h-full bg-gradient-to-br from-[#3EA6FF]/20 to-[#FFD200]/20\">\n                  <img \n                    src=\"/images/dashboard/urban.jpg\"\n                    alt=\"Urban Landscape\"\n                    className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"\n                  />\n                  <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent flex items-end justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 p-4\">\n                    <div className=\"text-center text-white transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500\">\n                      <h3 className=\"font-jakarta text-lg font-semibold mb-1\">Urban Energy</h3>\n                      <p className=\"text-sm opacity-90\">Thrive in the chaos</p>\n                    </div>\n                  </div>\n                  <div className=\"absolute top-4 right-4 w-3 h-3 bg-[#3EA6FF] rounded-full animate-pulse-glow\"></div>\n                </div>\n              </Card>\n            </div>\n\n            {/* Zen Image Card - Better positioned */}\n            <div className=\"col-span-1 lg:col-span-1 xl:col-span-1 animate-fade-in\">\n              <Card className=\"h-full overflow-hidden group cursor-pointer hover:shadow-2xl transition-all duration-500 hover:-translate-y-2\">\n                <div className=\"relative h-full bg-gradient-to-br from-[#1E49C9]/20 to-[#1E49C9]/20\">\n                  <img \n                    src=\"/images/dashboard/zen.jpg\"\n                    alt=\"Zen Garden\"\n                    className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"\n                  />\n                  <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent flex items-end justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 p-4\">\n                    <div className=\"text-center text-white transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500\">\n                      <h3 className=\"font-jakarta text-lg font-semibold mb-1\">Inner Peace</h3>\n                      <p className=\"text-sm opacity-90\">Find your center</p>\n                    </div>\n                  </div>\n                  <div className=\"absolute top-4 right-4 w-3 h-3 bg-[#1E49C9] rounded-full animate-pulse-glow\"></div>\n                </div>\n              </Card>\n            </div>\n\n          </div>\n        </div>\n\n        {/* Additional Bottom Section - Quick Summary Cards */}\n        <div className=\"col-span-1 md:col-span-2 lg:col-span-3 xl:col-span-4 mt-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n            \n            {/* Today's Focus */}\n            <Card className=\"h-full group hover:shadow-xl transition-all duration-300\">\n              <div className=\"p-4 h-full flex flex-col\">\n                <div className=\"flex items-center justify-between mb-3\">\n                  <h4 className=\"font-jakarta text-sm font-semibold text-white\">Today's Focus</h4>\n                  <div className=\"w-6 h-6 bg-blue-500/20 rounded-full flex items-center justify-center\">\n                    <span className=\"text-xs\">ðŸŽ¯</span>\n                  </div>\n                </div>\n                <div className=\"flex-1 flex flex-col justify-center\">\n                  <div className=\"text-center\">\n                    <div className=\"text-2xl font-bold text-white mb-1\">\n                      {(() => {\n                        const todaysScore = getTodaysScore();\n                        return todaysScore ? todaysScore.totalScore : '--';\n                      })()}\n                    </div>\n                    <div className=\"text-xs text-white/60\">Overall Score</div>\n                  </div>\n                </div>\n              </div>\n            </Card>\n\n            {/* Quick Stats */}\n            <Card className=\"h-full group hover:shadow-xl transition-all duration-300\">\n              <div className=\"p-4 h-full flex flex-col\">\n                <div className=\"flex items-center justify-between mb-3\">\n                  <h4 className=\"font-jakarta text-sm font-semibold text-white\">Quick Stats</h4>\n                  <div className=\"w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center\">\n                    <span className=\"text-xs\">ðŸ“ˆ</span>\n                  </div>\n                </div>\n                <div className=\"flex-1 flex flex-col justify-center space-y-2\">\n                  <div className=\"flex justify-between text-xs\">\n                    <span className=\"text-white/60\">Tasks Done:</span>\n                    <span className=\"text-white font-medium\">{todayTasks.length}</span>\n                  </div>\n                  <div className=\"flex justify-between text-xs\">\n                    <span className=\"text-white/60\">Meals Logged:</span>\n                    <span className=\"text-white font-medium\">{getTodayMeals().length}</span>\n                  </div>\n                  <div className=\"flex justify-between text-xs\">\n                    <span className=\"text-white/60\">Goals Active:</span>\n                    <span className=\"text-white font-medium\">{goals.filter(g => g.isActive).length}</span>\n                  </div>\n                </div>\n              </div>\n            </Card>\n\n            {/* Weekly Progress */}\n            <Card className=\"h-full group hover:shadow-xl transition-all duration-300\">\n              <div className=\"p-4 h-full flex flex-col\">\n                <div className=\"flex items-center justify-between mb-3\">\n                  <h4 className=\"font-jakarta text-sm font-semibold text-white\">This Week</h4>\n                  <div className=\"w-6 h-6 bg-purple-500/20 rounded-full flex items-center justify-center\">\n                    <span className=\"text-xs\">ðŸ“…</span>\n                  </div>\n                </div>\n                <div className=\"flex-1 flex flex-col justify-center\">\n                  <div className=\"text-center\">\n                    <div className=\"text-lg font-bold text-white mb-1\">\n                      {new Date().toLocaleDateString('en-US', { weekday: 'short' })}\n                    </div>\n                    <div className=\"text-xs text-white/60\">Current Day</div>\n                  </div>\n                </div>\n              </div>\n            </Card>\n\n            {/* Next Action */}\n            <Card className=\"h-full group hover:shadow-xl transition-all duration-300\">\n              <div className=\"p-4 h-full flex flex-col\">\n                <div className=\"flex items-center justify-between mb-3\">\n                  <h4 className=\"font-jakarta text-sm font-semibold text-white\">Next Action</h4>\n                  <div className=\"w-6 h-6 bg-orange-500/20 rounded-full flex items-center justify-center\">\n                    <span className=\"text-xs\">âš¡</span>\n                  </div>\n                </div>\n                <div className=\"flex-1 flex flex-col justify-center\">\n                  <div className=\"text-center\">\n                    <div className=\"text-sm text-white/80 mb-2\">Ready to continue your journey?</div>\n                    <a \n                      href=\"/goal-aligned-day\" \n                      className=\"inline-block px-3 py-1 bg-[#1E49C9] text-white text-xs rounded-lg hover:bg-[#1E49C9]/80 transition-colors\"\n                    >\n                      Plan Today\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </Card>\n\n          </div>\n        </div>\n      </div>\n\n      {/* Day Summary Modal */}\n      <AnimatePresence>\n        {showDaySummary && selectedDayData && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\"\n            onClick={() => setShowDaySummary(false)}\n          >\n            <motion.div\n              initial={{ scale: 0.9, opacity: 0 }}\n              animate={{ scale: 1, opacity: 1 }}\n              exit={{ scale: 0.9, opacity: 0 }}\n              className=\"bg-[#11151A] border-2 border-[#2A313A] rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto\"\n              onClick={(e) => e.stopPropagation()}\n            >\n              {/* Header */}\n              <div className=\"flex items-center justify-between mb-6\">\n                <div>\n                  <h3 className=\"font-jakarta text-2xl font-bold text-white\">\n                    {selectedDayData.date.toLocaleDateString('en-US', { \n                      weekday: 'long', \n                      year: 'numeric', \n                      month: 'long', \n                      day: 'numeric' \n                    })}\n                  </h3>\n                  <p className=\"text-white/60 text-sm mt-1\">Daily Summary</p>\n                </div>\n                <button\n                  onClick={() => setShowDaySummary(false)}\n                  className=\"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-colors\"\n                >\n                  <span className=\"text-white text-lg\">Ã—</span>\n                </button>\n              </div>\n\n              {/* Content Grid */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                {/* Tasks Completed */}\n                <div className=\"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10\">\n                  <div className=\"flex items-center space-x-2 mb-3\">\n                    <span className=\"text-lg\">âœ…</span>\n                    <h4 className=\"font-jakarta text-lg font-semibold text-white\">Tasks Completed</h4>\n                    <span className=\"bg-green-500/20 text-green-400 text-xs px-2 py-1 rounded-full\">\n                      {selectedDayData.tasks.length}\n                    </span>\n                  </div>\n                  {selectedDayData.tasks.length > 0 ? (\n                    <div className=\"space-y-2\">\n                      {selectedDayData.tasks.slice(0, 3).map((task, index) => (\n                        <div key={index} className=\"text-sm text-white/80 bg-white/5 rounded-lg p-2\">\n{task.title || 'Task completed'}\n                        </div>\n                      ))}\n                      {selectedDayData.tasks.length > 3 && (\n                        <div className=\"text-xs text-white/60\">\n                          +{selectedDayData.tasks.length - 3} more tasks\n                        </div>\n                      )}\n                    </div>\n                  ) : (\n                    <p className=\"text-white/60 text-sm\">No tasks completed this day</p>\n                  )}\n                </div>\n\n                {/* Habits Tracked */}\n                <div className=\"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10\">\n                  <div className=\"flex items-center space-x-2 mb-3\">\n                    <span className=\"text-lg\">ðŸ”„</span>\n                    <h4 className=\"font-jakarta text-lg font-semibold text-white\">Habits Tracked</h4>\n                    <span className=\"bg-blue-500/20 text-blue-400 text-xs px-2 py-1 rounded-full\">\n                      {selectedDayData.habits.length}\n                    </span>\n                  </div>\n                  {selectedDayData.habits.length > 0 ? (\n                    <div className=\"space-y-2\">\n                      {selectedDayData.habits.slice(0, 3).map((habit, index) => (\n                        <div key={index} className=\"text-sm text-white/80 bg-white/5 rounded-lg p-2\">\n{habit.name || 'Habit completed'}\n                        </div>\n                      ))}\n                      {selectedDayData.habits.length > 3 && (\n                        <div className=\"text-xs text-white/60\">\n                          +{selectedDayData.habits.length - 3} more habits\n                        </div>\n                      )}\n                    </div>\n                  ) : (\n                    <p className=\"text-white/60 text-sm\">No habits tracked this day</p>\n                  )}\n                </div>\n\n                {/* Mindfulness Check-in */}\n                <div className=\"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10\">\n                  <div className=\"flex items-center space-x-2 mb-3\">\n                    <span className=\"text-lg\">ðŸ§˜</span>\n                    <h4 className=\"font-jakarta text-lg font-semibold text-white\">Mindfulness</h4>\n                    {selectedDayData.mindfulnessCheckin ? (\n                      <span className=\"bg-purple-500/20 text-purple-400 text-xs px-2 py-1 rounded-full\">\n                        {selectedDayData.mindfulnessCheckin.totalScore || 0}/25\n                      </span>\n                    ) : (\n                      <span className=\"bg-gray-500/20 text-gray-400 text-xs px-2 py-1 rounded-full\">\n                        No check-in\n                      </span>\n                    )}\n                  </div>\n                  {selectedDayData.mindfulnessCheckin ? (\n                    <div className=\"space-y-2\">\n                      <div className=\"text-sm text-white/80\">\n                        Overall Score: {selectedDayData.mindfulnessCheckin.totalScore || 0}/25\n                      </div>\n                      {selectedDayData.mindfulnessCheckin.dimensions && (\n                        <div className=\"text-xs text-white/60\">\n                          Dimensions: {Object.keys(selectedDayData.mindfulnessCheckin.dimensions).length} rated\n                        </div>\n                      )}\n                    </div>\n                  ) : (\n                    <p className=\"text-white/60 text-sm\">No mindfulness check-in this day</p>\n                  )}\n                </div>\n\n                {/* Meals Logged */}\n                <div className=\"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10\">\n                  <div className=\"flex items-center space-x-2 mb-3\">\n                    <span className=\"text-lg\">ðŸ½ï¸</span>\n                    <h4 className=\"font-jakarta text-lg font-semibold text-white\">Meals Logged</h4>\n                    <span className=\"bg-orange-500/20 text-orange-400 text-xs px-2 py-1 rounded-full\">\n                      {selectedDayData.meals.length}\n                    </span>\n                  </div>\n                  {selectedDayData.meals.length > 0 ? (\n                    <div className=\"space-y-2\">\n                      <div className=\"text-sm text-white/80\">\n                        Calories: {Math.round(selectedDayData.nutritionTotals.kcal || 0)} kcal\n                      </div>\n                      <div className=\"text-sm text-white/80\">\n                        Protein: {Math.round(selectedDayData.nutritionTotals.protein || 0)}g\n                      </div>\n                      {Object.keys(selectedDayData.mealEffects).length > 0 && (\n                        <div className=\"text-xs text-white/60\">\n                          {Object.keys(selectedDayData.mealEffects).length} effects tracked\n                        </div>\n                      )}\n                    </div>\n                  ) : (\n                    <p className=\"text-white/60 text-sm\">No meals logged this day</p>\n                  )}\n                </div>\n\n                {/* Expenses */}\n                <div className=\"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10\">\n                  <div className=\"flex items-center space-x-2 mb-3\">\n                    <span className=\"text-lg\">ðŸ’°</span>\n                    <h4 className=\"font-jakarta text-lg font-semibold text-white\">Expenses</h4>\n                    <span className=\"bg-yellow-500/20 text-yellow-400 text-xs px-2 py-1 rounded-full\">\n                      {selectedDayData.expenses.length}\n                    </span>\n                  </div>\n                  {selectedDayData.expenses.length > 0 ? (\n                    <div className=\"space-y-2\">\n                      <div className=\"text-sm text-white/80\">\n                        Total: â‚¹{selectedDayData.expenses.reduce((sum, exp) => sum + (exp.amount || 0), 0)}\n                      </div>\n                      {selectedDayData.expenses.filter(exp => exp.impulseBuy).length > 0 && (\n                        <div className=\"text-xs text-red-400\">\n                          {selectedDayData.expenses.filter(exp => exp.impulseBuy).length} impulse buys\n                        </div>\n                      )}\n                    </div>\n                  ) : (\n                    <p className=\"text-white/60 text-sm\">No expenses recorded this day</p>\n                  )}\n                </div>\n\n                {/* Quick Actions */}\n                <div className=\"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10\">\n                  <div className=\"flex items-center space-x-2 mb-3\">\n                    <span className=\"text-lg\">âš¡</span>\n                    <h4 className=\"font-jakarta text-lg font-semibold text-white\">Quick Actions</h4>\n                  </div>\n                  <div className=\"space-y-2\">\n                    <a\n                      href={`/goal-aligned-day?date=${selectedDayData.dateStr}`}\n                      className=\"block w-full text-center bg-[#1E49C9] text-white text-sm py-2 px-4 rounded-lg hover:bg-[#1E49C9]/80 transition-colors\"\n                    >\n                      View Full Day Details\n                    </a>\n                    <a\n                      href=\"/goal-aligned-day\"\n                      className=\"block w-full text-center bg-white/10 text-white text-sm py-2 px-4 rounded-lg hover:bg-white/20 transition-colors\"\n                    >\n                      Add New Activity\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Image Upload Modal */}\n      <AnimatePresence>\n        {showImageUpload && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\"\n            onClick={() => setShowImageUpload(false)}\n          >\n            <motion.div\n              initial={{ scale: 0.9, opacity: 0 }}\n              animate={{ scale: 1, opacity: 1 }}\n              exit={{ scale: 0.9, opacity: 0 }}\n              className=\"bg-[#11151A] border-2 border-[#2A313A] rounded-lg p-6 max-w-md w-full\"\n              onClick={(e) => e.stopPropagation()}\n            >\n              <h3 className=\"font-jakarta text-lg font-semibold text-text-primary mb-4 leading-relaxed tracking-wider\">\n                Update Welcome Image\n              </h3>\n              \n              <div className=\"space-y-4\">\n                <div className=\"text-center\">\n                  <label \n                    htmlFor=\"welcome-image-upload-dashboard\"\n                    className=\"inline-flex items-center cursor-pointer\"\n                  >\n                    <Button\n                      variant=\"primary\"\n                      className=\"inline-flex items-center\"\n                    >\n                      <Upload className=\"h-5 w-5 mr-2\" />\n                      Choose Image\n                    </Button>\n                  </label>\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={handleImageUpload}\n                    className=\"hidden\"\n                    id=\"welcome-image-upload-dashboard\"\n                  />\n                </div>\n                \n                <p className=\"text-sm text-[#C9D1D9] text-center\">\n                  Click the button above to select a new image. The image will be displayed in the welcome banner.\n                </p>\n              </div>\n              \n              <div className=\"mt-6 flex justify-end\">\n                <Button\n                  onClick={() => setShowImageUpload(false)}\n                  variant=\"ghost\"\n                >\n                  Cancel\n                </Button>\n              </div>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}