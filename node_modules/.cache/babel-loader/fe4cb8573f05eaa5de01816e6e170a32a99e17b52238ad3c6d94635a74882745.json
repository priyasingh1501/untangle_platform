{"ast":null,"code":"import React,{useState}from'react';import{motion,AnimatePresence}from'framer-motion';import{Brain,TrendingUp,Heart,Lightbulb,Target,ChevronDown,ChevronUp,Sparkles,BarChart3,MessageSquare}from'lucide-react';import Card from'../ui/Card';import{SafeRender}from'../ui';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AlfredAnalysis=_ref=>{var _analysis$emotion,_analysis$emotion2,_analysis$emotion3,_analysis$emotion4,_analysis$emotion5,_analysis$emotion6,_analysis$emotion7,_analysis$emotion8,_analysis$emotion9,_analysis$emotion0,_analysis$emotion1;let{analysis,entryId,onAnalyze}=_ref;const[isExpanded,setIsExpanded]=useState(false);const[isAnalyzing,setIsAnalyzing]=useState(false);console.log('AlfredAnalysis received entryId:',entryId);// Safety check for malformed analysis data\nif(!analysis||typeof analysis!=='object'){return/*#__PURE__*/_jsx(Card,{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Brain,{className:\"h-5 w-5 text-primary-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-text-primary font-jakarta\",children:\"Alfred Analysis\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{console.log('Analyze button clicked with entryId:',entryId);setIsAnalyzing(true);try{await onAnalyze(entryId);}finally{setIsAnalyzing(false);}},disabled:isAnalyzing,className:\"px-3 py-1 bg-primary-500 text-white text-xs rounded-lg hover:bg-primary-500/90 transition-colors duration-200 disabled:opacity-50 font-jakarta\",children:isAnalyzing?'Analyzing...':'Analyze'})]})});}const getEmotionColor=emotion=>{if(!emotion)return'text-text-secondary';switch(emotion){case'joy':return'text-yellow-400';case'sadness':return'text-blue-400';case'anger':return'text-red-400';case'fear':return'text-purple-400';case'surprise':return'text-orange-400';case'disgust':return'text-[#1E49C9]';case'love':return'text-pink-400';case'anxiety':return'text-red-300';case'excitement':return'text-yellow-300';case'contentment':return'text-[#1E49C9]';case'frustration':return'text-red-500';case'gratitude':return'text-yellow-500';case'loneliness':return'text-gray-400';case'hope':return'text-blue-300';case'disappointment':return'text-gray-500';case'pride':return'text-purple-300';case'shame':return'text-red-600';case'relief':return'text-[#1E49C9]';case'confusion':return'text-gray-400';case'peace':return'text-blue-200';case'overwhelmed':return'text-red-400';case'confident':return'text-[#1E49C9]';case'vulnerable':return'text-pink-300';case'motivated':return'text-orange-500';case'tired':return'text-gray-500';case'energetic':return'text-yellow-400';case'calm':return'text-blue-300';case'stressed':return'text-red-400';case'curious':return'text-purple-400';case'nostalgic':return'text-indigo-400';default:return'text-text-secondary';}};const getEmotionBgColor=emotion=>{if(!emotion)return'bg-gray-500';switch(emotion){case'joy':return'bg-yellow-500';case'sadness':return'bg-blue-500';case'anger':return'bg-red-500';case'fear':return'bg-purple-500';case'surprise':return'bg-orange-500';case'disgust':return'bg-[#1E49C9]';case'love':return'bg-pink-500';case'anxiety':return'bg-red-400';case'excitement':return'bg-yellow-400';case'contentment':return'bg-[#1E49C9]';case'frustration':return'bg-red-600';case'gratitude':return'bg-yellow-600';case'loneliness':return'bg-gray-500';case'hope':return'bg-blue-400';case'disappointment':return'bg-gray-600';case'pride':return'bg-purple-400';case'shame':return'bg-red-700';case'relief':return'bg-[#1E49C9]';case'confusion':return'bg-gray-500';case'peace':return'bg-blue-300';case'overwhelmed':return'bg-red-500';case'confident':return'bg-[#1E49C9]';case'vulnerable':return'bg-pink-400';case'motivated':return'bg-orange-600';case'tired':return'bg-gray-600';case'energetic':return'bg-yellow-500';case'calm':return'bg-blue-400';case'stressed':return'bg-red-500';case'curious':return'bg-purple-500';case'nostalgic':return'bg-indigo-500';default:return'bg-gray-500';}};// Alias for getSentimentBgColor to fix the undefined error\nconst getSentimentBgColor=getEmotionBgColor;const getEmotionLabel=emotion=>{if(!emotion)return'Unknown';return emotion.charAt(0).toUpperCase()+emotion.slice(1);};const getBeliefCategoryIcon=category=>{switch(category){case'personal_values':return Heart;case'life_philosophy':return Lightbulb;case'relationships':return MessageSquare;case'work_ethics':return Target;case'spirituality':return Sparkles;case'health_wellness':return TrendingUp;default:return Brain;}};const getBeliefCategoryColor=category=>{switch(category){case'personal_values':return'text-pink-400';case'life_philosophy':return'text-yellow-400';case'relationships':return'text-blue-400';case'work_ethics':return'text-green-400';case'spirituality':return'text-purple-400';case'health_wellness':return'text-emerald-400';default:return'text-text-tertiary';}};const getBeliefCategoryBgColor=category=>{switch(category){case'personal_values':return'bg-pink-500/10 border-pink-500/20';case'life_philosophy':return'bg-yellow-500/10 border-yellow-500/20';case'relationships':return'bg-blue-500/10 border-blue-500/20';case'work_ethics':return'bg-green-500/10 border-green-500/20';case'spirituality':return'bg-purple-500/10 border-purple-500/20';case'health_wellness':return'bg-emerald-500/10 border-emerald-500/20';default:return'bg-gray-500/10 border-gray-500/20';}};return/*#__PURE__*/_jsxs(Card,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cursor-pointer hover:bg-gray-700/50 transition-colors duration-200 rounded-lg p-2 -m-2\",onClick:()=>setIsExpanded(!isExpanded),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-primary-500 bg-opacity-20 rounded-lg\",children:/*#__PURE__*/_jsx(Brain,{className:\"h-5 w-5 text-primary-500\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-text-primary font-jakarta tracking-wide\",children:\"Alfred's Analysis\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-text-tertiary font-jakarta\",children:[\"Analyzed on \",analysis!==null&&analysis!==void 0&&analysis.analyzedAt?new Date(analysis.analyzedAt).toLocaleDateString():'Unknown date']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full \".concat(getEmotionBgColor(analysis===null||analysis===void 0?void 0:(_analysis$emotion=analysis.emotion)===null||_analysis$emotion===void 0?void 0:_analysis$emotion.primary))}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium \".concat(getEmotionColor(analysis===null||analysis===void 0?void 0:(_analysis$emotion2=analysis.emotion)===null||_analysis$emotion2===void 0?void 0:_analysis$emotion2.primary)),children:getEmotionLabel(analysis===null||analysis===void 0?void 0:(_analysis$emotion3=analysis.emotion)===null||_analysis$emotion3===void 0?void 0:_analysis$emotion3.primary)}),(analysis===null||analysis===void 0?void 0:(_analysis$emotion4=analysis.emotion)===null||_analysis$emotion4===void 0?void 0:_analysis$emotion4.intensity)&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-text-tertiary\",children:[\"(\",analysis.emotion.intensity,\"/10)\"]}),isExpanded?/*#__PURE__*/_jsx(ChevronUp,{className:\"h-4 w-4 text-text-tertiary\"}):/*#__PURE__*/_jsx(ChevronDown,{className:\"h-4 w-4 text-text-tertiary\"})]})]})}),/*#__PURE__*/_jsx(AnimatePresence,{children:isExpanded&&/*#__PURE__*/_jsx(motion.div,{initial:{height:0,opacity:0},animate:{height:'auto',opacity:1},exit:{height:0,opacity:0},transition:{duration:0.3},className:\"border-t border-border-primary mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"pt-4 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"text-sm font-semibold text-text-primary mb-2 font-jakarta tracking-wide flex items-center\",children:[/*#__PURE__*/_jsx(MessageSquare,{className:\"h-4 w-4 mr-2 text-blue-400\"}),\"Summary\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-text-secondary font-jakarta\",children:(analysis===null||analysis===void 0?void 0:analysis.summary)||'No summary available'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"text-sm font-semibold text-text-primary mb-2 font-jakarta tracking-wide flex items-center\",children:[/*#__PURE__*/_jsx(Heart,{className:\"h-4 w-4 mr-2 text-pink-400\"}),\"Emotion Analysis\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-text-tertiary\",children:\"Primary:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium \".concat(getEmotionColor(analysis===null||analysis===void 0?void 0:(_analysis$emotion5=analysis.emotion)===null||_analysis$emotion5===void 0?void 0:_analysis$emotion5.primary)),children:getEmotionLabel(analysis===null||analysis===void 0?void 0:(_analysis$emotion6=analysis.emotion)===null||_analysis$emotion6===void 0?void 0:_analysis$emotion6.primary)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-text-tertiary\",children:\"Intensity:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-text-secondary\",children:[(analysis===null||analysis===void 0?void 0:(_analysis$emotion7=analysis.emotion)===null||_analysis$emotion7===void 0?void 0:_analysis$emotion7.intensity)||0,\"/10\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-text-tertiary\",children:\"Confidence:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-text-secondary\",children:[(((analysis===null||analysis===void 0?void 0:(_analysis$emotion8=analysis.emotion)===null||_analysis$emotion8===void 0?void 0:_analysis$emotion8.confidence)||0)*100).toFixed(0),\"%\"]})]})]}),(analysis===null||analysis===void 0?void 0:(_analysis$emotion9=analysis.emotion)===null||_analysis$emotion9===void 0?void 0:_analysis$emotion9.secondary)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-text-tertiary\",children:\"Secondary:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium \".concat(getEmotionColor(analysis===null||analysis===void 0?void 0:(_analysis$emotion0=analysis.emotion)===null||_analysis$emotion0===void 0?void 0:_analysis$emotion0.secondary)),children:getEmotionLabel(analysis===null||analysis===void 0?void 0:(_analysis$emotion1=analysis.emotion)===null||_analysis$emotion1===void 0?void 0:_analysis$emotion1.secondary)})]})]})]}),(analysis===null||analysis===void 0?void 0:analysis.topics)&&analysis.topics.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"text-sm font-semibold text-text-primary mb-3 font-jakarta tracking-wide flex items-center\",children:[/*#__PURE__*/_jsx(Target,{className:\"h-4 w-4 mr-2 text-purple-400\"}),\"Main Topics\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:(analysis.topics||[]).map((topic,index)=>{// Enhanced safety check: ensure topic is an object and never render objects directly\ntry{if(typeof topic!=='object'||topic===null){return null;}const topicName=String(topic.name||'Unknown topic');const confidence=Number(topic.confidence||0);// Extra safety: ensure we're not rendering objects and have valid values\nif(typeof topicName!=='string'||isNaN(confidence)){return null;}return/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1.5 bg-purple-500/10 border border-purple-500/20 text-purple-300 text-xs rounded-lg font-medium\",children:[/*#__PURE__*/_jsx(SafeRender,{children:topicName}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-purple-400 font-semibold\",children:/*#__PURE__*/_jsxs(SafeRender,{children:[Math.min(100,Math.max(0,confidence*100)).toFixed(0),\"%\"]})})]},\"topic-\".concat(index,\"-\").concat(topicName));}catch(error){console.warn('Error rendering topic:',topic,error);return null;}}).filter(Boolean)})]}),(analysis===null||analysis===void 0?void 0:analysis.beliefs)&&analysis.beliefs.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"text-sm font-semibold text-text-primary mb-3 font-jakarta tracking-wide flex items-center\",children:[/*#__PURE__*/_jsx(Heart,{className:\"h-4 w-4 mr-2 text-pink-400\"}),\"Beliefs & Values\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:(analysis.beliefs||[]).map((belief,index)=>{// Enhanced safety check: ensure belief is an object and never render objects directly\ntry{if(typeof belief!=='object'||belief===null){return null;}const beliefText=String(belief.belief||'Unknown belief');const category=String(belief.category||'general');const confidence=Number(belief.confidence||0);// Extra safety: ensure we're not rendering objects and have valid values\nif(typeof beliefText!=='string'||typeof category!=='string'||isNaN(confidence)){return null;}const IconComponent=getBeliefCategoryIcon(category);const bgColor=getBeliefCategoryBgColor(category);const textColor=getBeliefCategoryColor(category);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3 p-3 rounded-lg border \".concat(bgColor),children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 rounded-lg \".concat(bgColor.replace('bg-','bg-').replace('/10','/20')),children:/*#__PURE__*/_jsx(IconComponent,{className:\"h-4 w-4 \".concat(textColor)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-text-primary font-jakarta leading-relaxed mb-2\",children:/*#__PURE__*/_jsx(SafeRender,{children:beliefText})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium \".concat(textColor,\" capitalize\"),children:/*#__PURE__*/_jsx(SafeRender,{children:category.replace('_',' ')})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-text-muted\",children:[Math.min(100,Math.max(0,confidence*100)).toFixed(0),\"% confidence\"]})]})]})]},\"belief-\".concat(index,\"-\").concat(category));}catch(error){console.warn('Error rendering belief:',belief,error);return null;}}).filter(Boolean)})]}),(analysis===null||analysis===void 0?void 0:analysis.insights)&&analysis.insights.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"text-sm font-semibold text-text-primary mb-3 font-jakarta tracking-wide flex items-center\",children:[/*#__PURE__*/_jsx(Lightbulb,{className:\"h-4 w-4 mr-2 text-yellow-400\"}),\"Insights\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:analysis.insights.map((insight,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 rounded-lg bg-yellow-500/20\",children:/*#__PURE__*/_jsx(Sparkles,{className:\"h-4 w-4 text-yellow-400\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-text-primary font-jakarta leading-relaxed\",children:/*#__PURE__*/_jsx(SafeRender,{children:insight})})]},index))})]})]})})})]});};export default AlfredAnalysis;","map":{"version":3,"names":["React","useState","motion","AnimatePresence","Brain","TrendingUp","Heart","Lightbulb","Target","ChevronDown","ChevronUp","Sparkles","BarChart3","MessageSquare","Card","SafeRender","jsx","_jsx","jsxs","_jsxs","AlfredAnalysis","_ref","_analysis$emotion","_analysis$emotion2","_analysis$emotion3","_analysis$emotion4","_analysis$emotion5","_analysis$emotion6","_analysis$emotion7","_analysis$emotion8","_analysis$emotion9","_analysis$emotion0","_analysis$emotion1","analysis","entryId","onAnalyze","isExpanded","setIsExpanded","isAnalyzing","setIsAnalyzing","console","log","className","children","onClick","disabled","getEmotionColor","emotion","getEmotionBgColor","getSentimentBgColor","getEmotionLabel","charAt","toUpperCase","slice","getBeliefCategoryIcon","category","getBeliefCategoryColor","getBeliefCategoryBgColor","analyzedAt","Date","toLocaleDateString","concat","primary","intensity","div","initial","height","opacity","animate","exit","transition","duration","summary","confidence","toFixed","secondary","topics","length","map","topic","index","topicName","String","name","Number","isNaN","Math","min","max","error","warn","filter","Boolean","beliefs","belief","beliefText","IconComponent","bgColor","textColor","replace","insights","insight"],"sources":["/Users/priyas/Desktop/untangle-platform/src/components/journal/AlfredAnalysis.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  Brain, \n  TrendingUp, \n  Heart, \n  Lightbulb, \n  Target, \n  ChevronDown, \n  ChevronUp,\n  Sparkles,\n  BarChart3,\n  MessageSquare\n} from 'lucide-react';\nimport Card from '../ui/Card';\nimport { SafeRender } from '../ui';\n\nconst AlfredAnalysis = ({ analysis, entryId, onAnalyze }) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  \n  console.log('AlfredAnalysis received entryId:', entryId);\n\n  // Safety check for malformed analysis data\n  if (!analysis || typeof analysis !== 'object') {\n    return (\n      <Card className=\"mt-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-2\">\n            <Brain className=\"h-5 w-5 text-primary-500\" />\n            <span className=\"text-sm font-medium text-text-primary font-jakarta\">Alfred Analysis</span>\n          </div>\n          <button\n            onClick={async () => {\n              console.log('Analyze button clicked with entryId:', entryId);\n              setIsAnalyzing(true);\n              try {\n                await onAnalyze(entryId);\n              } finally {\n                setIsAnalyzing(false);\n              }\n            }}\n            disabled={isAnalyzing}\n            className=\"px-3 py-1 bg-primary-500 text-white text-xs rounded-lg hover:bg-primary-500/90 transition-colors duration-200 disabled:opacity-50 font-jakarta\"\n          >\n            {isAnalyzing ? 'Analyzing...' : 'Analyze'}\n          </button>\n        </div>\n      </Card>\n    );\n  }\n\n  const getEmotionColor = (emotion) => {\n    if (!emotion) return 'text-text-secondary';\n    switch (emotion) {\n      case 'joy': return 'text-yellow-400';\n      case 'sadness': return 'text-blue-400';\n      case 'anger': return 'text-red-400';\n      case 'fear': return 'text-purple-400';\n      case 'surprise': return 'text-orange-400';\n      case 'disgust': return 'text-[#1E49C9]';\n      case 'love': return 'text-pink-400';\n      case 'anxiety': return 'text-red-300';\n      case 'excitement': return 'text-yellow-300';\n      case 'contentment': return 'text-[#1E49C9]';\n      case 'frustration': return 'text-red-500';\n      case 'gratitude': return 'text-yellow-500';\n      case 'loneliness': return 'text-gray-400';\n      case 'hope': return 'text-blue-300';\n      case 'disappointment': return 'text-gray-500';\n      case 'pride': return 'text-purple-300';\n      case 'shame': return 'text-red-600';\n      case 'relief': return 'text-[#1E49C9]';\n      case 'confusion': return 'text-gray-400';\n      case 'peace': return 'text-blue-200';\n      case 'overwhelmed': return 'text-red-400';\n      case 'confident': return 'text-[#1E49C9]';\n      case 'vulnerable': return 'text-pink-300';\n      case 'motivated': return 'text-orange-500';\n      case 'tired': return 'text-gray-500';\n      case 'energetic': return 'text-yellow-400';\n      case 'calm': return 'text-blue-300';\n      case 'stressed': return 'text-red-400';\n      case 'curious': return 'text-purple-400';\n      case 'nostalgic': return 'text-indigo-400';\n      default: return 'text-text-secondary';\n    }\n  };\n\n  const getEmotionBgColor = (emotion) => {\n    if (!emotion) return 'bg-gray-500';\n    switch (emotion) {\n      case 'joy': return 'bg-yellow-500';\n      case 'sadness': return 'bg-blue-500';\n      case 'anger': return 'bg-red-500';\n      case 'fear': return 'bg-purple-500';\n      case 'surprise': return 'bg-orange-500';\n      case 'disgust': return 'bg-[#1E49C9]';\n      case 'love': return 'bg-pink-500';\n      case 'anxiety': return 'bg-red-400';\n      case 'excitement': return 'bg-yellow-400';\n      case 'contentment': return 'bg-[#1E49C9]';\n      case 'frustration': return 'bg-red-600';\n      case 'gratitude': return 'bg-yellow-600';\n      case 'loneliness': return 'bg-gray-500';\n      case 'hope': return 'bg-blue-400';\n      case 'disappointment': return 'bg-gray-600';\n      case 'pride': return 'bg-purple-400';\n      case 'shame': return 'bg-red-700';\n      case 'relief': return 'bg-[#1E49C9]';\n      case 'confusion': return 'bg-gray-500';\n      case 'peace': return 'bg-blue-300';\n      case 'overwhelmed': return 'bg-red-500';\n      case 'confident': return 'bg-[#1E49C9]';\n      case 'vulnerable': return 'bg-pink-400';\n      case 'motivated': return 'bg-orange-600';\n      case 'tired': return 'bg-gray-600';\n      case 'energetic': return 'bg-yellow-500';\n      case 'calm': return 'bg-blue-400';\n      case 'stressed': return 'bg-red-500';\n      case 'curious': return 'bg-purple-500';\n      case 'nostalgic': return 'bg-indigo-500';\n      default: return 'bg-gray-500';\n    }\n  };\n\n  // Alias for getSentimentBgColor to fix the undefined error\n  const getSentimentBgColor = getEmotionBgColor;\n\n  const getEmotionLabel = (emotion) => {\n    if (!emotion) return 'Unknown';\n    return emotion.charAt(0).toUpperCase() + emotion.slice(1);\n  };\n\n  const getBeliefCategoryIcon = (category) => {\n    switch (category) {\n      case 'personal_values': return Heart;\n      case 'life_philosophy': return Lightbulb;\n      case 'relationships': return MessageSquare;\n      case 'work_ethics': return Target;\n      case 'spirituality': return Sparkles;\n      case 'health_wellness': return TrendingUp;\n      default: return Brain;\n    }\n  };\n\n  const getBeliefCategoryColor = (category) => {\n    switch (category) {\n      case 'personal_values': return 'text-pink-400';\n      case 'life_philosophy': return 'text-yellow-400';\n      case 'relationships': return 'text-blue-400';\n      case 'work_ethics': return 'text-green-400';\n      case 'spirituality': return 'text-purple-400';\n      case 'health_wellness': return 'text-emerald-400';\n      default: return 'text-text-tertiary';\n    }\n  };\n\n  const getBeliefCategoryBgColor = (category) => {\n    switch (category) {\n      case 'personal_values': return 'bg-pink-500/10 border-pink-500/20';\n      case 'life_philosophy': return 'bg-yellow-500/10 border-yellow-500/20';\n      case 'relationships': return 'bg-blue-500/10 border-blue-500/20';\n      case 'work_ethics': return 'bg-green-500/10 border-green-500/20';\n      case 'spirituality': return 'bg-purple-500/10 border-purple-500/20';\n      case 'health_wellness': return 'bg-emerald-500/10 border-emerald-500/20';\n      default: return 'bg-gray-500/10 border-gray-500/20';\n    }\n  };\n\n  return (\n    <Card className=\"mt-4\">\n      {/* Header */}\n      <div \n        className=\"cursor-pointer hover:bg-gray-700/50 transition-colors duration-200 rounded-lg p-2 -m-2\"\n        onClick={() => setIsExpanded(!isExpanded)}\n      >\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"p-2 bg-primary-500 bg-opacity-20 rounded-lg\">\n              <Brain className=\"h-5 w-5 text-primary-500\" />\n            </div>\n            <div>\n              <h4 className=\"text-sm font-semibold text-text-primary font-jakarta tracking-wide\">Alfred's Analysis</h4>\n              <p className=\"text-xs text-text-tertiary font-jakarta\">\n                Analyzed on {analysis?.analyzedAt ? new Date(analysis.analyzedAt).toLocaleDateString() : 'Unknown date'}\n              </p>\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <div className={`w-3 h-3 rounded-full ${getEmotionBgColor(analysis?.emotion?.primary)}`}></div>\n            <span className={`text-sm font-medium ${getEmotionColor(analysis?.emotion?.primary)}`}>\n              {getEmotionLabel(analysis?.emotion?.primary)}\n            </span>\n            {analysis?.emotion?.intensity && (\n              <span className=\"text-xs text-text-tertiary\">\n                ({analysis.emotion.intensity}/10)\n              </span>\n            )}\n            {isExpanded ? (\n              <ChevronUp className=\"h-4 w-4 text-text-tertiary\" />\n            ) : (\n              <ChevronDown className=\"h-4 w-4 text-text-tertiary\" />\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Expanded Content */}\n      <AnimatePresence>\n        {isExpanded && (\n          <motion.div\n            initial={{ height: 0, opacity: 0 }}\n            animate={{ height: 'auto', opacity: 1 }}\n            exit={{ height: 0, opacity: 0 }}\n            transition={{ duration: 0.3 }}\n            className=\"border-t border-border-primary mt-4\"\n          >\n            <div className=\"pt-4 space-y-4\">\n              {/* Summary */}\n              <div>\n                <h5 className=\"text-sm font-semibold text-text-primary mb-2 font-jakarta tracking-wide flex items-center\">\n                  <MessageSquare className=\"h-4 w-4 mr-2 text-blue-400\" />\n                  Summary\n                </h5>\n                <p className=\"text-sm text-text-secondary font-jakarta\">{analysis?.summary || 'No summary available'}</p>\n              </div>\n\n              {/* Emotion Analysis */}\n              <div>\n                <h5 className=\"text-sm font-semibold text-text-primary mb-2 font-jakarta tracking-wide flex items-center\">\n                  <Heart className=\"h-4 w-4 mr-2 text-pink-400\" />\n                  Emotion Analysis\n                </h5>\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center space-x-4\">\n                    <div className=\"flex items-center space-x-2\">\n                      <span className=\"text-sm text-text-tertiary\">Primary:</span>\n                      <span className={`text-sm font-medium ${getEmotionColor(analysis?.emotion?.primary)}`}>\n                        {getEmotionLabel(analysis?.emotion?.primary)}\n                      </span>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <span className=\"text-sm text-text-tertiary\">Intensity:</span>\n                      <span className=\"text-sm text-text-secondary\">\n                        {analysis?.emotion?.intensity || 0}/10\n                      </span>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <span className=\"text-sm text-text-tertiary\">Confidence:</span>\n                      <span className=\"text-sm text-text-secondary\">\n                        {((analysis?.emotion?.confidence || 0) * 100).toFixed(0)}%\n                      </span>\n                    </div>\n                  </div>\n                  {analysis?.emotion?.secondary && (\n                    <div className=\"flex items-center space-x-2\">\n                      <span className=\"text-sm text-text-tertiary\">Secondary:</span>\n                      <span className={`text-sm font-medium ${getEmotionColor(analysis?.emotion?.secondary)}`}>\n                        {getEmotionLabel(analysis?.emotion?.secondary)}\n                      </span>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Topics */}\n              {analysis?.topics && analysis.topics.length > 0 && (\n                <div>\n                  <h5 className=\"text-sm font-semibold text-text-primary mb-3 font-jakarta tracking-wide flex items-center\">\n                    <Target className=\"h-4 w-4 mr-2 text-purple-400\" />\n                    Main Topics\n                  </h5>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {(analysis.topics || []).map((topic, index) => {\n                      // Enhanced safety check: ensure topic is an object and never render objects directly\n                      try {\n                        if (typeof topic !== 'object' || topic === null) {\n                          return null;\n                        }\n                        \n                        const topicName = String(topic.name || 'Unknown topic');\n                        const confidence = Number(topic.confidence || 0);\n                        \n                        // Extra safety: ensure we're not rendering objects and have valid values\n                        if (typeof topicName !== 'string' || isNaN(confidence)) {\n                          return null;\n                        }\n                        \n                        return (\n                          <span\n                            key={`topic-${index}-${topicName}`}\n                            className=\"inline-flex items-center px-3 py-1.5 bg-purple-500/10 border border-purple-500/20 text-purple-300 text-xs rounded-lg font-medium\"\n                          >\n                            <SafeRender>{topicName}</SafeRender>\n                            <span className=\"ml-2 text-purple-400 font-semibold\">\n                              <SafeRender>{Math.min(100, Math.max(0, confidence * 100)).toFixed(0)}%</SafeRender>\n                            </span>\n                          </span>\n                        );\n                      } catch (error) {\n                        console.warn('Error rendering topic:', topic, error);\n                        return null;\n                      }\n                    }).filter(Boolean)}\n                  </div>\n                </div>\n              )}\n\n              {/* Beliefs and Values */}\n              {analysis?.beliefs && analysis.beliefs.length > 0 && (\n                <div>\n                  <h5 className=\"text-sm font-semibold text-text-primary mb-3 font-jakarta tracking-wide flex items-center\">\n                    <Heart className=\"h-4 w-4 mr-2 text-pink-400\" />\n                    Beliefs & Values\n                  </h5>\n                  <div className=\"space-y-3\">\n                    {(analysis.beliefs || []).map((belief, index) => {\n                      // Enhanced safety check: ensure belief is an object and never render objects directly\n                      try {\n                        if (typeof belief !== 'object' || belief === null) {\n                          return null;\n                        }\n                        \n                        const beliefText = String(belief.belief || 'Unknown belief');\n                        const category = String(belief.category || 'general');\n                        const confidence = Number(belief.confidence || 0);\n                        \n                        // Extra safety: ensure we're not rendering objects and have valid values\n                        if (typeof beliefText !== 'string' || typeof category !== 'string' || isNaN(confidence)) {\n                          return null;\n                        }\n                        \n                        const IconComponent = getBeliefCategoryIcon(category);\n                        const bgColor = getBeliefCategoryBgColor(category);\n                        const textColor = getBeliefCategoryColor(category);\n                        \n                        return (\n                          <div key={`belief-${index}-${category}`} className={`flex items-start space-x-3 p-3 rounded-lg border ${bgColor}`}>\n                            <div className={`p-2 rounded-lg ${bgColor.replace('bg-', 'bg-').replace('/10', '/20')}`}>\n                              <IconComponent className={`h-4 w-4 ${textColor}`} />\n                            </div>\n                            <div className=\"flex-1 min-w-0\">\n                              <p className=\"text-sm text-text-primary font-jakarta leading-relaxed mb-2\">\n                                <SafeRender>{beliefText}</SafeRender>\n                              </p>\n                              <div className=\"flex items-center justify-between\">\n                                <span className={`text-xs font-medium ${textColor} capitalize`}>\n                                  <SafeRender>{category.replace('_', ' ')}</SafeRender>\n                                </span>\n                                <span className=\"text-xs text-text-muted\">\n                                  {Math.min(100, Math.max(0, confidence * 100)).toFixed(0)}% confidence\n                                </span>\n                              </div>\n                            </div>\n                          </div>\n                        );\n                      } catch (error) {\n                        console.warn('Error rendering belief:', belief, error);\n                        return null;\n                      }\n                    }).filter(Boolean)}\n                  </div>\n                </div>\n              )}\n\n              {/* Insights */}\n              {analysis?.insights && analysis.insights.length > 0 && (\n                <div>\n                  <h5 className=\"text-sm font-semibold text-text-primary mb-3 font-jakarta tracking-wide flex items-center\">\n                    <Lightbulb className=\"h-4 w-4 mr-2 text-yellow-400\" />\n                    Insights\n                  </h5>\n                  <div className=\"space-y-3\">\n                    {analysis.insights.map((insight, index) => (\n                      <div key={index} className=\"flex items-start space-x-3 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg\">\n                        <div className=\"p-2 rounded-lg bg-yellow-500/20\">\n                          <Sparkles className=\"h-4 w-4 text-yellow-400\" />\n                        </div>\n                        <p className=\"text-sm text-text-primary font-jakarta leading-relaxed\"><SafeRender>{insight}</SafeRender></p>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </Card>\n  );\n};\n\nexport default AlfredAnalysis;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}