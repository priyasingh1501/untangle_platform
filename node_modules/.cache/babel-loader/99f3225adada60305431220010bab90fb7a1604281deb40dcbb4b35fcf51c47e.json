{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{motion}from'framer-motion';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BioluminescentDotsRating=_ref=>{let{value,onChange,maxValue=5,minValue=1,disabled=false,className='','aria-label':ariaLabel='Rating'}=_ref;const[focusedIndex,setFocusedIndex]=useState(null);const containerRef=useRef(null);const dotRefs=useRef([]);// Generate array of values\nconst values=Array.from({length:maxValue-minValue+1},(_,i)=>minValue+i);// Handle keyboard navigation\nconst handleKeyDown=(event,currentIndex)=>{var _dotRefs$current$prev,_dotRefs$current$next,_dotRefs$current$,_dotRefs$current$last;if(disabled)return;switch(event.key){case'ArrowLeft':event.preventDefault();const prevIndex=Math.max(0,currentIndex-1);setFocusedIndex(prevIndex);(_dotRefs$current$prev=dotRefs.current[prevIndex])===null||_dotRefs$current$prev===void 0?void 0:_dotRefs$current$prev.focus();break;case'ArrowRight':event.preventDefault();const nextIndex=Math.min(values.length-1,currentIndex+1);setFocusedIndex(nextIndex);(_dotRefs$current$next=dotRefs.current[nextIndex])===null||_dotRefs$current$next===void 0?void 0:_dotRefs$current$next.focus();break;case'Enter':case' ':event.preventDefault();onChange(values[currentIndex]);break;case'Home':event.preventDefault();setFocusedIndex(0);(_dotRefs$current$=dotRefs.current[0])===null||_dotRefs$current$===void 0?void 0:_dotRefs$current$.focus();break;case'End':event.preventDefault();const lastIndex=values.length-1;setFocusedIndex(lastIndex);(_dotRefs$current$last=dotRefs.current[lastIndex])===null||_dotRefs$current$last===void 0?void 0:_dotRefs$current$last.focus();break;}};// Handle dot click\nconst handleDotClick=dotValue=>{if(disabled)return;onChange(dotValue);};// Handle focus\nconst handleFocus=index=>{setFocusedIndex(index);};// Handle blur\nconst handleBlur=()=>{setFocusedIndex(null);};// Update refs array when values change\nuseEffect(()=>{dotRefs.current=dotRefs.current.slice(0,values.length);},[values.length]);// Scale labels for 5-point scale\nconst scaleLabels=['Strong No','No','Maybe','Yes','Strong Yes'];return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center space-y-3 \".concat(className),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between w-full max-w-[280px] text-xs text-[#94A3B8]\",children:scaleLabels.map((label,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"text-center\",children:label},index))}),/*#__PURE__*/_jsx(\"div\",{ref:containerRef,className:\"flex items-center gap-3\",role:\"radiogroup\",\"aria-label\":ariaLabel,children:values.map((dotValue,index)=>{const isActive=dotValue<=value;const isFocused=focusedIndex===index;return/*#__PURE__*/_jsxs(motion.button,{ref:el=>dotRefs.current[index]=el,onClick:()=>handleDotClick(dotValue),onKeyDown:e=>handleKeyDown(e,index),onFocus:()=>handleFocus(index),onBlur:handleBlur,disabled:disabled,className:\"\\n                relative w-9 h-9 rounded-full\\n                flex items-center justify-center\\n                transition-all duration-200 ease-out\\n                focus:outline-none\\n                \".concat(disabled?'cursor-not-allowed opacity-50':'cursor-pointer',\"\\n              \"),style:{background:isActive?'#1E49C9':'rgba(255,255,255,0.06)',border:'1px solid rgba(255,255,255,0.25)',backdropFilter:'blur(8px)',boxShadow:isActive?'0 0 8px rgba(30,73,201,0.35)':isFocused?'0 0 0 2px rgba(255,255,255,0.8), 0 0 8px rgba(30,73,201,0.25)':'none'},whileHover:disabled?{}:{scale:1.05,boxShadow:'0 0 6px rgba(30,73,201,0.25)'},whileTap:disabled?{}:{scale:0.95},\"aria-label\":\"Rate \".concat(dotValue,\" out of \").concat(maxValue),\"aria-checked\":isActive,role:\"radio\",tabIndex:isFocused?0:-1,children:[isActive&&/*#__PURE__*/_jsx(motion.div,{className:\"absolute inset-0 rounded-full\",style:{background:'radial-gradient(circle at center, rgba(255,255,255,0.15) 0%, transparent 70%)'},initial:{opacity:0},animate:{opacity:1},transition:{duration:0.2}}),/*#__PURE__*/_jsx(\"div\",{className:\"\\n                  w-2 h-2 rounded-full\\n                  transition-all duration-200 ease-out\\n                  \".concat(isActive?'bg-white':'bg-transparent',\"\\n                \")})]},dotValue);})})]});};export default BioluminescentDotsRating;","map":{"version":3,"names":["React","useState","useRef","useEffect","motion","jsx","_jsx","jsxs","_jsxs","BioluminescentDotsRating","_ref","value","onChange","maxValue","minValue","disabled","className","ariaLabel","focusedIndex","setFocusedIndex","containerRef","dotRefs","values","Array","from","length","_","i","handleKeyDown","event","currentIndex","_dotRefs$current$prev","_dotRefs$current$next","_dotRefs$current$","_dotRefs$current$last","key","preventDefault","prevIndex","Math","max","current","focus","nextIndex","min","lastIndex","handleDotClick","dotValue","handleFocus","index","handleBlur","slice","scaleLabels","concat","children","map","label","ref","role","isActive","isFocused","button","el","onClick","onKeyDown","e","onFocus","onBlur","style","background","border","backdropFilter","boxShadow","whileHover","scale","whileTap","tabIndex","div","initial","opacity","animate","transition","duration"],"sources":["/Users/priyas/Desktop/untangle-platform/src/components/ui/BioluminescentDotsRating.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { motion } from 'framer-motion';\n\ninterface BioluminescentDotsRatingProps {\n  value: number;\n  onChange: (value: number) => void;\n  maxValue?: number;\n  minValue?: number;\n  disabled?: boolean;\n  className?: string;\n  'aria-label'?: string;\n}\n\nconst BioluminescentDotsRating: React.FC<BioluminescentDotsRatingProps> = ({\n  value,\n  onChange,\n  maxValue = 5,\n  minValue = 1,\n  disabled = false,\n  className = '',\n  'aria-label': ariaLabel = 'Rating',\n}) => {\n  const [focusedIndex, setFocusedIndex] = useState<number | null>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const dotRefs = useRef<(HTMLButtonElement | null)[]>([]);\n\n  // Generate array of values\n  const values = Array.from({ length: maxValue - minValue + 1 }, (_, i) => minValue + i);\n\n  // Handle keyboard navigation\n  const handleKeyDown = (event: React.KeyboardEvent, currentIndex: number) => {\n    if (disabled) return;\n\n    switch (event.key) {\n      case 'ArrowLeft':\n        event.preventDefault();\n        const prevIndex = Math.max(0, currentIndex - 1);\n        setFocusedIndex(prevIndex);\n        dotRefs.current[prevIndex]?.focus();\n        break;\n      case 'ArrowRight':\n        event.preventDefault();\n        const nextIndex = Math.min(values.length - 1, currentIndex + 1);\n        setFocusedIndex(nextIndex);\n        dotRefs.current[nextIndex]?.focus();\n        break;\n      case 'Enter':\n      case ' ':\n        event.preventDefault();\n        onChange(values[currentIndex]);\n        break;\n      case 'Home':\n        event.preventDefault();\n        setFocusedIndex(0);\n        dotRefs.current[0]?.focus();\n        break;\n      case 'End':\n        event.preventDefault();\n        const lastIndex = values.length - 1;\n        setFocusedIndex(lastIndex);\n        dotRefs.current[lastIndex]?.focus();\n        break;\n    }\n  };\n\n  // Handle dot click\n  const handleDotClick = (dotValue: number) => {\n    if (disabled) return;\n    onChange(dotValue);\n  };\n\n  // Handle focus\n  const handleFocus = (index: number) => {\n    setFocusedIndex(index);\n  };\n\n  // Handle blur\n  const handleBlur = () => {\n    setFocusedIndex(null);\n  };\n\n  // Update refs array when values change\n  useEffect(() => {\n    dotRefs.current = dotRefs.current.slice(0, values.length);\n  }, [values.length]);\n\n  // Scale labels for 5-point scale\n  const scaleLabels = ['Strong No', 'No', 'Maybe', 'Yes', 'Strong Yes'];\n\n  return (\n    <div className={`flex flex-col items-center space-y-3 ${className}`}>\n      {/* Scale Labels */}\n      <div className=\"flex justify-between w-full max-w-[280px] text-xs text-[#94A3B8]\">\n        {scaleLabels.map((label, index) => (\n          <span key={index} className=\"text-center\">\n            {label}\n          </span>\n        ))}\n      </div>\n\n      {/* Dots Container */}\n      <div\n        ref={containerRef}\n        className=\"flex items-center gap-3\"\n        role=\"radiogroup\"\n        aria-label={ariaLabel}\n      >\n        {values.map((dotValue, index) => {\n          const isActive = dotValue <= value;\n          const isFocused = focusedIndex === index;\n\n          return (\n            <motion.button\n              key={dotValue}\n              ref={(el) => (dotRefs.current[index] = el)}\n              onClick={() => handleDotClick(dotValue)}\n              onKeyDown={(e) => handleKeyDown(e, index)}\n              onFocus={() => handleFocus(index)}\n              onBlur={handleBlur}\n              disabled={disabled}\n              className={`\n                relative w-9 h-9 rounded-full\n                flex items-center justify-center\n                transition-all duration-200 ease-out\n                focus:outline-none\n                ${disabled ? 'cursor-not-allowed opacity-50' : 'cursor-pointer'}\n              `}\n              style={{\n                background: isActive \n                  ? '#1E49C9' \n                  : 'rgba(255,255,255,0.06)',\n                border: '1px solid rgba(255,255,255,0.25)',\n                backdropFilter: 'blur(8px)',\n                boxShadow: isActive \n                  ? '0 0 8px rgba(30,73,201,0.35)' \n                  : isFocused\n                  ? '0 0 0 2px rgba(255,255,255,0.8), 0 0 8px rgba(30,73,201,0.25)'\n                  : 'none',\n              }}\n              whileHover={disabled ? {} : { \n                scale: 1.05,\n                boxShadow: '0 0 6px rgba(30,73,201,0.25)',\n              }}\n              whileTap={disabled ? {} : { scale: 0.95 }}\n              aria-label={`Rate ${dotValue} out of ${maxValue}`}\n              aria-checked={isActive}\n              role=\"radio\"\n              tabIndex={isFocused ? 0 : -1}\n            >\n              {/* Inner glow effect for active dots */}\n              {isActive && (\n                <motion.div\n                  className=\"absolute inset-0 rounded-full\"\n                  style={{\n                    background: 'radial-gradient(circle at center, rgba(255,255,255,0.15) 0%, transparent 70%)',\n                  }}\n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: 1 }}\n                  transition={{ duration: 0.2 }}\n                />\n              )}\n              \n              {/* Dot indicator */}\n              <div \n                className={`\n                  w-2 h-2 rounded-full\n                  transition-all duration-200 ease-out\n                  ${isActive ? 'bg-white' : 'bg-transparent'}\n                `}\n              />\n            </motion.button>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default BioluminescentDotsRating;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}