{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Outlet,useNavigate,useLocation}from'react-router-dom';import{useAuth}from'../../contexts/AuthContext';import{X,Home,DollarSign,LogOut,Brain,Send,Target,Utensils,Menu,ChevronLeft,ChevronRight,BookOpen}from'lucide-react';import{cn}from'../../utils/cn';import{componentStyles,colors,typography}from'../../styles/designTokens';import{Logo,AppLogo,Tooltip}from'../ui';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Layout=()=>{var _user$firstName,_user$email;const{user,logout}=useAuth();const navigate=useNavigate();const location=useLocation();const[aiChatOpen,setAiChatOpen]=useState(false);const[rightToolbarOpen,setRightToolbarOpen]=useState(true);const[sidebarCollapsed,setSidebarCollapsed]=useState(true);const[mobileSidebarOpen,setMobileSidebarOpen]=useState(false);const[isMobile,setIsMobile]=useState(false);const[aiMessages,setAiMessages]=useState([{role:'assistant',content:'Hi! I\\'m Alfred, your AI lifestyle assistant. How can I help you today?',timestamp:new Date()}]);const[aiInput,setAiInput]=useState('');const[aiLoading,setAiLoading]=useState(false);// Mobile detection\nuseEffect(()=>{const checkMobile=()=>{setIsMobile(window.innerWidth<768);if(window.innerWidth>=768){setMobileSidebarOpen(false);}};checkMobile();window.addEventListener('resize',checkMobile);return()=>window.removeEventListener('resize',checkMobile);},[]);const navigation=[{name:'Overview',href:'/overview',icon:Home},{name:'Goals',href:'/goal-aligned-day',icon:Target},{name:'Food',href:'/food',icon:Utensils},{name:'Finance',href:'/finance',icon:DollarSign},{name:'Content',href:'/content',icon:Brain},{name:'Journal',href:'/journal',icon:BookOpen}];// Debug log\nconsole.log('Navigation items:',navigation.map(item=>item.name));const handleLogout=async()=>{try{await logout();navigate('/login');}catch(error){console.error('Logout error:',error);}};const handleAiMessage=async message=>{if(!message.trim())return;// Add user message\nconst userMessage={role:'user',content:message,timestamp:new Date()};setAiMessages(prev=>[...prev,userMessage]);setAiInput('');setAiLoading(true);try{// Send message to AI chat API\nconst token=localStorage.getItem('token');const requestUrl='/api/ai-chat/chat';const requestBody={message};const requestHeaders={'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)};let response;try{response=await fetch(requestUrl,{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify(requestBody)});}catch(fetchError){console.error('❌ Fetch request failed:',fetchError);throw fetchError;}if(response.ok){const data=await response.json();const aiResponse={role:'assistant',content:data.response||data.content||'I understand. How else can I help?',timestamp:new Date()};setAiMessages(prev=>{const newMessages=[...prev,aiResponse];return newMessages;});}else{console.log('❌ Response not ok, status:',response.status);const errorText=await response.text();console.log('❌ Error response:',errorText);// Fallback response if API fails\nconst fallbackResponse={role:'assistant',content:'I\\'m here to help! You can ask me to track expenses, add tasks, or get lifestyle insights.',timestamp:new Date()};setAiMessages(prev=>[...prev,fallbackResponse]);}}catch(error){console.error('❌ AI chat error:',error);console.error('❌ Error details:',{name:error.name,message:error.message,stack:error.stack});// Fallback response on error\nconst fallbackResponse={role:'assistant',content:'I\\'m experiencing some technical difficulties. Please try again in a moment.',timestamp:new Date()};setAiMessages(prev=>[...prev,fallbackResponse]);}finally{setAiLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-background-primary text-text-primary\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#main-content\",className:\"skip-link\",children:\"Skip to main content\"}),isMobile&&mobileSidebarOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 z-40 lg:hidden\",onClick:()=>setMobileSidebarOpen(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-screen\",children:[/*#__PURE__*/_jsxs(\"div\",{className:cn(\"bg-[rgba(0,0,0,0.2)] border-r border-[rgba(255,255,255,0.2)] flex flex-col transition-all duration-300 ease-in-out backdrop-blur-[32px] backdrop-saturate-[180%] shadow-[inset_0_1px_0_rgba(255,255,255,0.2),0_8px_32px_rgba(0,0,0,0.12),0_2px_8px_rgba(0,0,0,0.08)] relative overflow-hidden\",isMobile?cn(\"fixed left-0 top-0 h-full z-50 transform transition-transform duration-300\",mobileSidebarOpen?\"translate-x-0\":\"-translate-x-full\"):cn(sidebarCollapsed?'w-16':'w-64')),children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-b from-[rgba(255,255,255,0.1)] to-transparent pointer-events-none\"}),/*#__PURE__*/_jsx(\"div\",{className:cn(\"border-b border-[rgba(255,255,255,0.2)] transition-all duration-300 relative z-10\",isMobile?'p-4':sidebarCollapsed?'p-3':'p-6'),children:/*#__PURE__*/_jsxs(\"div\",{className:cn(\"flex items-center transition-all duration-300\",isMobile?'justify-between':sidebarCollapsed?'justify-center':'space-x-3'),children:[!isMobile&&/*#__PURE__*/_jsx(Tooltip,{content:sidebarCollapsed?'Expand sidebar':'Collapse sidebar',position:\"right\",delay:300,disabled:!sidebarCollapsed,children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarCollapsed(!sidebarCollapsed),className:\"w-full flex items-center rounded-xl transition-all duration-200 bg-black text-white hover:text-gray-200 hover:bg-gray-800 px-2 py-3\",children:sidebarCollapsed?/*#__PURE__*/_jsx(ChevronRight,{className:\"w-5 h-5\"}):/*#__PURE__*/_jsx(ChevronLeft,{className:\"w-5 h-5\"})})})}),/*#__PURE__*/_jsxs(\"div\",{className:cn(\"flex items-center space-x-2 transition-all duration-300\",isMobile?'opacity-100':sidebarCollapsed?'opacity-0 w-0 overflow-hidden':'opacity-100'),children:[/*#__PURE__*/_jsx(AppLogo,{size:32,variant:\"minimal\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xl font-bold tracking-wide\",children:\"Untangle\"})]}),isMobile&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setMobileSidebarOpen(false),className:\"text-text-muted hover:text-text-primary transition-colors\",children:/*#__PURE__*/_jsx(X,{size:20})})]})}),isMobile&&!mobileSidebarOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-[rgba(255,255,255,0.2)] relative z-10\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setMobileSidebarOpen(true),className:\"w-full flex items-center justify-center space-x-2 bg-black text-text-muted hover:text-text-primary hover:bg-gray-800 transition-colors px-4 py-3 rounded-xl\",\"aria-label\":\"Open menu\",children:[/*#__PURE__*/_jsx(Menu,{size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Menu\"})]})}),/*#__PURE__*/_jsx(\"nav\",{className:cn(\"flex-1 transition-all duration-300 relative z-10\",isMobile?'p-4':sidebarCollapsed?'p-2':'p-4'),children:/*#__PURE__*/_jsx(\"div\",{className:cn(\"space-y-2\",isMobile?'space-y-3':sidebarCollapsed?'space-y-3':'space-y-2'),children:navigation.map(item=>{const Icon=item.icon;const isActive=location.pathname===item.href;return/*#__PURE__*/_jsx(Tooltip,{content:item.name,position:\"right\",delay:300,disabled:!sidebarCollapsed||isMobile,children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full\",children:/*#__PURE__*/_jsxs(\"a\",{href:item.href,onClick:()=>isMobile&&setMobileSidebarOpen(false),className:cn(\"w-full flex items-center rounded-xl transition-all duration-200 bg-black\",isMobile?\"justify-start space-x-3 px-4 py-3\":sidebarCollapsed?\"justify-center px-2 py-3\":\"justify-start space-x-3 px-4 py-3\",isActive?\"text-[#1E49C9] border border-[#1E49C9]/30\":\"text-text-secondary hover:text-text-primary hover:bg-gray-800\"),children:[/*#__PURE__*/_jsx(Icon,{size:20}),/*#__PURE__*/_jsx(\"span\",{className:cn(\"font-medium transition-all duration-300\",isMobile?'opacity-100':sidebarCollapsed?'opacity-0 w-0 overflow-hidden':'opacity-100'),children:item.name})]})})},item.name);})})}),false&&/*#__PURE__*/_jsx(\"div\",{className:cn(\"border-t border-[rgba(255,255,255,0.2)] transition-all duration-300 relative z-10\",isMobile?'p-4':sidebarCollapsed?'p-2':'p-4'),children:/*#__PURE__*/_jsx(Tooltip,{content:\"Chat with Alfred\",position:\"right\",delay:300,disabled:!sidebarCollapsed||isMobile,children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setAiChatOpen(true),className:cn(\"w-full flex items-center space-x-2 bg-[#1E49C9] text-text-inverse rounded-lg hover:bg-[#1E49C9]/90 transition-all duration-200 font-medium\",isMobile?'px-4 py-3':sidebarCollapsed?'justify-center px-2 py-3':'px-4 py-3'),\"aria-label\":\"Chat with Alfred\",children:[/*#__PURE__*/_jsx(Brain,{size:isMobile?16:18}),/*#__PURE__*/_jsx(\"span\",{className:cn(\"transition-all duration-300\",isMobile?'opacity-100':sidebarCollapsed?'opacity-0 w-0 overflow-hidden':'opacity-100'),children:\"Chat with Alfred\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:cn(\"border-t border-[rgba(255,255,255,0.2)] transition-all duration-300 relative z-10\",isMobile?'p-4':sidebarCollapsed?'p-2':'p-4'),children:/*#__PURE__*/_jsxs(\"div\",{onClick:()=>navigate('/profile'),role:\"button\",tabIndex:0,className:cn(\"w-full flex items-center rounded-xl bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.15)] backdrop-blur-[28px] backdrop-saturate-[140%] shadow-[inset_0_1px_0_rgba(255,255,255,0.15),0_4px_6px_-1px_rgba(0,0,0,0.1)] transition-all duration-300 text-left\",isMobile?'space-x-3 p-3':sidebarCollapsed?'justify-center p-2':'space-x-3 p-3'),\"aria-label\":\"Open profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full overflow-hidden bg-[#1E49C9] flex items-center justify-center\",children:user!==null&&user!==void 0&&user.profilePicture?/*#__PURE__*/_jsx(\"img\",{src:user.profilePicture,alt:\"Profile\",className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-sm font-semibold\",children:((user===null||user===void 0?void 0:(_user$firstName=user.firstName)===null||_user$firstName===void 0?void 0:_user$firstName[0])||(user===null||user===void 0?void 0:(_user$email=user.email)===null||_user$email===void 0?void 0:_user$email[0])||'U').toUpperCase()})}),/*#__PURE__*/_jsxs(\"div\",{className:cn(\"flex-1 min-w-0 transition-all duration-300\",isMobile?'opacity-100':sidebarCollapsed?'opacity-0 w-0 overflow-hidden':'opacity-100'),children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-text-primary truncate\",children:user!==null&&user!==void 0&&user.firstName||user!==null&&user!==void 0&&user.lastName?\"\".concat((user===null||user===void 0?void 0:user.firstName)||'',\" \").concat((user===null||user===void 0?void 0:user.lastName)||'').trim():(user===null||user===void 0?void 0:user.email)||'User'}),(user===null||user===void 0?void 0:user.bio)&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-text-muted truncate\",children:user.bio})]}),/*#__PURE__*/_jsx(Tooltip,{content:\"Logout\",position:\"right\",delay:300,disabled:!sidebarCollapsed||isMobile,children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleLogout();},type:\"button\",className:cn(\"bg-black text-text-muted hover:text-text-primary hover:bg-gray-800 transition-colors transition-all duration-300 rounded-lg p-2\",isMobile?'opacity-100':sidebarCollapsed?'opacity-0 w-0 overflow-hidden':'opacity-100'),\"aria-label\":\"Logout\",children:/*#__PURE__*/_jsx(LogOut,{size:16})})})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:cn(\"flex-1 flex flex-col overflow-hidden\",isMobile&&mobileSidebarOpen?'ml-0':''),children:/*#__PURE__*/_jsx(\"main\",{id:\"main-content\",className:\"flex-1 overflow-auto bg-background-primary safe-area-bottom\",children:/*#__PURE__*/_jsx(Outlet,{})})}),aiChatOpen&&/*#__PURE__*/_jsxs(\"div\",{className:cn(\"bg-background-secondary border-l border-border-primary flex flex-col\",isMobile?\"fixed right-0 top-0 h-full w-full z-50\":\"w-80\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-border-primary\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold \".concat(typography.fontFamily.display,\" tracking-wide\"),children:\"AI Assistant\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setAiChatOpen(false),className:\"text-text-muted hover:text-text-primary transition-colors\",\"aria-label\":\"Close AI chat\",children:/*#__PURE__*/_jsx(X,{size:20})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto p-4 space-y-4\",children:aiMessages.map((msg,index)=>/*#__PURE__*/_jsx(\"div\",{className:cn(\"flex\",msg.role==='user'?'justify-end':'justify-start'),children:/*#__PURE__*/_jsx(\"div\",{className:cn(\"px-4 py-2 rounded-2xl\",isMobile?\"max-w-[80%]\":\"max-w-xs\",msg.role==='user'?\"bg-[#1E49C9] text-text-inverse\":\"bg-background-tertiary text-text-primary\"),children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:msg.content})})},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t border-border-primary safe-area-bottom\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Ask Alfred anything...\",value:aiInput,onChange:e=>{setAiInput(e.target.value);},onKeyPress:e=>{if(e.key==='Enter'&&aiInput.trim()&&!aiLoading){e.preventDefault();handleAiMessage(aiInput);}},className:cn(\"input\",\"flex-1 min-h-[44px]\"),disabled:aiLoading}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{if(aiInput.trim()&&!aiLoading){handleAiMessage(aiInput);}},disabled:aiLoading||!aiInput.trim(),className:\"p-3 bg-[#1E49C9] text-text-inverse rounded-xl hover:bg-[#1E49C9]/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px] min-w-[44px]\",\"aria-label\":\"Send message\",children:/*#__PURE__*/_jsx(Send,{size:16})})]})})]})]})]});};export default Layout;","map":{"version":3,"names":["React","useState","useEffect","Outlet","useNavigate","useLocation","useAuth","X","Home","DollarSign","LogOut","Brain","Send","Target","Utensils","Menu","ChevronLeft","ChevronRight","BookOpen","cn","componentStyles","colors","typography","Logo","AppLogo","Tooltip","jsx","_jsx","jsxs","_jsxs","Layout","_user$firstName","_user$email","user","logout","navigate","location","aiChatOpen","setAiChatOpen","rightToolbarOpen","setRightToolbarOpen","sidebarCollapsed","setSidebarCollapsed","mobileSidebarOpen","setMobileSidebarOpen","isMobile","setIsMobile","aiMessages","setAiMessages","role","content","timestamp","Date","aiInput","setAiInput","aiLoading","setAiLoading","checkMobile","window","innerWidth","addEventListener","removeEventListener","navigation","name","href","icon","console","log","map","item","handleLogout","error","handleAiMessage","message","trim","userMessage","prev","token","localStorage","getItem","requestUrl","requestBody","requestHeaders","concat","response","fetch","method","headers","body","JSON","stringify","fetchError","ok","data","json","aiResponse","newMessages","status","errorText","text","fallbackResponse","stack","className","children","onClick","position","delay","disabled","size","variant","Icon","isActive","pathname","tabIndex","profilePicture","src","alt","firstName","email","toUpperCase","lastName","bio","e","stopPropagation","type","id","fontFamily","display","msg","index","placeholder","value","onChange","target","onKeyPress","key","preventDefault"],"sources":["/Users/priyas/Desktop/untangle-platform/src/components/Layout/Layout.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Outlet, useNavigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport {\n  X,\n  Home,\n  DollarSign,\n  LogOut,\n  Brain,\n  Send,\n  Target,\n  Utensils,\n  Menu,\n  ChevronLeft,\n  ChevronRight,\n  BookOpen,\n  \n} from 'lucide-react';\nimport { cn } from '../../utils/cn';\nimport { componentStyles, colors, typography } from '../../styles/designTokens';\nimport { Logo, AppLogo, Tooltip } from '../ui';\n\n\nconst Layout = () => {\n  const { user, logout } = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [aiChatOpen, setAiChatOpen] = useState(false);\n  const [rightToolbarOpen, setRightToolbarOpen] = useState(true);\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(true);\n  const [mobileSidebarOpen, setMobileSidebarOpen] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const [aiMessages, setAiMessages] = useState([\n    {\n      role: 'assistant',\n      content: 'Hi! I\\'m Alfred, your AI lifestyle assistant. How can I help you today?',\n      timestamp: new Date()\n    }\n  ]);\n  const [aiInput, setAiInput] = useState('');\n  const [aiLoading, setAiLoading] = useState(false);\n\n  // Mobile detection\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n      if (window.innerWidth >= 768) {\n        setMobileSidebarOpen(false);\n      }\n    };\n\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n\n\n  const navigation = [\n    { name: 'Overview', href: '/overview', icon: Home },\n    { name: 'Goals', href: '/goal-aligned-day', icon: Target },\n    { name: 'Food', href: '/food', icon: Utensils },\n    { name: 'Finance', href: '/finance', icon: DollarSign },\n    { name: 'Content', href: '/content', icon: Brain },\n    { name: 'Journal', href: '/journal', icon: BookOpen },\n  ];\n\n  // Debug log\n  console.log('Navigation items:', navigation.map(item => item.name));\n\n\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n      navigate('/login');\n    } catch (error) {\n      console.error('Logout error:', error);\n    }\n  };\n\n\n\n\n\n  const handleAiMessage = async (message) => {\n    if (!message.trim()) return;\n    \n    // Add user message\n    const userMessage = {\n      role: 'user',\n      content: message,\n      timestamp: new Date()\n    };\n    setAiMessages(prev => [...prev, userMessage]);\n    setAiInput('');\n    setAiLoading(true);\n    \n    try {\n      // Send message to AI chat API\n      const token = localStorage.getItem('token');\n      \n      const requestUrl = '/api/ai-chat/chat';\n      const requestBody = { message };\n      const requestHeaders = {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      };\n      \n      let response;\n      try {\n        response = await fetch(requestUrl, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify(requestBody)\n        });\n      } catch (fetchError) {\n        console.error('❌ Fetch request failed:', fetchError);\n        throw fetchError;\n      }\n      \n      if (response.ok) {\n        const data = await response.json();\n        \n        const aiResponse = {\n          role: 'assistant',\n          content: data.response || data.content || 'I understand. How else can I help?',\n          timestamp: new Date()\n        };\n        \n        setAiMessages(prev => {\n          const newMessages = [...prev, aiResponse];\n          return newMessages;\n        });\n      } else {\n        console.log('❌ Response not ok, status:', response.status);\n        const errorText = await response.text();\n        console.log('❌ Error response:', errorText);\n        \n        // Fallback response if API fails\n        const fallbackResponse = {\n          role: 'assistant',\n          content: 'I\\'m here to help! You can ask me to track expenses, add tasks, or get lifestyle insights.',\n          timestamp: new Date()\n        };\n        setAiMessages(prev => [...prev, fallbackResponse]);\n      }\n    } catch (error) {\n      console.error('❌ AI chat error:', error);\n      console.error('❌ Error details:', {\n        name: error.name,\n        message: error.message,\n        stack: error.stack\n      });\n      \n      // Fallback response on error\n      const fallbackResponse = {\n        role: 'assistant',\n        content: 'I\\'m experiencing some technical difficulties. Please try again in a moment.',\n        timestamp: new Date()\n      };\n      setAiMessages(prev => [...prev, fallbackResponse]);\n    } finally {\n      setAiLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background-primary text-text-primary\">\n      {/* Skip Link for Keyboard Navigation */}\n      <a href=\"#main-content\" className=\"skip-link\">\n        Skip to main content\n      </a>\n      {/* Mobile Sidebar Overlay */}\n      {isMobile && mobileSidebarOpen && (\n        <div \n          className=\"fixed inset-0 bg-black/50 z-40 lg:hidden\"\n          onClick={() => setMobileSidebarOpen(false)}\n        />\n      )}\n\n      {/* Main Layout */}\n      <div className=\"flex h-screen\">\n        {/* Left Sidebar */}\n        <div \n          className={cn(\n            \"bg-[rgba(0,0,0,0.2)] border-r border-[rgba(255,255,255,0.2)] flex flex-col transition-all duration-300 ease-in-out backdrop-blur-[32px] backdrop-saturate-[180%] shadow-[inset_0_1px_0_rgba(255,255,255,0.2),0_8px_32px_rgba(0,0,0,0.12),0_2px_8px_rgba(0,0,0,0.08)] relative overflow-hidden\",\n            isMobile \n              ? cn(\n                  \"fixed left-0 top-0 h-full z-50 transform transition-transform duration-300\",\n                  mobileSidebarOpen ? \"translate-x-0\" : \"-translate-x-full\"\n                )\n              : cn(\n                  sidebarCollapsed ? 'w-16' : 'w-64'\n                )\n          )}\n        >\n          {/* Glassmorphic Overlay */}\n          <div className=\"absolute inset-0 bg-gradient-to-b from-[rgba(255,255,255,0.1)] to-transparent pointer-events-none\"></div>\n          \n          {/* Logo */}\n          <div className={cn(\n            \"border-b border-[rgba(255,255,255,0.2)] transition-all duration-300 relative z-10\",\n            isMobile ? 'p-4' : sidebarCollapsed ? 'p-3' : 'p-6'\n          )}>\n            <div className={cn(\n              \"flex items-center transition-all duration-300\",\n              isMobile ? 'justify-between' : sidebarCollapsed ? 'justify-center' : 'space-x-3'\n            )}>\n              {!isMobile && (\n                <Tooltip\n                  content={sidebarCollapsed ? 'Expand sidebar' : 'Collapse sidebar'}\n                  position=\"right\"\n                  delay={300}\n                  disabled={!sidebarCollapsed}\n                >\n                  <div className=\"w-full\">\n                    <button\n                      onClick={() => setSidebarCollapsed(!sidebarCollapsed)}\n                      className=\"w-full flex items-center rounded-xl transition-all duration-200 bg-black text-white hover:text-gray-200 hover:bg-gray-800 px-2 py-3\"\n                    >\n                      {sidebarCollapsed ? (\n                        <ChevronRight className=\"w-5 h-5\" />\n                      ) : (\n                        <ChevronLeft className=\"w-5 h-5\" />\n                      )}\n                    </button>\n                  </div>\n                </Tooltip>\n              )}\n              <div className={cn(\n                \"flex items-center space-x-2 transition-all duration-300\",\n                isMobile ? 'opacity-100' : sidebarCollapsed ? 'opacity-0 w-0 overflow-hidden' : 'opacity-100'\n              )}>\n                <AppLogo size={32} variant=\"minimal\" />\n                <span className=\"text-xl font-bold tracking-wide\">\n                  Untangle\n                </span>\n              </div>\n              {isMobile && (\n                <button\n                  onClick={() => setMobileSidebarOpen(false)}\n                  className=\"text-text-muted hover:text-text-primary transition-colors\"\n                >\n                  <X size={20} />\n                </button>\n              )}\n            </div>\n          </div>\n\n          {/* Mobile Menu Button - Only visible on mobile when sidebar is closed */}\n          {isMobile && !mobileSidebarOpen && (\n            <div className=\"p-4 border-b border-[rgba(255,255,255,0.2)] relative z-10\">\n              <button\n                onClick={() => setMobileSidebarOpen(true)}\n                className=\"w-full flex items-center justify-center space-x-2 bg-black text-text-muted hover:text-text-primary hover:bg-gray-800 transition-colors px-4 py-3 rounded-xl\"\n                aria-label=\"Open menu\"\n              >\n                <Menu size={20} />\n                <span className=\"font-medium\">Menu</span>\n              </button>\n            </div>\n          )}\n\n          {/* Navigation */}\n          <nav className={cn(\n            \"flex-1 transition-all duration-300 relative z-10\",\n            isMobile ? 'p-4' : sidebarCollapsed ? 'p-2' : 'p-4'\n          )}>\n            <div className={cn(\n              \"space-y-2\",\n              isMobile ? 'space-y-3' : sidebarCollapsed ? 'space-y-3' : 'space-y-2'\n            )}>\n              {navigation.map((item) => {\n                const Icon = item.icon;\n                const isActive = location.pathname === item.href;\n                \n                return (\n                  <Tooltip\n                    key={item.name}\n                    content={item.name}\n                    position=\"right\"\n                    delay={300}\n                    disabled={!sidebarCollapsed || isMobile}\n                  >\n                    <div className=\"w-full\">\n                      <a\n                        href={item.href}\n                        onClick={() => isMobile && setMobileSidebarOpen(false)}\n                        className={cn(\n                          \"w-full flex items-center rounded-xl transition-all duration-200 bg-black\",\n                          isMobile \n                            ? \"justify-start space-x-3 px-4 py-3\" \n                            : sidebarCollapsed \n                              ? \"justify-center px-2 py-3\" \n                              : \"justify-start space-x-3 px-4 py-3\",\n                          isActive\n                            ? \"text-[#1E49C9] border border-[#1E49C9]/30\"\n                            : \"text-text-secondary hover:text-text-primary hover:bg-gray-800\"\n                        )}\n                      >\n                        <Icon size={20} />\n                        <span className={cn(\n                          \"font-medium transition-all duration-300\",\n                          isMobile ? 'opacity-100' : sidebarCollapsed ? 'opacity-0 w-0 overflow-hidden' : 'opacity-100'\n                        )}>\n                          {item.name}\n                        </span>\n                      </a>\n                    </div>\n                  </Tooltip>\n                );\n              })}\n            </div>\n          </nav>\n\n          {/* Chat with Alfred Button - Hidden for now */}\n          {false && (\n            <div className={cn(\n              \"border-t border-[rgba(255,255,255,0.2)] transition-all duration-300 relative z-10\",\n              isMobile ? 'p-4' : sidebarCollapsed ? 'p-2' : 'p-4'\n            )}>\n              <Tooltip\n                content=\"Chat with Alfred\"\n                position=\"right\"\n                delay={300}\n                disabled={!sidebarCollapsed || isMobile}\n              >\n                <button\n                  onClick={() => setAiChatOpen(true)}\n                  className={cn(\n                    \"w-full flex items-center space-x-2 bg-[#1E49C9] text-text-inverse rounded-lg hover:bg-[#1E49C9]/90 transition-all duration-200 font-medium\",\n                    isMobile ? 'px-4 py-3' : sidebarCollapsed ? 'justify-center px-2 py-3' : 'px-4 py-3'\n                  )}\n                  aria-label=\"Chat with Alfred\"\n                >\n                  <Brain size={isMobile ? 16 : 18} />\n                  <span className={cn(\n                    \"transition-all duration-300\",\n                    isMobile ? 'opacity-100' : sidebarCollapsed ? 'opacity-0 w-0 overflow-hidden' : 'opacity-100'\n                  )}>\n                    Chat with Alfred\n                  </span>\n                </button>\n              </Tooltip>\n            </div>\n          )}\n\n          {/* User Section */}\n          <div className={cn(\n            \"border-t border-[rgba(255,255,255,0.2)] transition-all duration-300 relative z-10\",\n            isMobile ? 'p-4' : sidebarCollapsed ? 'p-2' : 'p-4'\n          )}>\n            <div\n              onClick={() => navigate('/profile')}\n              role=\"button\"\n              tabIndex={0}\n              className={cn(\n                \"w-full flex items-center rounded-xl bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.15)] backdrop-blur-[28px] backdrop-saturate-[140%] shadow-[inset_0_1px_0_rgba(255,255,255,0.15),0_4px_6px_-1px_rgba(0,0,0,0.1)] transition-all duration-300 text-left\",\n                isMobile ? 'space-x-3 p-3' : sidebarCollapsed ? 'justify-center p-2' : 'space-x-3 p-3'\n              )}\n              aria-label=\"Open profile\"\n            >\n              <div className=\"w-8 h-8 rounded-full overflow-hidden bg-[#1E49C9] flex items-center justify-center\">\n                {user?.profilePicture ? (\n                  <img src={user.profilePicture} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n                ) : (\n                  <span className=\"text-white text-sm font-semibold\">\n                    {(user?.firstName?.[0] || user?.email?.[0] || 'U').toUpperCase()}\n                  </span>\n                )}\n              </div>\n              <div className={cn(\n                \"flex-1 min-w-0 transition-all duration-300\",\n                isMobile ? 'opacity-100' : sidebarCollapsed ? 'opacity-0 w-0 overflow-hidden' : 'opacity-100'\n              )}>\n                <p className=\"text-sm font-medium text-text-primary truncate\">\n                  {user?.firstName || user?.lastName ? `${user?.firstName || ''} ${user?.lastName || ''}`.trim() : (user?.email || 'User')}\n                </p>\n                {user?.bio && (\n                  <p className=\"text-xs text-text-muted truncate\">\n                    {user.bio}\n                  </p>\n                )}\n              </div>\n              <Tooltip\n                content=\"Logout\"\n                position=\"right\"\n                delay={300}\n                disabled={!sidebarCollapsed || isMobile}\n              >\n                <div>\n                  <button\n                    onClick={(e) => { e.stopPropagation(); handleLogout(); }}\n                    type=\"button\"\n                    className={cn(\n                      \"bg-black text-text-muted hover:text-text-primary hover:bg-gray-800 transition-colors transition-all duration-300 rounded-lg p-2\",\n                      isMobile ? 'opacity-100' : sidebarCollapsed ? 'opacity-0 w-0 overflow-hidden' : 'opacity-100'\n                    )}\n                    aria-label=\"Logout\"\n                  >\n                    <LogOut size={16} />\n                  </button>\n                </div>\n              </Tooltip>\n            </div>\n          </div>\n        </div>\n\n        {/* Main Content */}\n        <div className={cn(\n          \"flex-1 flex flex-col overflow-hidden\",\n          isMobile && mobileSidebarOpen ? 'ml-0' : ''\n        )}>\n\n          {/* Page Content */}\n          <main id=\"main-content\" className=\"flex-1 overflow-auto bg-background-primary safe-area-bottom\">\n            <Outlet />\n          </main>\n        </div>\n\n        {/* Right Sidebar - AI Chat */}\n        {aiChatOpen && (\n          <div className={cn(\n            \"bg-background-secondary border-l border-border-primary flex flex-col\",\n            isMobile ? \"fixed right-0 top-0 h-full w-full z-50\" : \"w-80\"\n          )}>\n            {/* AI Chat Header */}\n            <div className=\"p-4 border-b border-border-primary\">\n              <div className=\"flex items-center justify-between\">\n                <h3 className={`text-lg font-semibold ${typography.fontFamily.display} tracking-wide`}>\n                  AI Assistant\n                </h3>\n                <button\n                  onClick={() => setAiChatOpen(false)}\n                  className=\"text-text-muted hover:text-text-primary transition-colors\"\n                  aria-label=\"Close AI chat\"\n                >\n                  <X size={20} />\n                </button>\n              </div>\n            </div>\n\n            {/* AI Chat Messages */}\n            <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n              {aiMessages.map((msg, index) => (\n                <div\n                  key={index}\n                  className={cn(\n                    \"flex\",\n                    msg.role === 'user' ? 'justify-end' : 'justify-start'\n                  )}\n                >\n                  <div\n                    className={cn(\n                      \"px-4 py-2 rounded-2xl\",\n                      isMobile ? \"max-w-[80%]\" : \"max-w-xs\",\n                      msg.role === 'user'\n                        ? \"bg-[#1E49C9] text-text-inverse\"\n                        : \"bg-background-tertiary text-text-primary\"\n                    )}\n                  >\n                    <p className=\"text-sm\">{msg.content}</p>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {/* AI Chat Input */}\n            <div className=\"p-4 border-t border-border-primary safe-area-bottom\">\n              <div className=\"flex space-x-2\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Ask Alfred anything...\"\n                  value={aiInput}\n                  onChange={(e) => {\n                    setAiInput(e.target.value);\n                  }}\n                  onKeyPress={(e) => {\n                    if (e.key === 'Enter' && aiInput.trim() && !aiLoading) {\n                      e.preventDefault();\n                      handleAiMessage(aiInput);\n                    }\n                  }}\n                  className={cn(\n                    \"input\",\n                    \"flex-1 min-h-[44px]\"\n                  )}\n                  disabled={aiLoading}\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    if (aiInput.trim() && !aiLoading) {\n                      handleAiMessage(aiInput);\n                    }\n                  }}\n                  disabled={aiLoading || !aiInput.trim()}\n                  className=\"p-3 bg-[#1E49C9] text-text-inverse rounded-xl hover:bg-[#1E49C9]/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px] min-w-[44px]\"\n                  aria-label=\"Send message\"\n                >\n                  <Send size={16} />\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Layout;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}