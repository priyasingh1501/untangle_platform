{"ast":null,"code":"import React,{useState}from'react';import{motion,AnimatePresence}from'framer-motion';import{Trash2,Edit3,Save,X}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MealItems=_ref=>{let{items,onRemoveFood,onUpdatePortion}=_ref;const[editingId,setEditingId]=useState(null);const[editValue,setEditValue]=useState('');const[editUnit,setEditUnit]=useState('grams');const handleEdit=item=>{setEditingId(item.foodId);setEditValue(item.grams.toString());setEditUnit('grams');};const handleSave=item=>{let grams=parseFloat(editValue);// Convert traditional units to grams if needed\nif(editUnit!=='grams'&&item.food&&item.food.portionUnits){const unit=item.food.portionUnits.find(u=>u.unit===editUnit);if(unit){grams=unit.grams*parseFloat(editValue);}}if(!isNaN(grams)&&grams>0){onUpdatePortion(item.foodId,grams);setEditingId(null);setEditValue('');}};const handleCancel=()=>{setEditingId(null);setEditValue('');};// Indian portion units with their gram equivalents\nconst indianPortionUnits=[{unit:'katori',label:'Katori',grams:80,description:'Small bowl'},{unit:'bowl',label:'Bowl',grams:150,description:'Medium bowl'},{unit:'piece',label:'Piece',grams:50,description:'Standard piece'},{unit:'spoon',label:'Spoon',grams:15,description:'Tablespoon'},{unit:'roti',label:'Roti',grams:45,description:'Flatbread'},{unit:'idli',label:'Idli',grams:120,description:'Steamed rice cake'},{unit:'cup',label:'Cup',grams:200,description:'Standard cup'},{unit:'handful',label:'Handful',grams:30,description:'Handful'}];const getAvailableUnits=item=>{// Always include Indian portion units\nconst units=[...indianPortionUnits];// Add grams as an option\nunits.push({unit:'grams',description:'Grams'});// Add any custom portion units from the food item\nif(item.food&&item.food.portionUnits){item.food.portionUnits.forEach(unit=>{if(!units.find(u=>u.unit===unit.unit)){units.push({unit:unit.unit,description:\"\".concat(unit.description,\" (\").concat(unit.grams,\"g)\")});}});}return units;};const getDisplayPortion=item=>{const grams=item.grams;// If there's a selected unit, show it prominently\nif(item.selectedUnit){const quantity=item.grams/item.selectedUnit.grams;if(quantity>=0.5&&quantity<=5){return\"\".concat(quantity.toFixed(quantity%1===0?0:1),\" \").concat(item.selectedUnit.unit,\" (\").concat(item.grams,\"g)\");}}// Try to find a nice Indian portion unit representation\nfor(const unit of indianPortionUnits){const quantity=grams/unit.grams;if(quantity>=0.5&&quantity<=5){return\"\".concat(quantity.toFixed(quantity%1===0?0:1),\" \").concat(unit.unit,\" (\").concat(grams,\"g)\");}}// Try to find a nice traditional unit representation from the food item\nif(item.food&&item.food.portionUnits){for(const unit of item.food.portionUnits){if(unit.unit!=='grams'){const quantity=grams/unit.grams;if(quantity>=0.5&&quantity<=5){return\"\".concat(quantity.toFixed(quantity%1===0?0:1),\" \").concat(unit.unit,\" (\").concat(grams,\"g)\");}}}}return\"\".concat(grams,\"g\");};if(items.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-[#6B7280]\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"No food items added yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mt-2\",children:\"Search and add foods to build your meal\"})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:/*#__PURE__*/_jsx(AnimatePresence,{children:items.map(item=>{var _item$food;return/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:\"bg-[#0A0C0F] border border-[#2A313A] rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-[#E8EEF2] mb-2\",children:item.customName||((_item$food=item.food)===null||_item$food===void 0?void 0:_item$food.name)||'Unknown Food'}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-[#C9D1D9] mb-2\",children:[\"Current: \",getDisplayPortion(item)]}),item.selectedUnit&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 bg-[#FFD200]/20 text-[#FFD200] text-xs rounded-full border border-[#FFD200]/50\",children:[item.selectedUnit.unit,\" selected\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-[#C9D1D9] mt-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-[#FFD200] font-medium\",children:\"Portion:\"}),\" \",getDisplayPortion(item)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2 ml-4\",children:editingId===item.foodId?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editValue,onChange:e=>setEditValue(e.target.value),className:\"w-20 px-2 py-1 bg-[#0A0C0F] border border-[#2A313A] rounded text-[#E8EEF2] text-sm\",placeholder:\"Amount\",min:\"0\",step:\"0.1\"}),/*#__PURE__*/_jsx(\"select\",{value:editUnit,onChange:e=>setEditUnit(e.target.value),className:\"px-2 py-1 bg-[#0A0C0F] border border-[#2A313A] rounded text-[#E8EEF2] text-sm\",children:getAvailableUnits(item).map(unit=>/*#__PURE__*/_jsx(\"option\",{value:unit.unit,children:unit.unit},unit.unit))}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSave(item),className:\"p-2 bg-[#1E49C9] text-white rounded hover:bg-[#1E49C9]/80 transition-colors\",title:\"Save changes\",children:/*#__PURE__*/_jsx(Save,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCancel,className:\"p-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors\",title:\"Cancel\",children:/*#__PURE__*/_jsx(X,{className:\"h-4 w-4\"})})]})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(item),className:\"p-2 bg-[#2A313A] text-[#C9D1D9] rounded hover:bg-[#3A414A] transition-colors\",title:\"Edit portion\",children:/*#__PURE__*/_jsx(Edit3,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onRemoveFood(item.foodId),className:\"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\",title:\"Remove food\",children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})]})})]})},item.foodId);})})});};export default MealItems;","map":{"version":3,"names":["React","useState","motion","AnimatePresence","Trash2","Edit3","Save","X","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MealItems","_ref","items","onRemoveFood","onUpdatePortion","editingId","setEditingId","editValue","setEditValue","editUnit","setEditUnit","handleEdit","item","foodId","grams","toString","handleSave","parseFloat","food","portionUnits","unit","find","u","isNaN","handleCancel","indianPortionUnits","label","description","getAvailableUnits","units","push","forEach","concat","getDisplayPortion","selectedUnit","quantity","toFixed","length","className","children","map","_item$food","div","initial","opacity","y","animate","exit","customName","name","type","value","onChange","e","target","placeholder","min","step","onClick","title"],"sources":["/Users/priyas/Desktop/untangle-platform/src/components/meal/MealItems.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Trash2, Edit3, Save, X } from 'lucide-react';\n\n\nconst MealItems = ({ items, onRemoveFood, onUpdatePortion }) => {\n  const [editingId, setEditingId] = useState(null);\n  const [editValue, setEditValue] = useState('');\n  const [editUnit, setEditUnit] = useState('grams');\n\n  const handleEdit = (item) => {\n    setEditingId(item.foodId);\n    setEditValue(item.grams.toString());\n    setEditUnit('grams');\n  };\n\n  const handleSave = (item) => {\n    let grams = parseFloat(editValue);\n    \n    // Convert traditional units to grams if needed\n    if (editUnit !== 'grams' && item.food && item.food.portionUnits) {\n      const unit = item.food.portionUnits.find(u => u.unit === editUnit);\n      if (unit) {\n        grams = unit.grams * parseFloat(editValue);\n      }\n    }\n    \n    if (!isNaN(grams) && grams > 0) {\n      onUpdatePortion(item.foodId, grams);\n      setEditingId(null);\n      setEditValue('');\n    }\n  };\n\n  const handleCancel = () => {\n    setEditingId(null);\n    setEditValue('');\n  };\n\n  // Indian portion units with their gram equivalents\n  const indianPortionUnits = [\n    { unit: 'katori', label: 'Katori', grams: 80, description: 'Small bowl' },\n    { unit: 'bowl', label: 'Bowl', grams: 150, description: 'Medium bowl' },\n    { unit: 'piece', label: 'Piece', grams: 50, description: 'Standard piece' },\n    { unit: 'spoon', label: 'Spoon', grams: 15, description: 'Tablespoon' },\n    { unit: 'roti', label: 'Roti', grams: 45, description: 'Flatbread' },\n    { unit: 'idli', label: 'Idli', grams: 120, description: 'Steamed rice cake' },\n    { unit: 'cup', label: 'Cup', grams: 200, description: 'Standard cup' },\n    { unit: 'handful', label: 'Handful', grams: 30, description: 'Handful' }\n  ];\n\n  const getAvailableUnits = (item) => {\n    // Always include Indian portion units\n    const units = [...indianPortionUnits];\n    \n    // Add grams as an option\n    units.push({ unit: 'grams', description: 'Grams' });\n    \n    // Add any custom portion units from the food item\n    if (item.food && item.food.portionUnits) {\n      item.food.portionUnits.forEach(unit => {\n        if (!units.find(u => u.unit === unit.unit)) {\n          units.push({\n            unit: unit.unit,\n            description: `${unit.description} (${unit.grams}g)`\n          });\n        }\n      });\n    }\n    \n    return units;\n  };\n\n  const getDisplayPortion = (item) => {\n    const grams = item.grams;\n    \n    // If there's a selected unit, show it prominently\n    if (item.selectedUnit) {\n      const quantity = item.grams / item.selectedUnit.grams;\n      if (quantity >= 0.5 && quantity <= 5) {\n        return `${quantity.toFixed(quantity % 1 === 0 ? 0 : 1)} ${item.selectedUnit.unit} (${item.grams}g)`;\n      }\n    }\n    \n    // Try to find a nice Indian portion unit representation\n    for (const unit of indianPortionUnits) {\n      const quantity = grams / unit.grams;\n      if (quantity >= 0.5 && quantity <= 5) {\n        return `${quantity.toFixed(quantity % 1 === 0 ? 0 : 1)} ${unit.unit} (${grams}g)`;\n      }\n    }\n    \n    // Try to find a nice traditional unit representation from the food item\n    if (item.food && item.food.portionUnits) {\n      for (const unit of item.food.portionUnits) {\n        if (unit.unit !== 'grams') {\n          const quantity = grams / unit.grams;\n          if (quantity >= 0.5 && quantity <= 5) {\n            return `${quantity.toFixed(quantity % 1 === 0 ? 0 : 1)} ${unit.unit} (${grams}g)`;\n          }\n        }\n      }\n    }\n    \n    return `${grams}g`;\n  };\n\n  if (items.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-[#6B7280]\">\n        <p>No food items added yet</p>\n        <p className=\"text-sm mt-2\">Search and add foods to build your meal</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      <AnimatePresence>\n        {items.map((item) => (\n          <motion.div\n            key={item.foodId}\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -20 }}\n            className=\"bg-[#0A0C0F] border border-[#2A313A] rounded-lg p-4\"\n          >\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex-1\">\n                <h4 className=\"font-semibold text-[#E8EEF2] mb-2\">\n                  {item.customName || item.food?.name || 'Unknown Food'}\n                </h4>\n                \n                {/* Current portion display */}\n                <div className=\"text-sm text-[#C9D1D9] mb-2\">\n                  Current: {getDisplayPortion(item)}\n                </div>\n                \n                {/* Selected unit indicator */}\n                {item.selectedUnit && (\n                  <div className=\"mb-2\">\n                    <span className=\"inline-flex items-center px-2 py-1 bg-[#FFD200]/20 text-[#FFD200] text-xs rounded-full border border-[#FFD200]/50\">\n                      {item.selectedUnit.unit} selected\n                    </span>\n                  </div>\n                )}\n                \n                {/* Portion info - showing Indian portion units */}\n                <div className=\"text-sm text-[#C9D1D9] mt-2\">\n                  <span className=\"text-[#FFD200] font-medium\">Portion:</span> {getDisplayPortion(item)}\n                </div>\n              </div>\n              \n              {/* Action buttons */}\n              <div className=\"flex items-center space-x-2 ml-4\">\n                {editingId === item.foodId ? (\n                  <>\n                    {/* Edit mode */}\n                    <div className=\"flex items-center space-x-2\">\n                      <input\n                        type=\"number\"\n                        value={editValue}\n                        onChange={(e) => setEditValue(e.target.value)}\n                        className=\"w-20 px-2 py-1 bg-[#0A0C0F] border border-[#2A313A] rounded text-[#E8EEF2] text-sm\"\n                        placeholder=\"Amount\"\n                        min=\"0\"\n                        step=\"0.1\"\n                      />\n                      <select\n                        value={editUnit}\n                        onChange={(e) => setEditUnit(e.target.value)}\n                        className=\"px-2 py-1 bg-[#0A0C0F] border border-[#2A313A] rounded text-[#E8EEF2] text-sm\"\n                      >\n                        {getAvailableUnits(item).map((unit) => (\n                          <option key={unit.unit} value={unit.unit}>\n                            {unit.unit}\n                          </option>\n                        ))}\n                      </select>\n                      <button\n                        onClick={() => handleSave(item)}\n                        className=\"p-2 bg-[#1E49C9] text-white rounded hover:bg-[#1E49C9]/80 transition-colors\"\n                        title=\"Save changes\"\n                      >\n                        <Save className=\"h-4 w-4\" />\n                      </button>\n                      <button\n                        onClick={handleCancel}\n                        className=\"p-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors\"\n                        title=\"Cancel\"\n                      >\n                        <X className=\"h-4 w-4\" />\n                      </button>\n                    </div>\n                  </>\n                ) : (\n                  <>\n                    {/* View mode */}\n                    <button\n                      onClick={() => handleEdit(item)}\n                      className=\"p-2 bg-[#2A313A] text-[#C9D1D9] rounded hover:bg-[#3A414A] transition-colors\"\n                      title=\"Edit portion\"\n                    >\n                      <Edit3 className=\"h-4 w-4\" />\n                    </button>\n                    <button\n                      onClick={() => onRemoveFood(item.foodId)}\n                      className=\"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\"\n                      title=\"Remove food\"\n                    >\n                      <Trash2 className=\"h-4 w-4\" />\n                    </button>\n                  </>\n                )}\n              </div>\n            </div>\n          </motion.div>\n        ))}\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default MealItems;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}