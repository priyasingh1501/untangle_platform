{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{QueryClient,QueryClientProvider}from'react-query';import{Toaster}from'react-hot-toast';import{AuthProvider,useAuth}from'./contexts/AuthContext';import Layout from'./components/Layout/Layout';import{PWAInstall,MobileNav,MobileInstallGuide}from'./components/ui';import Dashboard from'./pages/Dashboard';import Finance from'./pages/Finance';import Journal from'./pages/Journal';import Content from'./pages/Content';import GoalAlignedDay from'./pages/GoalAlignedDay';import Food from'./pages/Food';import AiChat from'./pages/AiChat';import Profile from'./pages/Profile';import Login from'./pages/Auth/Login';import Register from'./pages/Auth/Register';import'./index.css';// Create a client\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const queryClient=new QueryClient({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:false}}});// Protected Route Component\nconst ProtectedRoute=_ref=>{let{children}=_ref;const{user,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"})});}if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}return children;};// Auth-only Route: requires authentication\nconst AuthOnlyRoute=_ref2=>{let{children}=_ref2;const{user,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"})});}if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}return children;};// Public Route Component (redirects to dashboard if already logged in)\nconst PublicRoute=_ref3=>{let{children}=_ref3;const{user,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"})});}if(user){return/*#__PURE__*/_jsx(Navigate,{to:\"/overview\",replace:true});}return children;};function App(){console.log('üîç App: Component rendered');return/*#__PURE__*/_jsx(QueryClientProvider,{client:queryClient,children:/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",toastOptions:{duration:4000,className:'glass-toast',style:{background:'rgba(255, 255, 255, 0.06)',border:'1px solid rgba(255, 255, 255, 0.25)',backdropFilter:'blur(28px) saturate(140%)',WebkitBackdropFilter:'blur(28px) saturate(140%)',color:'#E8EEF2',boxShadow:'inset 0 1px 0 rgba(255, 255, 255, 0.15), 0 4px 6px -1px rgba(0, 0, 0, 0.1)'},success:{duration:3000,className:'glass-toast',iconTheme:{primary:'#1E49C9',secondary:'#E8EEF2'}},error:{duration:5000,className:'glass-toast glass-toast-error',iconTheme:{primary:'#FF6B6B',secondary:'#E8EEF2'}}}}),/*#__PURE__*/_jsx(PWAInstall,{}),/*#__PURE__*/_jsx(MobileNav,{}),/*#__PURE__*/_jsx(MobileInstallGuide,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(PublicRoute,{children:/*#__PURE__*/_jsx(Login,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(PublicRoute,{children:/*#__PURE__*/_jsx(Register,{})})}),/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{})}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Navigate,{to:\"/overview\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"overview\",element:/*#__PURE__*/_jsx(Dashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"finance\",element:/*#__PURE__*/_jsx(Finance,{})}),/*#__PURE__*/_jsx(Route,{path:\"journal\",element:/*#__PURE__*/_jsx(Journal,{})}),/*#__PURE__*/_jsx(Route,{path:\"content\",element:/*#__PURE__*/_jsx(Content,{})}),/*#__PURE__*/_jsx(Route,{path:\"goal-aligned-day\",element:/*#__PURE__*/_jsx(GoalAlignedDay,{})}),/*#__PURE__*/_jsx(Route,{path:\"food\",element:/*#__PURE__*/_jsx(Food,{})}),/*#__PURE__*/_jsx(Route,{path:\"ai-chat\",element:/*#__PURE__*/_jsx(AiChat,{})}),/*#__PURE__*/_jsx(Route,{path:\"profile\",element:/*#__PURE__*/_jsx(Profile,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/overview\",replace:true})})]})]})})})});}export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","QueryClient","QueryClientProvider","Toaster","AuthProvider","useAuth","Layout","PWAInstall","MobileNav","MobileInstallGuide","Dashboard","Finance","Journal","Content","GoalAlignedDay","Food","AiChat","Profile","Login","Register","jsx","_jsx","jsxs","_jsxs","queryClient","defaultOptions","queries","retry","refetchOnWindowFocus","ProtectedRoute","_ref","children","user","loading","className","to","replace","AuthOnlyRoute","_ref2","PublicRoute","_ref3","App","console","log","client","position","toastOptions","duration","style","background","border","backdropFilter","WebkitBackdropFilter","color","boxShadow","success","iconTheme","primary","secondary","error","path","element","index"],"sources":["/Users/priyas/Desktop/untangle-platform/src/App.jsx"],"sourcesContent":["import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { Toaster } from 'react-hot-toast';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport Layout from './components/Layout/Layout';\nimport { PWAInstall, MobileNav, MobileInstallGuide } from './components/ui';\nimport Dashboard from './pages/Dashboard';\nimport Finance from './pages/Finance';\nimport Journal from './pages/Journal';\nimport Content from './pages/Content';\nimport GoalAlignedDay from './pages/GoalAlignedDay';\nimport Food from './pages/Food';\nimport AiChat from './pages/AiChat';\nimport Profile from './pages/Profile';\nimport Login from './pages/Auth/Login';\nimport Register from './pages/Auth/Register';\nimport './index.css';\n\n// Create a client\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      retry: 1,\n      refetchOnWindowFocus: false,\n    },\n  },\n});\n\n// Protected Route Component\nconst ProtectedRoute = ({ children }) => {\n  const { user, loading } = useAuth();\n  \n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"></div>\n      </div>\n    );\n  }\n  \n  if (!user) {\n    return <Navigate to=\"/login\" replace />;\n  }\n  \n  \n  return children;\n};\n\n// Auth-only Route: requires authentication\nconst AuthOnlyRoute = ({ children }) => {\n  const { user, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"></div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  return children;\n};\n\n// Public Route Component (redirects to dashboard if already logged in)\nconst PublicRoute = ({ children }) => {\n  const { user, loading } = useAuth();\n  \n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"></div>\n      </div>\n    );\n  }\n  \n  if (user) {\n    return <Navigate to=\"/overview\" replace />;\n  }\n  \n  return children;\n};\n\nfunction App() {\n  console.log('üîç App: Component rendered');\n  \n  return (\n    <QueryClientProvider client={queryClient}>\n      <AuthProvider>\n        <Router>\n          <div className=\"App\">\n                        <Toaster\n              position=\"top-right\"\n              toastOptions={{\n                duration: 4000,\n                className: 'glass-toast',\n                style: {\n                  background: 'rgba(255, 255, 255, 0.06)',\n                  border: '1px solid rgba(255, 255, 255, 0.25)',\n                  backdropFilter: 'blur(28px) saturate(140%)',\n                  WebkitBackdropFilter: 'blur(28px) saturate(140%)',\n                  color: '#E8EEF2',\n                  boxShadow: 'inset 0 1px 0 rgba(255, 255, 255, 0.15), 0 4px 6px -1px rgba(0, 0, 0, 0.1)',\n                },\n                success: {\n                  duration: 3000,\n                  className: 'glass-toast',\n                  iconTheme: {\n                    primary: '#1E49C9',\n                    secondary: '#E8EEF2',\n                  },\n                },\n                error: {\n                  duration: 5000,\n                  className: 'glass-toast glass-toast-error',\n                  iconTheme: {\n                    primary: '#FF6B6B',\n                    secondary: '#E8EEF2',\n                  },\n                },\n              }}\n            />\n            \n            {/* PWA Install Prompt */}\n            <PWAInstall />\n            \n            {/* Mobile Navigation */}\n            <MobileNav />\n            \n            {/* Mobile Install Guide */}\n            <MobileInstallGuide />\n            \n            <Routes>\n              {/* Public Routes */}\n              <Route path=\"/login\" element={\n                <PublicRoute>\n                  <Login />\n                </PublicRoute>\n              } />\n              <Route path=\"/register\" element={\n                <PublicRoute>\n                  <Register />\n                </PublicRoute>\n              } />\n              \n                \n              {/* Protected Routes */}\n              <Route path=\"/\" element={\n                <ProtectedRoute>\n                  <Layout />\n                </ProtectedRoute>\n              }>\n                <Route index element={<Navigate to=\"/overview\" replace />} />\n                <Route path=\"overview\" element={<Dashboard />} />\n                <Route path=\"finance\" element={<Finance />} />\n                <Route path=\"journal\" element={<Journal />} />\n                <Route path=\"content\" element={<Content />} />\n                <Route path=\"goal-aligned-day\" element={<GoalAlignedDay />} />\n                <Route path=\"food\" element={<Food />} />\n                <Route path=\"ai-chat\" element={<AiChat />} />\n                <Route path=\"profile\" element={<Profile />} />\n              </Route>\n              \n              {/* Catch all route */}\n              <Route path=\"*\" element={<Navigate to=\"/overview\" replace />} />\n            </Routes>\n          </div>\n        </Router>\n      </AuthProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}